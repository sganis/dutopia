import"../chunks/DsnmJJEf.js";import{d as Pt,o as Yt,s as X,e as ye}from"../chunks/BJF-hzWP.js";import{x as Xe,ah as gt,ai as Jt,e as wt,b as Zt,aj as yt,s as je,h as V,F as Gt,a as Kt,ab as a,ak as Xt,r as Wt,H as Qt,c as dt,d as qe,k as de,G as ea,L as ta,f as Ge,i as aa,al as Ae,am as ze,g as le,an as vt,ao as ra,ap as ct,P as xt,j as kt,p as sa,aq as ia,ar as Ve,B as na,as as Et,at as la,J as oa,au as ua,O as da,av as va,z as ca,aw as At,ax as fa,A as _a,ay as pa,az as ha,aA as ba,aB as ma,aC as ga,aD as wa,aE as ya,a7 as xa,$ as ka,aF as Ea,aG as Aa,R as za,aH as R,aI as ve,l as J,af as ft,q as m,o as E,aJ as M,ag as ne,n as j,V as Ma,t as p,aK as q,aL as _t,aM as Sa,aN as Pe}from"../chunks/DMJYy8de.js";import{i as xe}from"../chunks/DfYykhIn.js";const Ca=[];function Fa(e,t=!1,r=!1){return Ee(e,new Map,"",Ca,null,r)}function Ee(e,t,r,n,i=null,l=!1){if(typeof e=="object"&&e!==null){var u=t.get(e);if(u!==void 0)return u;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Xe(e)){var _=Array(e.length);t.set(e,_),i!==null&&t.set(i,_);for(var h=0;h<e.length;h+=1){var F=e[h];h in e&&(_[h]=Ee(F,t,r,n,null,l))}return _}if(gt(e)===Jt){_={},t.set(e,_),i!==null&&t.set(i,_);for(var A in e)_[A]=Ee(e[A],t,r,n,null,l);return _}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!l)return Ee(e.toJSON(),t,r,n,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function ke(e,t){return t}function Ba(e,t,r){for(var n=e.items,i=[],l=t.length,u=0;u<l;u++)ua(t[u].e,i,!0);var _=l>0&&i.length===0&&r!==null;if(_){var h=r.parentNode;da(h),h.append(r),n.clear(),Z(e,t[0].prev,t[l-1].next)}va(i,()=>{for(var F=0;F<l;F++){var A=t[F];_||(n.delete(A.k),Z(e,A.prev,A.next)),Et(A.e,!_)}})}function ce(e,t,r,n,i,l=null){var u=e,_={flags:t,items:new Map,first:null},h=(t&yt)!==0;if(h){var F=e;u=V?je(Gt(F)):F.appendChild(wt())}V&&Kt();var A=null,T=!1,L=new Map,G=Xt(()=>{var v=r();return Xe(v)?v:v==null?[]:xt(v)}),d,z;function x(){Da(z,d,_,L,u,i,t,n,r),l!==null&&(d.length===0?A?kt(A):A=Ge(()=>l(u)):A!==null&&sa(A,()=>{A=null}))}Zt(()=>{z??=ca,d=a(G);var v=d.length;if(T&&v===0)return;T=v===0;let O=!1;if(V){var H=Wt(u)===Qt;H!==(v===0)&&(u=dt(),je(u),qe(!1),O=!0)}if(V){for(var P=null,B,f=0;f<v;f++){if(de.nodeType===ea&&de.data===ta){u=de,O=!0,qe(!1);break}var g=d[f],D=n(g,f);B=Ke(de,_,P,null,g,D,f,i,t,r),_.items.set(D,B),P=B}v>0&&je(dt())}if(V)v===0&&l&&(A=Ge(()=>l(u)));else if(aa()){var W=new Set,se=le;for(f=0;f<v;f+=1){g=d[f],D=n(g,f);var $=_.items.get(D)??L.get(D);$?(t&(Ae|ze))!==0&&zt($,g,f,t):(B=Ke(null,_,null,null,g,D,f,i,t,r,!0),L.set(D,B)),W.add(D)}for(const[U,Y]of _.items)W.has(U)||se.skipped_effects.add(Y.e);se.add_callback(x)}else x();O&&qe(!0),a(G)}),V&&(u=de)}function Da(e,t,r,n,i,l,u,_,h){var F=(u&la)!==0,A=(u&(Ae|ze))!==0,T=t.length,L=r.items,G=r.first,d=G,z,x=null,v,O=[],H=[],P,B,f,g;if(F)for(g=0;g<T;g+=1)P=t[g],B=_(P,g),f=L.get(B),f!==void 0&&(f.a?.measure(),(v??=new Set).add(f));for(g=0;g<T;g+=1){if(P=t[g],B=_(P,g),f=L.get(B),f===void 0){var D=n.get(B);if(D!==void 0){n.delete(B),L.set(B,D);var W=x?x.next:d;Z(r,x,D),Z(r,D,W),Ye(D,W,i),x=D}else{var se=d?d.e.nodes_start:i;x=Ke(se,r,x,x===null?r.first:x.next,P,B,g,l,u,h)}L.set(B,x),O=[],H=[],d=x.next;continue}if(A&&zt(f,P,g,u),(f.e.f&Ve)!==0&&(kt(f.e),F&&(f.a?.unfix(),(v??=new Set).delete(f))),f!==d){if(z!==void 0&&z.has(f)){if(O.length<H.length){var $=H[0],U;x=$.prev;var Y=O[0],oe=O[O.length-1];for(U=0;U<O.length;U+=1)Ye(O[U],$,i);for(U=0;U<H.length;U+=1)z.delete(H[U]);Z(r,Y.prev,oe.next),Z(r,x,Y),Z(r,oe,$),d=$,x=oe,g-=1,O=[],H=[]}else z.delete(f),Ye(f,d,i),Z(r,f.prev,f.next),Z(r,f,x===null?r.first:x.next),Z(r,x,f),x=f;continue}for(O=[],H=[];d!==null&&d.k!==B;)(d.e.f&Ve)===0&&(z??=new Set).add(d),H.push(d),d=d.next;if(d===null)continue;f=d}O.push(f),x=f,d=f.next}if(d!==null||z!==void 0){for(var K=z===void 0?[]:xt(z);d!==null;)(d.e.f&Ve)===0&&K.push(d),d=d.next;var ae=K.length;if(ae>0){var he=(u&yt)!==0&&T===0?i:null;if(F){for(g=0;g<ae;g+=1)K[g].a?.measure();for(g=0;g<ae;g+=1)K[g].a?.fix()}Ba(r,K,he)}}F&&na(()=>{if(v!==void 0)for(f of v)f.a?.apply()}),e.first=r.first&&r.first.e,e.last=x&&x.e;for(var be of n.values())Et(be.e);n.clear()}function zt(e,t,r,n){(n&Ae)!==0&&vt(e.v,t),(n&ze)!==0?vt(e.i,r):e.i=r}function Ke(e,t,r,n,i,l,u,_,h,F,A){var T=(h&Ae)!==0,L=(h&ia)===0,G=T?L?ra(i,!1,!1):ct(i):i,d=(h&ze)===0?u:ct(u),z={i:d,v:G,k:l,a:null,e:null,prev:r,next:n};try{if(e===null){var x=document.createDocumentFragment();x.append(e=wt())}return z.e=Ge(()=>_(e,G,d,F),V),z.e.prev=r&&r.e,z.e.next=n&&n.e,r===null?A||(t.first=z):(r.next=z,r.e.next=z.e),n!==null&&(n.prev=z,n.e.prev=z.e),z}finally{}}function Ye(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,l=e.e.nodes_start;l!==null&&l!==n;){var u=oa(l);i.before(l),l=u}}function Z(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Ta(e,t){return e==null?null:String(e)}function fe(e,t,r,n){var i=e.__style;if(V||i!==t){var l=Ta(t);(!V||l!==e.getAttribute("style"))&&(l==null?e.removeAttribute("style"):e.style.cssText=l),e.__style=t}return n}function Mt(e,t,r=!1){if(e.multiple){if(t==null)return;if(!Xe(t))return pa();for(var n of e.options)n.selected=t.includes(_e(n));return}for(n of e.options){var i=_e(n);if(ha(i,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function $a(e){var t=new MutationObserver(()=>{Mt(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),_a(()=>{t.disconnect()})}function Na(e,t,r=t){var n=!0;At(e,"change",i=>{var l=i?"[selected]":":checked",u;if(e.multiple)u=[].map.call(e.querySelectorAll(l),_e);else{var _=e.querySelector(l)??e.querySelector("option:not([disabled])");u=_&&_e(_)}r(u)}),fa(()=>{var i=t();if(Mt(e,i,n),n&&i===void 0){var l=e.querySelector(":checked");l!==null&&(i=_e(l),r(i))}e.__value=i,n=!1}),$a(e)}function _e(e){return"__value"in e?e.__value:e.value}const Oa=Symbol("is custom element"),La=Symbol("is html");function Ia(e){if(V){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;pe(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var i=e.checked;pe(e,"checked",null),e.checked=i}}};e.__on_r=r,ga(r),wa()}}function pe(e,t,r,n){var i=Ha(e);V&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=r)&&(t==="loading"&&(e[ya]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Ua(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Ha(e){return e.__attributes??={[Oa]:e.nodeName.includes("-"),[La]:e.namespaceURI===ba}}var pt=new Map;function Ua(e){var t=e.getAttribute("is")||e.nodeName,r=pt.get(t);if(r)return r;pt.set(t,r=[]);for(var n,i=e,l=Element.prototype;l!==i;){n=ma(i);for(var u in n)n[u].set&&r.push(u);i=gt(i)}return r}function Ra(e,t,r=t){var n=new WeakSet;At(e,"input",async i=>{var l=i?e.defaultValue:e.value;if(l=Je(e)?Ze(l):l,r(l),le!==null&&n.add(le),await xa(),l!==(l=t())){var u=e.selectionStart,_=e.selectionEnd;e.value=l??"",_!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(_,e.value.length))}}),(V&&e.defaultValue!==e.value||ka(t)==null&&e.value)&&(r(Je(e)?Ze(e.value):e.value),le!==null&&n.add(le)),Ea(()=>{var i=t();if(e===document.activeElement){var l=Aa??le;if(n.has(l))return}Je(e)&&i===Ze(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Je(e){var t=e.type;return t==="number"||t==="range"}function Ze(e){return e===""?null:+e}function te(e,t=1){if(!+e)return"0 B";const r=1e3,n=t<0?0:t,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l=Math.floor(Math.log(e)/Math.log(r));return`${parseFloat((e/Math.pow(r,l)).toFixed(n))} ${i[l]}`}function St(e){if(!e||typeof e!="string")return".";let t=e.trim();t=t.replace(/\\/g,"/");const r=/^[a-zA-Z]:/.test(t);if(r){if(/^[a-zA-Z]:$/.test(t)&&(t+="/"),/^[a-zA-Z]:\/$/.test(t))return t.replace(/\//g,"\\")}else if(t==="/")return"/";t=t.replace(/\/+$/,"");const n=t.split("/");if(n.length<=1)return".";n.pop();let i=n.join("/");return r&&/^[a-zA-Z]:$/.test(i)&&(i+="/"),i?(r&&(i=i.replace(/\//g,"\\")),i):r?"C:\\":"/"}function ja(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}const ht=["#3B82F6","#22C55E","#EAB308","#F43F5E","#F59E0B","#0EA5E9","#10B981","#A855F7","#6366F1","#06B6D4","#84CC16","#EF4444","#F97316","#14B8A6","#8B5CF6","#7C3AED","#4F46E5","#0891B2","#16A34A","#A3E635","#BE123C","#EA580C","#0D9488","#9333EA","#6D28D9","#4338CA","#155E75","#166534","#65A30D","#9F1239","#C2410C","#0F766E","#7E22CE","#5B21B6","#3730A3","#0E7490","#15803D","#4D7C0F","#881337","#9A3412","#115E59","#6B21A8","#4C1D95","#1E40AF","#1D4ED8","#2563EB","#1F2937","#10A37F","#D97706","#22D3EE","#059669","#D946EF","#F43F3F","#E11D48","#FB7185","#111827"];function bt(e,t){a(t).show&&M(t,{...a(t),x:e.clientX,y:e.clientY},!0)}function mt(e,t,r){t(a(r))}function qa(e,t,r){const n=St(a(t));r(n)}function Va(e,t,r,n,i){a(t)>0&&(M(t,a(t)-1),M(r,a(n)[a(t)],!0),i(a(r)))}function Pa(e,t,r,n,i){a(t)<a(r).length-1&&(M(t,a(t)+1),M(n,a(r)[a(t)],!0),i(a(n)))}function Ya(e,t,r){e.key==="Enter"&&t(a(r))}var Ja=(e,t)=>M(t,!a(t)),Za=(e,t)=>t("disk"),Ga=(e,t)=>t("size"),Ka=(e,t)=>t("count"),Xa=J(`<div class="flex flex-col divide-y divide-gray-500 absolute w-24 rounded border
           border-gray-500  bg-gray-800 shadow-lg z-20 overflow-hidden mt-1"><button class="w-full text-left px-3 py-2 hover:bg-gray-700">By Disk</button> <button class="w-full text-left px-3 py-2 hover:bg-gray-700 border-trasparent">By Size</button> <button class="w-full text-left px-3 py-2 hover:bg-gray-700">By Count</button></div>`),Wa=J("<option> </option>"),Qa=J('<div class="h-full transition-all duration-300 min-w-[0.5px] hover:opacity-90"></div>'),er=J('<div class="flex flex-col w-full h-full items-center justify-between font-mono"><div class="w-full bg-gray-700 rounded-full h-1"><div class="bg-orange-500 h-1 rounded-full transition-all duration-300"></div></div> <div class="flex flex-col justify-center grow  items-center w-64"><div class="flex w-full justify-between"><div>Progress:</div> <div></div></div> <div class="flex w-full justify-between"><div>Loaded files:</div> <div></div></div> <div class="flex w-full justify-between"><div>Total:</div> <div></div></div></div></div>'),tr=J('<div class="relative p-3 bg-gray-800 border border-gray-600 rounded-lg animate-pulse min-h-16 h-16"><div class="flex items-center justify-between gap-4"><div class="h-4 bg-gray-700 rounded w-3/4"></div> <div class="h-3 bg-gray-700 rounded w-12"></div></div> <div class="flex gap-2 mt-2"><div class="h-3 bg-gray-700 rounded w-16"></div> <div class="h-3 bg-gray-700 rounded w-20"></div> <div class="h-3 bg-gray-700 rounded w-24"></div></div></div>'),ar=J('<div class="flex flex-col gap-2 overflow-y-auto"></div>'),rr=(e,t,r)=>t(a(r).path),sr=J('<div class="h-full transition-all duration-300 min-w-[0.5px] hover:opacity-90"></div>'),ir=J(`<div class="relative p-2 cursor-pointer hover:opacity-95 bg-gray-700 border border-gray-600 rounded-lg overflow-hidden min-h-16 h-16"><div class="absolute left-0 top-0 bottom-0 flex z-0"></div> <div class="flex flex-col gap-2 relative z-10 pointer-events-none"><div class="flex items-center justify-between gap-4"><div class="w-full overflow-hidden text-ellipsis whitespace-nowrap 
                text-left [direction:rtl]"><span class="[direction:ltr]"> </span></div> <span class="text-nowrap font-bold"> </span></div> <div class="flex justify-end"><p class="text-xs text-gray-300"> </p></div></div></div>`),nr=J('<div class="flex flex-col gap-2 overflow-y-auto transition-opacity duration-200 p-4"></div>'),lr=J('<div class="fixed z-50 pointer-events-none"><div class="relative rounded-xl border border-white/10 bg-black/90 text-white shadow-xl px-3 py-2"><div class="flex items-center justify-between gap-3"><div class="font-medium text-sm truncate max-w-[180px]"> </div> <div class="text-xs opacity-80"> </div></div> <div class="text-xs opacity-90 mt-1"> </div> <div class="absolute left-1/2 top-full -translate-x-1/2 mt-[-4px]"><div class="w-2 h-2 rotate-45 bg-black/90 border border-white/10 border-l-0 border-t-0"></div></div></div></div>'),or=J('<div class="flex flex-col h-screen min-h-0 gap-2 p-2"><div class="flex gap-2 items-center relative"><button class="btn"><span class="material-symbols-outlined">arrow_back_ios</span></button> <button class="btn"><span class="material-symbols-outlined">arrow_forward_ios</span></button> <button class="btn"><span class="material-symbols-outlined">arrow_upward</span></button> <button class="btn"><div class="flex items-center gap-2"><span class="material-symbols-outlined">refresh</span></div></button> <div class="relative"><button class="btn w-24"><div class="flex items-center gap-2"><span class="material-symbols-outlined">sort</span> </div></button> <!></div> <select><option>All Users</option><!></select> <button class="btn"><div class="flex items-center gap-2"><span class="material-symbols-outlined">scan</span></div></button></div> <div class="flex"><input placeholder="Path..." class="grow"/></div> <div><div class="relative px-2 bg-gray-700 border border-gray-600 rounded overflow-hidden"><div class="absolute left-0 top-0 bottom-0 flex z-0" style="width: 100%"></div> <div class="relative z-10 pointer-events-none"><div class="flex items-center justify-end"><p class="text-xs"> </p></div></div></div></div> <!> <div class="grow"></div></div> <!>',1);function fr(e,t){za(t,!0);let r=R("/"),n=R(ve([])),i=R(!1),l=R(!1),u=R(ve([a(r)])),_=R(0),h=R("disk"),F=R(!1),A=R(-1),T=R(ve([])),L=R(ve(new Map));function G(s){const o=new Map;return Object.keys(s).forEach((c,b)=>{o.set(c,ht[b%ht.length])}),o}let d=R(ve({show:!1,x:0,y:0}));function z(s,o,c){M(d,{show:!0,x:s.clientX,y:s.clientY,username:o.username,value:g(o),percent:Math.round(c*10)/10},!0)}function x(){M(d,{show:!1,x:0,y:0},!0)}const v=s=>{const o=Number(s);return Number.isFinite(o)?o:0},O=q(()=>{const s=a(h);return(a(n)?[...a(n)]:[]).sort((c,b)=>{let w,y;switch(s){case"disk":w=v(c?.total_disk),y=v(b?.total_disk);break;case"size":w=v(c?.total_size),y=v(b?.total_size);break;case"count":w=v(c?.total_count),y=v(b?.total_count);break}return y-w})});let H=q(()=>{const s=a(h),o=a(n)?.map(b=>{switch(s){case"disk":return v(b?.total_disk);case"size":return v(b?.total_size);case"count":return v(b?.total_count)}})??[],c=Math.max(0,...o);return c>0?c:1});const P=s=>{const c=v(s)/a(H)*100,b=Math.max(0,Math.min(100,c));return Math.round(b*10)/10},B=s=>{switch(a(h)){case"disk":return v(s?.total_disk);case"size":return v(s?.total_size);case"count":return v(s?.total_count)}};function f(s){switch(a(h)){case"disk":return te(v(s?.total_disk));case"size":return te(v(s?.total_size));case"count":return v(s?.total_count).toLocaleString()}}function g(s){switch(a(h)){case"disk":return te(v(s?.disk));case"size":return te(v(s?.size));case"count":return v(s?.count).toLocaleString()}}const D=s=>a(h)==="disk"?Number(s.disk):a(h)==="size"?Number(s.size):Number(s.count);function W(s){return Object.entries(s?.users??{}).sort(([,o],[,c])=>D(o)-D(c))}function se(s,o){let c=0,b=0,w=0,y=0;const S={};for(const C of s??[]){c+=v(C?.total_count),b+=v(C?.total_size),w+=v(C?.total_disk),y=Math.max(y,v(C?.modified));const k=C?.users??{};for(const[N,I]of Object.entries(k)){const re=String(N),Q=S[re]??{username:a(T)&&a(T)[re]||I?.username||re,count:0,size:0,disk:0};S[re]={username:Q.username,count:Q.count+v(I?.count),size:Q.size+v(I?.size),disk:Q.disk+v(I?.disk)}}}return{path:o,total_count:c,total_size:b,total_disk:w,modified:y,users:S}}const $=q(()=>se(a(n),a(r)));function U(s){let o=!1,c=null;return async(...b)=>{if(c=b,!o){o=!0;try{for(;c;){const w=c;c=null,await s(...w)}}finally{o=!1}}}}const Y=U(async s=>{M(i,!0);try{let o=[];a(A)>-1&&(o=[Number(a(A))]);const c=await invoke("get_files",{path:s,userFilter:o});M(n,JSON.parse(c),!0),console.log("files:",Fa(a(n))),a(T)&&M(L,G(a(T)),!0)}finally{M(i,!1)}});function oe(s){a(u)[a(_)]!==s&&(M(u,a(u).slice(0,a(_)+1),!0),a(u).push(s),M(_,a(u).length-1))}function K(s){M(h,s,!0),M(F,!1)}function ae(s){M(r,s,!0),oe(s),Y(s)}async function he(){let s="/Users/san/dev/statwalker/rs/mac.agg.csv";try{M(l,!0),M(T,await invoke("load_db",{path:s}),!0),console.log(a(T)),M(l,!1)}catch(o){console.log(o)}Y(a(r))}Yt(async()=>{await he()});var be=or(),Me=ft(be),Se=m(Me),Ce=m(Se);Ce.__click=[Va,_,r,u,Y];var Fe=E(Ce,2);Fe.__click=[Pa,_,u,r,Y];var Be=E(Fe,2);Be.__click=[qa,r,ae];var We=E(Be,2);We.__click=[mt,Y,r];var De=E(We,2),me=m(De);me.__click=[Ja,F];var Qe=m(me),Ct=E(m(Qe));p(Qe),p(me);var Ft=E(me,2);{var Bt=s=>{var o=Xa(),c=m(o);c.__click=[Za,K];var b=E(c,2);b.__click=[Ga,K];var w=E(b,2);w.__click=[Ka,K],p(o),j(s,o)};xe(Ft,s=>{a(F)&&s(Bt)})}p(De);var ue=E(De,2);ue.__change=[mt,Y,r];var Te=m(ue);Te.value=Te.__value=-1;var Dt=E(Te);ce(Dt,17,()=>Object.entries(a(T)),ke,(s,o)=>{var c=q(()=>Pe(a(o),2));let b=()=>a(c)[0],w=()=>a(c)[1];var y=Wa(),S=m(y,!0);p(y);var C={};ne(()=>{X(S,w()),C!==(C=b())&&(y.value=(y.__value=b())??"")}),j(s,y)}),p(ue);var Tt=E(ue,2);Tt.__click=he,p(Se);var $e=E(Se,2),ge=m($e);Ia(ge),ge.__keydown=[Ya,ae,r],p($e);var Ne=E($e,2),et=m(Ne),Oe=m(et);ce(Oe,21,()=>W(a($)),([s,o])=>s,(s,o)=>{var c=q(()=>Pe(a(o),2));let b=()=>a(c)[0],w=()=>a(c)[1];const y=q(()=>a(h)==="disk"?w().disk:a(h)==="size"?w().size:w().count),S=q(()=>a(h)==="disk"?a($).total_disk:a(h)==="size"?a($).total_size:a($).total_count),C=q(()=>a(S)>0?a(y)/a(S)*100:0);var k=Qa();k.__mousemove=[bt,d],ne((N,I)=>{fe(k,`width: ${a(C)??""}%; background-color: ${N??""};`),pe(k,"aria-label",I)},[()=>a(L).get(b())||"#666",()=>`${w().username}: ${g(w())}`]),ye("mouseenter",k,N=>z(N,w(),a(C))),ye("mouseleave",k,x),j(s,k)}),p(Oe);var tt=E(Oe,2),at=m(tt),rt=m(at),$t=m(rt);p(rt),p(at),p(tt),p(et),p(Ne);var Nt=E(Ne,2);{var Ot=s=>{var o=er(),c=m(o),b=m(c);fe(b,"width: 0%"),p(c);var w=E(c,2),y=m(w),S=E(m(y),2);S.textContent="0%",p(y);var C=E(y,2),k=E(m(C),2);k.textContent="0",p(C);var N=E(C,2),I=E(m(N),2);I.textContent="0",p(N),p(w),p(o),j(s,o)},Lt=s=>{var o=Sa(),c=ft(o);{var b=y=>{var S=ar();ce(S,20,()=>Array(6),ke,(C,k)=>{var N=tr();j(C,N)}),p(S),j(y,S)},w=y=>{var S=nr();ce(S,21,()=>a(O),ke,(C,k)=>{var N=ir();N.__click=[rr,ae,k];var I=m(N);ce(I,21,()=>W(a(k)),ke,(Ie,He)=>{var we=q(()=>Pe(a(He),2));let Ue=()=>a(we)[0],ee=()=>a(we)[1];const qt=q(()=>a(h)==="disk"?ee().disk:a(h)==="size"?ee().size:ee().count),ot=q(()=>a(h)==="disk"?a(k).total_disk:a(h)==="size"?a(k).total_size:a(k).total_count),ut=q(()=>a(ot)>0?a(qt)/a(ot)*100:0);var ie=sr();ie.__mousemove=[bt,d],ne((Re,Vt)=>{fe(ie,`width: ${a(ut)??""}%; background-color: ${Re??""};`),pe(ie,"aria-label",Vt)},[()=>a(L).get(Ue())||"#666",()=>`${ee().username}: ${g(ee())}`]),ye("mouseenter",ie,Re=>z(Re,ee(),a(ut))),ye("mouseleave",ie,x),j(Ie,ie)}),p(I);var re=E(I,2),Q=m(re),Le=m(Q),st=m(Le),Ut=m(st,!0);p(st),p(Le);var it=E(Le,2),Rt=m(it,!0);p(it),p(Q);var nt=E(Q,2),lt=m(nt),jt=m(lt);p(lt),p(nt),p(re),p(N),ne((Ie,He,we,Ue,ee)=>{fe(I,`width: ${Ie??""}%`),X(Ut,a(k).path),X(Rt,He),X(jt,`Files: ${a(k).total_count??""} • 
                Size: ${we??""} •
                Disk: ${Ue??""} •
                Modified: ${ee??""}`)},[()=>P(B(a(k))),()=>f(a(k)),()=>te(a(k).total_size),()=>te(a(k).total_disk),()=>new Date(a(k).modified*1e3).toLocaleDateString()]),j(C,N)}),p(S),j(y,S)};xe(c,y=>{a(i)?y(b):y(w,!1)},!0)}j(s,o)};xe(Nt,s=>{a(l)?s(Ot):s(Lt,!1)})}_t(2),p(Me);var It=E(Me,2);{var Ht=s=>{var o=lr(),c=m(o),b=m(c),w=m(b),y=m(w,!0);p(w);var S=E(w,2),C=m(S);p(S),p(b);var k=E(b,2),N=m(k,!0);p(k),_t(2),p(c),p(o),ne(()=>{fe(o,`
      left: ${a(d).x??""}px;
      top: ${a(d).y??""}px;
      transform: translate(-50%, calc(-100% - 10px));  /* center & above pointer */
    `),X(y,a(d).username),X(C,`${a(d).percent??""}%`),X(N,a(d).value)}),j(s,o)};xe(It,s=>{a(d).show&&s(Ht)})}ne((s,o,c,b,w)=>{Ce.disabled=a(_)===0,Fe.disabled=a(_)>=a(u).length-1,Be.disabled=s,X(Ct,` ${o??""}`),pe(ge,"aria-busy",a(i)),X($t,`Files: ${a($).total_count??""} •
          Modified: ${c??""} •
          Size: ${b??""} •
          Disk: ${w??""}`)},[()=>St(a(r))===a(r),()=>ja(a(h)),()=>a($).modified?new Date(a($).modified*1e3).toLocaleDateString():"—",()=>te(a($).total_size),()=>te(a($).total_disk)]),Na(ue,()=>a(A),s=>M(A,s)),Ra(ge,()=>a(r),s=>M(r,s)),j(e,be),Ma()}Pt(["click","change","keydown","mousemove"]);export{fr as component};
