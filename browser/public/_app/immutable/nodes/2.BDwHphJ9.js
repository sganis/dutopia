var ra=Object.defineProperty;var na=(r,t,i)=>t in r?ra(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i;var Sn=(r,t,i)=>na(r,typeof t!="symbol"?t+"":t,i);import"../chunks/Bzak7iHL.js";import{o as Nn,a as ia}from"../chunks/MvvO7YrC.js";import{q as aa,as as sa,at as oa,ab as re,h as tn,a as ni,Y as la,au as ca,k as ii,av as ua,aw as da,ax as fa,ay as va,az as ai,s as ha,aA as ma,aB as Jr,K as ga,w as _a,L as pa,a6 as ba,aC as ya,a8 as zn,ai as M,V as Ge,Q as e,u as yt,a9 as W,ae as y,ap as st,aD as Ue,af as b,ac as O,an as q,W as d,ad as Hn,I as ot,am as bi,ag as T,ak as lt,ah as se,ao as Ke,aa as Ae,aE as yi,aj as Tn,aF as si,al as wa}from"../chunks/Do7IxGTj.js";import{i as ie}from"../chunks/DosZytHh.js";import{c as xa,A as wi,S as lr,e as wt,s as qt,b as xi,d as ka,a as He,r as ki,f as Sa,i as Cr,h as oi,j as Gt,k as Yr,l as Si,g as Ia}from"../chunks/CbcBQ_vm.js";import{p as k,b as xt}from"../chunks/J88IP4QK.js";const Ea=[];function In(r,t=!1,i=!1){return en(r,new Map,"",Ea,null,i)}function en(r,t,i,a,s=null,c=!1){if(typeof r=="object"&&r!==null){var f=t.get(r);if(f!==void 0)return f;if(r instanceof Map)return new Map(r);if(r instanceof Set)return new Set(r);if(aa(r)){var v=Array(r.length);t.set(r,v),s!==null&&t.set(s,v);for(var m=0;m<r.length;m+=1){var _=r[m];m in r&&(v[m]=en(_,t,i,a,null,c))}return v}if(sa(r)===oa){v={},t.set(r,v),s!==null&&t.set(s,v);for(var x in r)v[x]=en(r[x],t,i,a,null,c);return v}if(r instanceof Date)return structuredClone(r);if(typeof r.toJSON=="function"&&!c)return en(r.toJSON(),t,i,a,r)}if(r instanceof EventTarget)return r;try{return structuredClone(r)}catch{return r}}function li(r,t,i=!1,a=!1,s=!1){var c=r,f="";re(()=>{var v=la;if(f===(f=t()??"")){tn&&ni();return}if(v.nodes_start!==null&&(ca(v.nodes_start,v.nodes_end),v.nodes_start=v.nodes_end=null),f!==""){if(tn){ii.data;for(var m=ni(),_=m;m!==null&&(m.nodeType!==ua||m.data!=="");)_=m,m=da(m);if(m===null)throw fa(),va;ai(ii,_),c=ha(m);return}var x=f+"";i?x=`<svg>${x}</svg>`:a&&(x=`<math>${x}</math>`);var S=ma(x);if((i||a)&&(S=Jr(S)),ai(Jr(S),S.lastChild),i||a)for(;Jr(S);)c.before(Jr(S));else c.before(S)}})}function Or(r,t,i){ga(()=>{var a=_a(()=>t(r,i==null?void 0:i())||{});if(i&&(a!=null&&a.update)){var s=!1,c={};pa(()=>{var f=i();ba(f),s&&ya(c,f)&&(c=f,a.update(f))}),s=!0}if(a!=null&&a.destroy)return()=>a.destroy()})}function he(r,t,i,a,s,c){var f=r.__className;if(tn||f!==i||f===void 0){var v=xa(i,a,c);(!tn||v!==r.getAttribute("class"))&&(v==null?r.removeAttribute("class"):r.className=v),r.__className=i}else if(c&&s!==c)for(var m in c){var _=!!c[m];(s==null||_!==!!s[m])&&r.classList.toggle(m,_)}return c}const Dn=(r,t)=>t.some(i=>r instanceof i);let ci,ui;function Aa(){return ci||(ci=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fa(){return ui||(ui=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ln=new WeakMap,En=new WeakMap,nn=new WeakMap;function Ca(r){const t=new Promise((i,a)=>{const s=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(Kt(r.result)),s()},f=()=>{a(r.error),s()};r.addEventListener("success",c),r.addEventListener("error",f)});return nn.set(t,r),t}function Oa(r){if(Ln.has(r))return;const t=new Promise((i,a)=>{const s=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),s()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Ln.set(r,t)}let jn={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Ln.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Kt(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Ii(r){jn=r(jn)}function Ma(r){return Fa().includes(r)?function(...t){return r.apply(Rn(this),t),Kt(this.request)}:function(...t){return Kt(r.apply(Rn(this),t))}}function Ta(r){return typeof r=="function"?Ma(r):(r instanceof IDBTransaction&&Oa(r),Dn(r,Aa())?new Proxy(r,jn):r)}function Kt(r){if(r instanceof IDBRequest)return Ca(r);if(En.has(r))return En.get(r);const t=Ta(r);return t!==r&&(En.set(r,t),nn.set(t,r)),t}const Rn=r=>nn.get(r);function Da(r,t,{blocked:i,upgrade:a,blocking:s,terminated:c}={}){const f=indexedDB.open(r,t),v=Kt(f);return a&&f.addEventListener("upgradeneeded",m=>{a(Kt(f.result),m.oldVersion,m.newVersion,Kt(f.transaction),m)}),i&&f.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),v.then(m=>{c&&m.addEventListener("close",()=>c()),s&&m.addEventListener("versionchange",_=>s(_.oldVersion,_.newVersion,_))}).catch(()=>{}),v}const La=["get","getKey","getAll","getAllKeys","count"],ja=["put","add","delete","clear"],An=new Map;function di(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(An.get(t))return An.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,s=ja.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(s||La.includes(i)))return;const c=async function(f,...v){const m=this.transaction(f,s?"readwrite":"readonly");let _=m.store;return a&&(_=_.index(v.shift())),(await Promise.all([_[i](...v),s&&m.done]))[0]};return An.set(t,c),c}Ii(r=>({...r,get:(t,i,a)=>di(t,i)||r.get(t,i,a),has:(t,i)=>!!di(t,i)||r.has(t,i)}));const Ra=["continue","continuePrimaryKey","advance"],fi={},Bn=new WeakMap,Ei=new WeakMap,Ba={get(r,t){if(!Ra.includes(t))return r[t];let i=fi[t];return i||(i=fi[t]=function(...a){Bn.set(this,Ei.get(this)[t](...a))}),i}};async function*Pa(...r){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...r)),!t)return;t=t;const i=new Proxy(t,Ba);for(Ei.set(i,t),nn.set(i,Rn(t));t;)yield i,t=await(Bn.get(i)||t.continue()),Bn.delete(i)}function vi(r,t){return t===Symbol.asyncIterator&&Dn(r,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Dn(r,[IDBIndex,IDBObjectStore])}Ii(r=>({...r,get(t,i,a){return vi(t,i)?Pa:r.get(t,i,a)},has(t,i){return vi(t,i)||r.has(t,i)}}));const Na="ApCacheDB",Tr="ap",za=2,Ha=60*1e3;async function Ai(){return Da(Na,za,{upgrade(r){r.objectStoreNames.contains(Tr)||r.createObjectStore(Tr)}})}async function Ua(r,t){await(await Ai()).put(Tr,{data:t,timestamp:Date.now()},r)}async function Ga(r){const t=await Ai(),i=await t.get(Tr,r);return i?Date.now()-i.timestamp>Ha?(await t.delete(Tr,r),null):i.data:null}class qa{constructor(){Sn(this,"baseUrl",`${wi}/`);Sn(this,"error","")}async request(t="",i="GET",a,s){try{this.error="";const c={method:i,headers:{"Content-Type":"application/json",Authorization:`Bearer ${lr.token}`}};if(a&&(c.body=JSON.stringify(a)),s){let _=await Ga(t);if(_)return _}const f=`${this.baseUrl}${t}`;console.log("fetching url:",f,c);const v=await fetch(f,c),m=await v.json();return v.ok?(await Ua(t,m),m):(lr.token=null,v.status===401&&console.log("authentication failed."),this.error=m.detail||"Unknown API error",console.log(`API Error: ${this.error}`),null)}catch(c){return console.log("Fetch error:",c),this.error="API: Error in fetching data.",null}finally{}}async getUsers(){return await this.request("users","GET",void 0,!0)??[]}async getFolders(t,i,a){const s=`path=${encodeURIComponent(t)}`,c=i.length>0?`&users=${encodeURIComponent(i.join(","))}`:"",f=a!==void 0&&a!==-1?`&age=${a}`:"",v=`folders?${s}${c}${f}`;return console.log("api url:",v),await this.request(v,"GET",void 0,!0)??[]}async getFiles(t,i,a){const s=`path=${encodeURIComponent(t)}`,c=i.length>0?`&users=${encodeURIComponent(i.join(","))}`:"",f=a!==void 0&&a!==-1?`&age=${a}`:"",v=`files?${s}${c}${f}`;return console.log("api url:",v),await this.request(v,"GET",void 0,!0)??[]}}const Fn=new qa,G={valueField:null,labelField:null,groupLabelField:"label",groupItemsField:"options",disabledField:"$disabled",placeholder:"Select",valueAsObject:!1,searchable:!0,clearable:!1,highlightFirstItem:!0,selectOnTab:!1,resetOnBlur:!0,resetOnSelect:!0,fetchProps:{},fetchResetOnBlur:!0,fetchDebounceTime:300,multiple:!1,closeAfterSelect:"auto",deselectMode:"toggle",max:0,collapseSelection:null,keepSelectionInList:"auto",creatable:!1,creatablePrefix:"*",keepCreated:!0,allowEditing:!1,delimiter:",",fetchCallback:void 0,minQuery:1,lazyDropdown:!0,virtualList:!1,vlItemSize:void 0,i18n:{aria_label:"",aria_describedby:"",aria_selected:r=>r.length?`Option${r.length>1?"s":""} ${r.join(", ")} selected.`:"",aria_listActive:(r,t,i)=>`You are currently focused on option ${r[t]}. ${i} result${i>1?"s":""} available.`,aria_inputFocused:()=>"Select is focused, type to refine list, press down to scroll through the list",aria_removeItemLabel:(r,t)=>"Remove item",empty:"No options",nomatch:"No matching options",max:r=>`Maximum items ${r} selected`,fetchBefore:"Type to start searching",fetchQuery:(r,t)=>`Type at least ${r} character${r>1?"s":""} to start searching`,fetchInit:"Fetching data, please wait...",fetchEmpty:"No data related to your search",collapsedSelection:r=>`${r} selected`,createRowLabel:r=>`Add '${r}'`,emptyCreatable:"Add new by typing"},requestFactory:void 0};function Wa(r,t){let i;return(...a)=>{clearTimeout(i),i=setTimeout(()=>{r.apply(this,a)},t)}}function Ka(r,{url:t,parentValue:i,initial:a},s){i&&(t=t.replace("[parent]",encodeURIComponent(i))),r&&(t=t.replace("[query]",encodeURIComponent(r))),Array.isArray(a)&&a.length===0&&(a=null),a&&(t=t.replace("[query]","init"));const c=t[0]==="/"?new URL(t,window.location.origin):new URL(t);if(a){const m=Array.isArray(a)?a:[a];c.searchParams.append("init",m.join(","))}const f=new AbortController,v=Object.assign({},s,{signal:f.signal});return{request:new Request(c,v),controller:f}}var Qt=function(r,t){this.items=r,this.settings=t||{diacritics:!0}};Qt.prototype.tokenize=function(r,t,i){if(r=Va(String(r||"").toLowerCase()),!r||!r.length)return[];var a,s,c,f,v=[],m=r.split(/ +/);for(a=0,s=m.length;a<s;a++){if(c=Ja(m[a]),this.settings.diacritics)for(f in Wt)Wt.hasOwnProperty(f)&&(c=c.replace(new RegExp(f,"g"),Wt[f]));t?c="\\b"+c:i&&(c="\\b^"+c),v.push({string:m[a],regex:new RegExp(c,"i")})}return v};Qt.prototype.iterator=function(r,t){var i;Array.isArray(r)?i=Array.prototype.forEach||function(a){for(var s=0,c=this.length;s<c;s++)a(this[s],s,this)}:i=function(a){for(var s in this)this.hasOwnProperty(s)&&a(this[s],s,this)},i.apply(r,[t])};Qt.prototype.getScoreFunction=function(r,t){var i,a,s,c,f;i=this,r=i.prepareSearch(r,t),s=r.tokens,a=r.options.fields,c=s.length,f=r.options.nesting;var v=function(_,x){var S,R;return!_||(_=String(_||""),R=_.search(x.regex),R===-1)?0:(S=x.string.length/_.length,R===0&&(S+=.5),S)},m=(function(){var _=a.length;return _?_===1?function(x,S){return v(Pn(S,a[0],f),x)}:function(x,S){for(var R=0,N=0;R<_;R++)N+=v(Pn(S,a[R],f),x);return N/_}:function(){return 0}})();return c?c===1?function(_){return m(s[0],_)}:r.options.conjunction==="and"?function(_){for(var x,S=0,R=0;S<c;S++){if(x=m(s[S],_),x<=0)return 0;R+=x}return R/c}:function(_){for(var x=0,S=0;x<c;x++)S+=m(s[x],_);return S/c}:function(){return 0}};Qt.prototype.getSortFunction=function(r,t){var i,a,s,c,f,v,m,_,x,S,R;if(s=this,r=s.prepareSearch(r,t),R=!r.query&&t.sort_empty||t.sort,x=function(N,Q){return N==="$score"?Q.score:Pn(s.items[Q.id],N,t.nesting)},f=[],R)for(i=0,a=R.length;i<a;i++)(r.query||R[i].field!=="$score")&&f.push(R[i]);if(r.query){for(S=!0,i=0,a=f.length;i<a;i++)if(f[i].field==="$score"){S=!1;break}S&&f.unshift({field:"$score",direction:"desc"})}else for(i=0,a=f.length;i<a;i++)if(f[i].field==="$score"){f.splice(i,1);break}for(_=[],i=0,a=f.length;i<a;i++)_.push(f[i].direction==="desc"?-1:1);return v=f.length,v?v===1?(c=f[0].field,m=_[0],function(N,Q){return m*hi(x(c,N),x(c,Q))}):function(N,Q){var Fe,Qe,De;for(Fe=0;Fe<v;Fe++)if(De=f[Fe].field,Qe=_[Fe]*hi(x(De,N),x(De,Q)),Qe)return Qe;return 0}:null};Qt.prototype.prepareSearch=function(r,t){if(typeof r=="object")return r;t=Qa({},t);var i=t.fields,a=t.sort,s=t.sort_empty;return i&&!Array.isArray(i)&&(t.fields=[i]),a&&!Array.isArray(a)&&(t.sort=[a]),s&&!Array.isArray(s)&&(t.sort_empty=[s]),{options:t,query:String(r||"").toLowerCase(),tokens:this.tokenize(r,t.wordsOnly,t.startOnly),total:0,items:[]}};Qt.prototype.search=function(r,t){var i=this,a,s,c,f;return s=this.prepareSearch(r,t),t=s.options,r=s.query,f=t.score||i.getScoreFunction(s),r.length?i.iterator(i.items,function(v,m){a=f(v),(t.filter===!1||a>0)&&s.items.push({score:a,id:m})}):i.iterator(i.items,function(v,m){s.items.push({score:1,id:m})}),c=i.getSortFunction(s,t),c&&s.items.sort(c),s.total=s.items.length,typeof t.limit=="number"&&(s.items=s.items.slice(0,t.limit)),s};var hi=function(r,t){return typeof r=="number"&&typeof t=="number"?r>t?1:r<t?-1:0:(r=rn(String(r||"")),t=rn(String(t||"")),r>t?1:t>r?-1:0)},Qa=function(r,t){var i,a,s,c;for(i=1,a=arguments.length;i<a;i++)if(c=arguments[i],!!c)for(s in c)c.hasOwnProperty(s)&&(r[s]=c[s]);return r},Pn=function(r,t,i){if(!(!r||!t)){if(!i)return r[t];for(var a=t.split(".");a.length&&(r=r[a.shift()]););return r}},Va=function(r){return(r+"").replace(/^\s+|\s+$|/g,"")},Ja=function(r){return(r+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},Wt={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"};const rn=(function(){var r,t,i,a,s="",c={};for(i in Wt)if(Wt.hasOwnProperty(i))for(a=Wt[i].substring(2,Wt[i].length-1),s+=a,r=0,t=a.length;r<t;r++)c[a.charAt(r)]=i;var f=new RegExp("["+s+"]","g");return function(v){return v.replace(f,function(m){return c[m]}).toLowerCase()}})();let Fr;function Ya(r,t,i,a,s){const c=a(r,t,i);if(i==""||r.isSelected||s)return c;Fr||(Fr=document.createElement("div")),Fr.innerHTML=c;const f=rn(i);return(f.includes("|")?f.split("|").map(v=>v.trim()):f.split(" ")).filter(v=>v).forEach(v=>{Fi(Fr,v)}),Fr.innerHTML}function Fi(r,t){let i=0;if(r.nodeType===3){const s=rn(r.data);let c=s.indexOf(t);if(c-=s.substr(0,c).toUpperCase().length-s.substr(0,c).length,c>=0){const f=document.createElement("span");f.className="highlight";const v=r.splitText(c);v.splitText(t.length);const m=v.cloneNode(!0);f.appendChild(m),v.parentNode.replaceChild(f,v),i=1}}else if(r.nodeType===1&&r.childNodes&&!/(script|style)/i.test(r.tagName)&&(r.className!=="highlight"||r.tagName!=="SPAN"))for(var a=0;a<r.childNodes.length;++a)a+=Fi(r.childNodes[a],t);return i}function Xa(){return navigator.userAgent.toLowerCase().includes("android")}function Cn(r){return(r||"").replace(/\t/g," ").trim().split(" ").filter(t=>t).join(" ")}function Za(r){return`${r}`.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function $a(r){const t=r-1;return t*t*t+1}function es(r,{from:t,to:i},a={}){var{delay:s=0,duration:c=C=>Math.sqrt(C)*120,easing:f=$a}=a,v=getComputedStyle(r),m=v.transform==="none"?"":v.transform,[_,x]=v.transformOrigin.split(" ").map(parseFloat);_/=r.clientWidth,x/=r.clientHeight;var S=ts(r),R=r.clientWidth/i.width/S,N=r.clientHeight/i.height/S,Q=t.left+t.width*_,Fe=t.top+t.height*x,Qe=i.left+i.width*_,De=i.top+i.height*x,Ve=(Q-Qe)*R,ct=(Fe-De)*N,Ie=t.width/i.width,Ce=t.height/i.height;return{delay:s,duration:typeof c=="function"?c(Math.sqrt(Ve*Ve+ct*ct)):c,easing:f,css:(C,ce)=>{var ue=ce*Ve,de=ce*ct,me=C+ce*Ie,Le=C+ce*Ce;return`transform: ${m} translate(${ue}px, ${de}px) scale(${me}, ${Le});`}}}function ts(r){if("currentCSSZoom"in r)return r.currentCSSZoom;for(var t=r,i=1;t!==null;)i*=+getComputedStyle(t).zoom,t=t.parentElement;return i}function On(r,t){const i=window.getComputedStyle(r);let{groups:{value:a,unit:s}}=i[t].match(/(?<value>\d+)(?<unit>[a-zA-Z]+)/),c=parseFloat(a);if(s!=="px"){const f=s==="rem"?document.documentElement:r.parentElement.parentElement;c=parseFloat(window.getComputedStyle(f).fontSize.match(/\d+/).shift())*c}return c}function rs(r){const t=r.parentElement.parentElement.getBoundingClientRect(),i=r.getBoundingClientRect(),a={};return a.top=t.top<0,a.left=t.left<0,a.bottom=t.bottom+i.height>(window.innerHeight||document.documentElement.clientHeight)&&t.top>i.height&&(window.innerHeight||document.documentElement.clientHeight)>i.height+50,a.right=t.right>(window.innerWidth||document.documentElement.clientWidth),a.any=a.top||a.left||a.bottom||a.right,a}function mi(r,t,i){if(!t)return;const a=rs(t);a.bottom&&!a.top?t.parentElement.style.bottom=t.parentElement.parentElement.clientHeight+1+"px":(!r||a.top||t.parentElement.style.bottom!=="")&&(t.parentElement.style.bottom="")}function Xr({container:r,scrollContainer:t,virtualList:i,center:a},s){if(i||!r)return;const c=r.querySelector(`[data-pos="${s}"]`);if(!c)return;const f=c.getBoundingClientRect(),v=t.getBoundingClientRect(),m=c.offsetHeight/3,_=0;switch(!0){case c.offsetTop<t.scrollTop:t.scrollTop=c.offsetTop-m+_;break;case c.offsetTop+f.height>t.scrollTop+v.height:t.scrollTop=c.offsetTop+f.height-t.offsetHeight+m+_;break}}function ns(r,t,i,a){return{optionProps:[],optionsWithGroups:!1,valueField:r,labelField:t,optLabel:i,optItems:a}}function is(r,t,i,a){let s=Array.isArray(t)?t:[t];return i&&(s=s.map(f=>f[a])),r.reduce((f,v)=>(s.includes(v[a])&&(v.$selected=!0,f.push(v)),f),[]).sort((f,v)=>s.indexOf(f[a])<s.indexOf(v[a])?-1:1)}function gi(r,t,i){return typeof r[0]=="object"?JSON.parse(JSON.stringify(r)):r.map(a=>({[t||"value"]:a,[i||"text"]:a}))}function Mn(r,t){const i=r.reduce((a,s,c)=>s[t.optItems]?(s[t.optItems].length===0||(t.optionsWithGroups=!0,a.push({label:s[t.optLabel],$isGroupHeader:!0}),a.push(...s[t.optItems].map(f=>(f.$isGroupItem=!0,f)))),a):(a.push(s),a),[]);return as(i,t),i}function as(r,t){r.some(i=>i.$isGroupHeader?!1:(t.optionProps=ss(i),!0))}function ss(r){const t=["$disabled","$isGroupHeader","$isGroupItem","$created","$selected"];return Object.keys(r).filter(i=>!t.includes(i))}function os(r,t,i,a,s={}){if(!s.keepSelectionInList&&i&&(r=r.filter(_=>!i.has(_[a.valueField])).filter((_,x,S)=>!(_.$isGroupHeader&&(S[x+1]&&S[x+1].$isGroupHeader||S.length<=1||S.length-1===x)))),s.disabled||!t)return r;const c=new Qt(r);(a.optionsWithGroups||s.skipSort)&&(c.getSortFunction=()=>null);let f="and";t.includes("|")&&(f="or",t=t.split("|").map(_=>_.trim()).join(" "));const v=c.search(t,{fields:s.fields||a.optionProps,sort:s.sort||ls(a.labelField),conjunction:s.conjunction||f,nesting:s.nesting||!1,wordsOnly:s.wordsOnly||!1,startOnly:s.startOnly||!1});return a.optionsWithGroups?v.items.reduce((_,x)=>{const S=r[x.id];if(i&&S.isSelected)return _;const R=_.push(S);if(S.$isGroupItem){const N=r.slice(0,x.id);let Q=null;do Q=N.pop(),Q&&Q.$isGroupHeader&&!_.includes(Q)&&_.splice(R-1,0,Q);while(Q&&!Q.$isGroupHeader)}return _},[]):v.items.map(_=>r[_.id])}function ls(r){return[{field:r,direction:"asc"}]}function Zr(r,t,i){const a=r==="value";let s=a?"value":"text";if(t&&t.length){const c=t[0][i]?t[0][i][0]:t[0];if(!c||typeof c=="string")return s;const f=a?0:1,v=a?["id","value","ID"]:["name","title","label"];s=Object.keys(c).filter(m=>v.includes(m)).concat([Object.keys(c)[f]]).shift()}return s}function cs(r,t){return r.bound_item=t,{destroy:()=>{}}}var us=W("<svelecte-list-row><!></svelecte-list-row>",2),ds=W("<svelecte-list-viewport><svelecte-list-content></svelecte-list-content></svelecte-list-viewport>",2);function fs(r,t){zn(t,!0);const i=k(t,"itemHeight",3,null);function a(){const C=e(R).firstElementChild;return(C==null?void 0:C.offsetHeight)||0}let s=t.itemCount,c=t.scrollToIndex,f=0,v=M(0),m=M(0),_=M(0),x=M(0),S=M(null),R=M(null),N=M(Ge(i())),Q=q(()=>`height:${e(x)}px;width:100%`),Fe=q(()=>{const C=[];for(let ce=e(v);ce<e(m);ce++)C.push({index:ce});return C});function Qe(C){if(c=C,(C<0||C>t.itemCount)&&(C=0),e(v)<C&&C<e(m)-1)return;const ce=C*e(N),ue=ce-e(S).clientHeight+e(N),de=t.itemCount*e(N),me=Math.max(ue,Math.min(ce,f));f=Math.max(0,Math.min(de-e(S).clientHeight,me)),e(S).scroll({top:f,behavior:"auto"})}async function De(C){!e(N)&&C&&e(m)===0&&(d(m,1),await ot(),d(N,a(),!0)),s=C,d(x,Math.min(t.maxHeight,C*e(N)),!0),d(m,Math.min(C,Math.round(t.maxHeight/e(N))),!0),await ot(),Ve()}async function Ve(){const{scrollTop:C}=e(S),ce=e(v);let ue=0,de=0;for(;ue<t.itemCount;){if(de+e(N)>C){d(v,ue,!0),d(_,de,!0);break}de+=e(N),ue+=1}for(;ue<t.itemCount&&(de+=e(N),ue+=1,!(de>C+e(x))););if(d(m,ue,!0),e(v)<ce){let me=0,Le=0;for(let je=e(v);je<ce;je+=1){const Je=je-e(v);e(v)<=Je&&Je<e(m)&&(me+=e(N),Le+=e(N))}const B=Le-me;e(S).scrollTo(0,C+B)}}Nn(()=>{var C;De(t.itemCount),(C=e(S))==null||C.addEventListener("scroll",Ve,{passive:!0})}),ia(()=>{var C;(C=e(S))==null||C.removeEventListener("scroll",Ve)}),yt(()=>{s!==t.itemCount&&De(t.itemCount)}),yt(()=>{c!==t.scrollToIndex&&Qe(t.scrollToIndex)});var ct={resolveItemSize:a},Ie=ds();he(Ie,1,"svelte-15oxbj1");var Ce=y(Ie);return he(Ce,1,"svelte-15oxbj1"),wt(Ce,21,()=>e(Fe),C=>C.index,(C,ce)=>{var ue=us();he(ue,1,"svelte-15oxbj1");var de=y(ue);st(de,()=>t.children??Ue,()=>e(ce).index),b(ue),O(C,ue)}),b(Ce),xt(Ce,C=>d(R,C),()=>e(R)),b(Ie),xt(Ie,C=>d(S,C),()=>e(S)),re(()=>{qt(Ie,e(Q)),qt(Ce,`padding-top: ${e(_)??""}px; height: ${t.itemCount*e(N)}px;`)}),O(r,Ie),Hn(ct)}const vs=(r,t=Ue,i=Ue)=>{var a=ps(),s=y(a,!0);b(a),re(c=>se(s,c),[()=>i().collapsedSelection(t().length)]),O(r,a)},hs=(r,t=Ue)=>{var i=ks();O(r,i)};G.requestFactory=Ka;const Mr={default(r){return Za(r[this.label])},html(r){return r[this.label]}},$r=r=>({destroy:()=>{}});function ms(r,t){if(r instanceof Object)for(let i in r)Mr[i]=r[i];else Mr[r]=t}const gs=G;function _i(r){r.preventDefault()}function _s(r,t,i){e(t).length===1&&i()}var ps=W("<span> </span>"),bs=r=>r.preventDefault(),ys=W('<button class="sv-item--btn" tabindex="-1" type="button" data-action="deselect"><svg height="16" width="16" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg></button>'),ws=W('<div class="sv-item--container"><div><div class="sv-item--content"><!></div></div> <!></div>'),xs=yi('<svg class="indicator-icon svelte-kgu1bj" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg>'),ks=yi('<svg class="indicator-icon svelte-kgu1bj" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"></path></svg>'),Ss=W('<div class="sv-item--content"><!></div>'),Is=W('<span> </span> <span class="shortcut svelte-kgu1bj"><kbd class="svelte-kgu1bj"> </kbd>+<kbd class="svelte-kgu1bj">Enter</kbd></span>',1),Es=W('<span id="aria-selection"> </span> <span id="aria-context"> </span>',1),As=W("<option selected> </option>"),Fs=W('<select size="1" class="sv-hidden-element" tabindex="-1" aria-hidden="true"></select>'),Cs=W('<button type="button" data-action="deselect" tabindex="-1"><!></button>'),Os=W('<span class="sv-btn-separator svelte-kgu1bj"></span>'),Ms=W('<div class="sv-optgroup-header"><b> </b></div>'),Ts=W("<div><!></div>"),Ds=W('<div class="sv-optgroup-header"><b> </b></div>'),Ls=W("<div><!></div>"),js=W('<div class="is-dropdown-row svelte-kgu1bj"><div><div class="sv-item--content"> </div></div></div>'),Rs=r=>r.preventDefault(),Bs=W('<div class="is-dropdown-row svelte-kgu1bj"><button type="button"><!></button></div>'),Ps=W('<!> <div tabindex="-1"><div><!> <!></div></div> <!>',1),Ns=W('<div role="none"><span aria-live="polite" aria-atomic="false" aria-relevant="additions text" class="a11y-text svelte-kgu1bj"><!></span> <!>  <div><!> <div><!> <span class="sv-input--sizer svelte-kgu1bj"><input type="text" size="1" autocapitalize="none" autocomplete="off" autocorrect="off" spellcheck="false" aria-autocomplete="list" tabindex="0"/></span></div>  <div><!> <!> <button type="button" data-action="toggle" tabindex="-1"><!></button></div> <!></div>  <div><!></div></div>');function zs(r,t){zn(t,!0);const i=(n,o=Ue,p=Ue)=>{var A=Ke(),w=Ae(A);wt(w,25,o,P=>P[e(L)],(P,$)=>{var V=ws();V.__mousedown=[bs];var ae=y(V);let ve;var bt=y(ae),Ir=y(bt);li(Ir,()=>e(ir)(e($),!0)),b(bt),b(ae);var Er=T(ae,2);{var xn=zt=>{var X=ys();Or(X,(le,Se)=>{var et;return(et=p())==null?void 0:et(le,Se)},()=>e($)),re(le=>He(X,"aria-label",le),[()=>e(g).aria_removeItemLabel(e($),e(we))]),O(zt,X)};ie(Er,zt=>{B()&&zt(xn)})}b(V),re(zt=>ve=he(ae,1,"sv-item--wrap in-selection",null,ve,zt),[()=>({"is-multi":B()})]),Sa(V,()=>es,()=>({duration:e(oe)})),O(P,V)}),O(n,A)},a=(n,o=Ue,p=Ue)=>{var A=Ke(),w=Ae(A);{var P=$=>{var V=xs();O($,V)};ie(w,$=>{e(D).length&&$(P)})}O(n,A)},s=(n,o=Ue,p=Ue)=>{var A=Ss(),w=y(A);li(w,()=>Ya(o(),!1,p(),e(ir),ct())),b(A),O(n,A)},c=(n,o=Ue,p=Ue,A=Ue)=>{var w=Is(),P=Ae(w);let $;var V=y(P,!0);b(P);var ae=T(P,2),ve=y(ae),bt=y(ve,!0);b(ve),Tn(2),b(ae),re((Ir,Er)=>{$=he(P,1,"svelte-kgu1bj",null,$,Ir),se(V,Er),se(bt,e(h))},[()=>({"is-loading":o()}),()=>A().createRowLabel(p())]),O(n,w)};let f=k(t,"name",3,""),v=k(t,"inputId",7,""),m=k(t,"required",3,!1),_=k(t,"disabled",7,!1),x=k(t,"options",23,()=>[]),S=k(t,"valueField",19,()=>G.valueField),R=k(t,"labelField",19,()=>G.labelField),N=k(t,"groupLabelField",19,()=>G.groupLabelField),Q=k(t,"groupItemsField",19,()=>G.groupItemsField),Fe=k(t,"disabledField",19,()=>G.disabledField),Qe=k(t,"placeholder",19,()=>G.placeholder),De=k(t,"searchable",19,()=>G.searchable),Ve=k(t,"clearable",19,()=>G.clearable),ct=k(t,"disableHighlight",3,!1),Ie=k(t,"highlightFirstItem",19,()=>G.highlightFirstItem),Ce=k(t,"selectOnTab",19,()=>G.selectOnTab),C=k(t,"resetOnBlur",19,()=>G.resetOnBlur),ce=k(t,"resetOnSelect",19,()=>G.resetOnSelect),ue=k(t,"closeAfterSelect",19,()=>G.closeAfterSelect),de=k(t,"deselectMode",19,()=>G.deselectMode),me=k(t,"dndzone",3,$r),Le=k(t,"strictMode",3,!0),B=k(t,"multiple",19,()=>G.multiple),je=k(t,"max",19,()=>G.max),Je=k(t,"collapseSelection",19,()=>G.collapseSelection),Vt=k(t,"keepSelectionInList",19,()=>G.keepSelectionInList),ge=k(t,"creatable",19,()=>G.creatable),Tt=k(t,"creatablePrefix",19,()=>G.creatablePrefix),Jt=k(t,"allowEditing",19,()=>G.allowEditing),cr=k(t,"keepCreated",19,()=>G.keepCreated),Y=k(t,"delimiter",19,()=>G.delimiter),ye=k(t,"fetch",3,null),ur=k(t,"fetchProps",19,()=>G.fetchProps),an=k(t,"fetchMode",3,"auto"),Dr=k(t,"fetchCallback",19,()=>G.fetchCallback),Re=k(t,"fetchResetOnBlur",7,!0),sn=k(t,"fetchDebounceTime",19,()=>G.fetchDebounceTime),Be=k(t,"minQuery",19,()=>G.minQuery),dr=k(t,"lazyDropdown",19,()=>G.lazyDropdown),Ye=k(t,"virtualList",19,()=>G.virtualList),Lr=k(t,"vlItemSize",19,()=>G.vlItemSize),on=k(t,"searchProps",3,null),ut=k(t,"class",3,"svelecte-control"),fr=k(t,"i18n",3,null),_e=k(t,"value",15),vr=k(t,"readSelection",15),ln=k(t,"emitValues",3,!1),Xe=k(t,"valueAsObject",19,()=>G.valueAsObject),qe=k(t,"parentValue",3,void 0),Yt=k(t,"onChange",3,n=>{}),cn=k(t,"onFocus",3,n=>{}),jr=k(t,"onBlur",3,n=>{}),Xt=k(t,"onCreateOption",3,n=>{}),hr=k(t,"onCreateFail",3,n=>{}),Rr=k(t,"onEnterKey",3,n=>{}),Dt=k(t,"onFetch",3,n=>{}),Zt=k(t,"onFetchError",3,n=>{}),mr=k(t,"onInvalidValue",3,n=>{}),Br=k(t,"prepend",3,void 0),un=k(t,"collapsedSelection",3,vs),dn=k(t,"selection",3,i),Pr=k(t,"clearIcon",3,a),fn=k(t,"toggleIcon",3,hs),gr=k(t,"append",3,void 0),$t=k(t,"listHeader",3,void 0),er=k(t,"option",3,s),_r=k(t,"createRow",3,c),Lt=k(t,"positionResolver",3,$r),jt=k(t,"anchor_element",3,void 0),pr=k(t,"controlClass",3,void 0),tr=k(t,"dropdownClass",3,void 0),kt=k(t,"optionClass",3,void 0);function Nr(){fe.focus()}function vn(n,o){ft(n),o&&kr()}function hn(n){return Ft(!n)}function mn(n){ye()&&(_n({init:!0,initValue:n,storedValue:Re()}),Re(!1))}const St=f()?`sv-${f()}-select-${`${Math.random()}`.substring(2,6)}`:null;m()&&!f()&&console.warn("[Svelecte]: 'required' prop has no effect when 'name' prop is NOT set"),ye()&&_e()&&Xe()&&!Le()&&(!x()||x()&&x().length===0)&&x(Array.isArray(_e())?_e():[_e()]),v()||v(St?St.replace("-select-","-input-"):`svelecte-input-${`${Math.random()}`.substring(2,12)}`);let It=M(!1),br=x(),Oe,yr,rr=t.optionResolver?t.optionResolver(x(),new Set):gi(x(),S(),R()),L=M(Ge(S()||Zr("value",rr,Q()))),we=M(Ge(R()||Zr("label",rr,Q())));const Ee=ns(e(L),e(we),N(),Q());let pe=M(Ge(Mn(rr,Ee))),Rt=M(!1),Ze=q(()=>e(Rt)?[]:e(pe));rr=void 0;let D=M(Ge(_e()?is(e(Ze),_e(),Xe(),e(L)):[]));const Z=e(D).reduce((n,o)=>(n.add(o[e(L)]),n),new Set);let dt=e(D).filter(n=>n.$created),mt=M(!1),Et=M(!1),wr=M(!1),be=M(!1),Bt=M(!1),K=M(Ge(Ie()?0:-1)),nr=M(!dr()),l=null,h=M(void 0),u=M(""),I=!1,g=q(()=>Object.assign({},gs.i18n,fr()||{})),E=q(()=>an()==="init"||ye()&&ye().includes("[query]")===!1),z=ye()&&(_e()||B()&&_e()&&_e().length)?Xe()?Le()===!1?In(_e()):null:JSON.parse(JSON.stringify(_e())):null,J=null,F=M(Je()!==null),U=M(!1),j=M(!1),oe=M(100),ee=!1,xe=!1,fe,te,Me,ne=M(null),Pe;yt(()=>{xr(S(),R())});let Te=q(()=>je()!==0&&e(D).length==je());yt(()=>{zr(x())}),yt(()=>{_e()!==void 0&&ft(_e())});let Ne=null,H=q(()=>(e(D).length,e(Ze).length,!e(u)&&ye()&&!e(E)&&Re()?[]:Ne||(e(Te)?[]:os(e(Ze),e(u),Ni(e(u)),Ee,on()||{}))));yt(()=>{let n=e(H).length;ge()&&e(u)&&n++,n<=e(K)&&pt(0,{asc:!ge(),desc:ge()}),Ci(e(Te),e(H))}),Ie()&&pt(0,{asc:!0});let gt=q(()=>t.createFilter||(n=>dt.includes(n))),At=q(()=>t.createHandler||(({inputValue:n,labelField:o,valueField:p,prefix:A})=>({[p]:n,[o]:`${A}${n}`}))),ir=q(()=>typeof t.renderer=="function"?t.renderer:(Mr[t.renderer]?Mr[t.renderer]:Mr.default).bind({label:e(we)})),$e=q(()=>De()?"text":"none"),tt=q(()=>e(D).length?"":Qe()),rt=q(()=>e(D).length>0&&B()===!1?null:"enter"),Pt=q(()=>e(g).aria_selected(e(D).map(n=>n[e(we)]))),_t=q(()=>{if(e(D).length&&e(D).length===je())return e(g).max(je());const n=Math.min(e(K),e(H).length-1);return ye()?e(U)?e(g).fetchInit:e(H).length?e(K)!==-1?e(g).aria_inputFocused():e(H)[e(K)]?e(g).aria_listActive(e(H)[n],e(we),e(H).filter(o=>!o.$isGroupHeader).length):"N/A."+e(K):Be()>1?e(g).fetchQuery(Be(),e(u).length):e(g).fetchBefore:e(H).length?e(be)&&e(K)!==-1&&!isNaN(e(K))?e(g).aria_listActive(e(H)[n],e(we),e(H).filter(o=>!o.$isGroupHeader).length):e(g).aria_inputFocused():e(u).length?e(g).nomatch:e(g).empty});function xr(n,o){e(It)&&(n&&e(L)!==n&&(Ee.valueField=d(L,n,!0),Z.size>0&&ar()),o&&(Ee.labelField=d(we,o,!0)))}function zr(n){if(br!==n){if(n=Mn(gi(n,e(L),e(we)),Ee),!S()){const o=Zr("value",n||null,Q());!S()&&e(L)!==o&&(Ee.valueField=d(L,o,!0),Z.size>0&&ar())}if(!R()){const o=Zr("label",n||null,Q());!R()&&e(we)!==o&&(Ee.labelField=o,d(we,o,!0))}br=n,d(pe,t.optionResolver?t.optionResolver(n,Z):n,!0)}}function Hr(n,o){if(B()){if(n&&(o==null?void 0:o.length)===n.length&&n.length>0)return Xe()?n.every((p,A)=>p[e(L)]===o[A][e(L)]):n.every((p,A)=>p===o[A])}else if(o&&n)return Xe()?o[e(L)]===n[e(L)]:o===n;return!1}function ft(n,o){if(Hr(Oe,n)&&!(o!=null&&o.skipEqualityCheck))return;const p=Array.isArray(n)&&n.length||B()===!1;if(n!==null&&p){if((B()&&!Array.isArray(n)||!B()&&Array.isArray(n))&&console.warn(`[Svelecte]: Passed 'value' property should ${B()?"be":"NOT be"} an array`),z&&(!Array.isArray(z)||z.length))return;const A=Array.isArray(n)?n:[n],w=[],P=A.reduce((V,ae)=>{if(Xe()&&(!Le()||ge()&&ae.$created))return V.push(Object.fromEntries(Object.entries(ae))),V;let ve=e(Ze).find(bt=>Xe()?bt[e(L)]==ae[e(L)]:bt[e(L)]==ae);return!ve&&!Le()&&(ve=t.createHandler?e(At)({inputValue:ae,valueField:e(L),labelField:e(we),prefix:Tt()}):{[e(L)]:ae,[e(we)]:ae}),ve&&(Z.has(ve[e(L)])||V.push(ve),w.push(ve[e(L)])),V},[]);if(e(D).forEach(V=>!w.includes(V[e(L)])&&Gn(V)),!(P.every(gn)&&(B()?Z.size===A.length:Z.size===1))){console.warn('[Svelecte]: provided "value" property is invalid',n),Xe()&&Le()&&ye()&&console.warn("[Svelecte]: with 'fetch' and 'valueAsObject' set make sure 'strictMode' is set to false to be to set initial value"),ar(),Oe=B()?[]:null,_e(Oe),vr(Oe),mr()(n);return}}else ar();Oe=In(n),B()&&!Array.isArray(n)&&(Oe=[],_e(Oe)),vr(Ft(!0))}function Ft(n){const o=n!==!0,p=e(D).map(A=>{if(o)return A[e(L)];const w={};for(let[P,$]of Object.entries(A))P[0]!=="$"&&(w[P]=$);return w});return B()?p:p.length?p.shift():null}yt(()=>{if(qe()!==void 0&&yr!==qe()||qe()===void 0&&yr!==qe()){const n=qe()===void 0?!1:!qe();ar(),_e(B()?[]:null),_(n)}yr=qe(),xe=qe()!==void 0});function ze(n){n&&!e(Et)&&d(Et,!0);const o=e(nr);!e(nr)&&n&&d(nr,!0),d(be,n,!0),ot().then(()=>{if(!o&&Ye())return ot()}).then(()=>{Lt()===$r&&mi(n,e(ne)),n&&(Ie()&&(e(D).length===0||B())&&pt(0,{asc:!0}),!B()&&e(D).length&&d(K,e(Ze).findIndex(p=>p[e(L)]===e(D)[0][e(L)]),!0),Xr({container:Me,scrollContainer:e(ne),virtualList:Ye(),center:!1},e(K))),ot().then(()=>d(Bt,n,!0))}),l||(l=()=>Lt()===$r&&mi(n,e(ne))),document[n?"addEventListener":"removeEventListener"]("scroll",l,{passive:!0})}function Ci(n,o){if(!(ye()&&!e(E))){if(n){d(Ct,e(g).max(je()),!0);return}d(Ct,o.length!==e(Ze).length&&e(D).length!==e(Ze).length?ge()?e(g).emptyCreatable:e(g).nomatch:ge()?e(g).emptyCreatable:e(g).empty,!0)}}function kr(){const n=Ft(!0),o=Ft(!1);Oe=Xe()?n:o,_e(Oe),vr(n),ot().then(()=>{Yt()(ln()?o:n),te&&te.dispatchEvent(new Event("change"))})}function Sr(n,o){if(o=o||n.detail,!(_()||o[Fe()]||o.$isGroupHeader)){if(!o||B()&&e(Te))return!1;if(Z.has(o[e(L)]))return!B()&&de()!=="toggle"?void 0:Ur(o);if(typeof o=="string"){if(!ge()||(o=Cn(o),dt.includes(o)||Z.has(o)))return;d(j,!0),Promise.resolve().then(()=>e(At)({inputValue:o,valueField:e(L),labelField:e(we),prefix:Tt()})).then(p=>{d(j,!1),!ye()&&dt.push(o),p.$created=!0,cr()&&(e(pe).push(p),p=e(pe)[e(pe).length-1]),Xt()(p),gn(p),Un(),kr()}).catch(p=>{d(j,!1),hr()({input:o,error:p})});return}gn(o),Un(),kr()}}function Un(){(B()&&ce()||!B())&&d(u,""),(ue()===!0||ue()==="auto"&&!B())&&ze(!1),je()&&e(D).length==je()&&d(K,0)}function gn(n){if(n.$selected=!0,B())e(D).push(n),Z.add(n[e(L)]);else{const o=e(D).shift();o&&(o.$selected=!1),d(D,[n],!0),Z.clear(),Z.add(n[e(L)]),ot().then(()=>{const p=e(Ze).indexOf(n);d(K,p<0?0:p,!0)})}return t.optionResolver&&ot().then(()=>{d(pe,t.optionResolver(x(),Z),!0)}),!0}function Ur(n=null,o){_()||(n?(Gn(n,o),Vt()!==!0&&ot().then(()=>Xr({scrollContainer:e(ne),container:Me,virtualList:Ye(),center:!1},e(K)))):ar(),kr())}function Gn(n,o){if(n.$created){if(!cr()){dt.splice(dt.findIndex(w=>w===n[e(L)]),1);const A=e(pe).findIndex(w=>w[e(L)]===n[e(L)]);A!==-1&&e(pe).splice(A,1),d(pe,e(pe),!0)}o&&Jt()&&d(u,n[e(we)].replace(Tt(),""),!0)}n.$selected=!1;const p=n[e(L)];if(Z.delete(p),e(D).splice(e(D).findIndex(A=>A[e(L)]==p),1),t.optionResolver){d(pe,t.optionResolver(x(),Z),!0);return}ye()&&!e(E)&&Re()&&d(Rt,!0)}function ar(){if(!(Z.size===0||!B()&&de()==="none")){if(Z.clear(),d(D,e(D).reduce((n,o)=>(o.$selected=!1,[]),[]),!0),cr()||(dt=[]),e(u)&&d(u,""),t.optionResolver){d(pe,t.optionResolver(x(),Z),!0);return}ye()&&!e(E)&&Re()&&d(Rt,!0)}}function Oi(n){n.preventDefault(),!dt.includes(e(u))&&Sr(null,e(u))}function Mi(n){if(ge()&&Y().indexOf(n.key)>-1){e(u).length>0&&Sr(null,e(u)),n.preventDefault();return}const o=Ce()&&e(be)&&!n.shiftKey?"Tab":"No-tab";let p=J?n.metaKey:n.ctrlKey,A=["PageUp","PageDown"].includes(n.key),w=!1,P=!1;switch(n.key){case"End":if(e(u).length!==0)return;pt(e(H).length,{desc:!0});case"PageDown":if(A){const[ae,ve]=pn();d(K,Math.min(Math.ceil((ve*e(K)+ae)/ve),e(H).length+(ge()&&e(u)?1:0)),!0)}case"ArrowUp":if(n.preventDefault(),!e(be)){ze(!0);return}pt(e(K)-1,{desc:!0}),ot().then(()=>Xr({scrollContainer:e(ne),container:Me,virtualList:Ye(),center:!1},e(K)));break;case"Home":if(P=!0,e(u).length!==0||e(u).length===0&&e(H).length===0)return;pt(0,{asc:!0});case"PageUp":if(A){const[ae,ve]=pn();d(K,Math.floor((ve*e(K)-ae)/ve),!0)}case"ArrowDown":if(n.preventDefault(),!e(be)){ze(!0);return}const $=e(K)===null?-1:e(K);!P&&pt($+1,{asc:!0}),ot().then(()=>Xr({scrollContainer:e(ne),container:Me,virtualList:Ye(),center:!1},e(K)));break;case"Escape":e(be)&&(n.preventDefault(),n.stopPropagation()),e(u)||ze(!1),d(u,"");break;case o:case"Enter":if(!e(be)){n.key!==o&&Rr()(n);return}let V=p?null:e(H)[e(K)];if(ge()&&!V&&e(u)){const ae=e(gt)(Cn(e(u)));V=!V||p?Cn(e(u)):V,p=ae}if(!p&&V&&Sr(null,V),e(H).length<=e(K)&&pt(e(H).length-1),!V&&e(D).length){ze(!1),n.key!==o&&Rr()(n);return}(n.key!==o||n.key===o&&Ce()!=="select-navigate")&&n.preventDefault();break;case" ":!ye()&&!e(be)&&(ze(!0),n.preventDefault());break;case"Backspace":if(Je()==="always")return;w=!0;case"Delete":if(e(u)===""&&e(D).length){if(!B()&&de()==="none")return;p?Ur():Ur(e(D)[e(D).length-1],w),n.preventDefault()}default:!p&&!["Tab","Shift"].includes(n.key)&&!e(be)&&!e(U)&&ze(!0)}}function qn(n){if(_())return;const o=n.target.closest("[data-action]");if(e(Et)||d(Et,!0),(o==null?void 0:o.dataset.action)==="default")return;n.preventDefault();const p=n.target.closest("[data-pos]");if(!o&&!p)return zi(n.target);switch((o==null?void 0:o.dataset.action)||"select"){case"deselect":let w=o.bound_item;if(!w){const $=o.dataset.id;w=e(D).filter(V=>V[e(L)]==$).shift()}Ur(w),w&&!e(mt)&&fe.focus();break;case"select":const P=parseInt(p.dataset.pos);Sr(null,e(H)[P]);break;case"toggle":ze(!e(be));break}}function Ti(n){if(Xa()&&!e(rt)&&n.key==="Enter")return!0;I=["Enter","Escape"].includes(n.key)&&e(be),Mi(n)}function Di(n){I&&(n.stopImmediatePropagation(),n.preventDefault()),I=!1}function Li(){d(mt,!0),ze(e(Et)),e(wr)||d(wr,!0),Je()==="blur"&&!ee&&setTimeout(()=>{d(F,!1)},100),cn()(fe)}function ji(){d(mt,!1),ze(!1),d(Et,!1),C()?d(u,""):We&&!e(E)&&We.abort("blur"),Je()==="blur"&&!ee&&setTimeout(()=>{d(F,!0)},100),jr()(fe)}function Ri(n){if(ge()){n.preventDefault();const o=new RegExp("([^"+Y()+"\\n]+)","g"),p=n.clipboardData.getData("text/plain").replace(/\//g,"/").replace(/\t/g," "),A=p.match(o);A.length===1&&p.indexOf(",")===-1&&d(u,A.pop().trim(),!0),A.forEach(w=>Sr(null,w.trim()))}}function Wn(n){ee=n.type==="consider",d(D,n.detail.items,!0),ee||(kr(),Je()==="blur"&&setTimeout(()=>{d(F,!0)},200))}let We,Gr;yt(()=>{Pi(e(u))}),yt(()=>{Bi(ye(),qe())});let Ct=M(Ge(ye()?e(E)?e(g).fetchInit:Be()>1?e(g).fetchQuery(Be(),0):e(g).fetchBefore:ge()?e(g).emptyCreatable:e(g).empty));function Bi(n,o){if(!n){Gr=null;return}(e(E)||z)&&(d(U,!0),_n({init:!0})),Gr=Wa(_n,sn())}function Pi(n){if(e(E)||e(Te)){d(Ct,e(Te)?e(g).max(je()):e(g).fetchInit,!0);return}Gr&&(We==null||We.abort(),d(U,!0),e(u).length<Be()&&d(U,!1),!t.optionResolver&&Re()&&(Ne=[]),d(Bt,n.length>=Be()?ge():!0,!0),d(Ct,e(Te)?e(g).max(je()):Be()<=1?e(g).fetchBefore:e(g).fetchQuery(Be(),n.length),!0),Gr())}function _n(n={}){if(We==null||We.abort(),n.init!==!0&&!e(u).length||xe&&!qe()){d(U,!1),Re()&&d(pe,t.optionResolver?t.optionResolver(x(),Z):[],!0);return}if(e(u)&&e(u).length<Be()){d(U,!1);return}e(E)&&Oe&&(!B()||(Oe==null?void 0:Oe.length)>0)&&(z=Oe);const o=In(z||n.initValue);let p;if(o&&(p=Xe()?B()?o.map(w=>w[e(L)]):o[e(L)]:o),e(E))d(Ct,e(g).fetchInit,!0);else if(o&&t.optionResolver){z=null,d(Ct,Be()>1?e(g).fetchQuery(Be(),e(u).length):e(g).fetchBefore,!0);return}const A=G.requestFactory(e(u),{parentValue:qe(),url:ye(),initial:p},typeof ur()=="function"?ur()():ur());We==null||We.abort(),We=A.controller,window.fetch(A.request).then(w=>w.json()).then(w=>(!Array.isArray(w)&&(w!=null&&w.error)&&Zt()(w.error),Promise.resolve(Dr()?Dr()(w):w.data||w.items||w.options||w).then(P=>{Array.isArray(P)||(console.warn("[Svelecte]:Fetch - array expected, invalid property provided:",P),P=[]),d(Rt,!1),Ne=null,d(pe,Mn(P,Ee),!0),Dt()(P),o&&(z=null,ft(o,{skipEqualityCheck:!0}),"storedValue"in n&&Re(n.storedValue))}))).catch(w=>{if(w instanceof DOMException&&w.name==="AbortError")return!0;Ne=null,d(pe,[],!0),Zt()(w),console.warn("[Svelecte] Fetch Error:",w)}).then(w=>{w!==!0&&(d(Ct,e(E)?e(g).empty:o?Be()>1?e(g).fetchQuery(Be(),0):e(g).fetchBefore:e(g).fetchEmpty,!0),We=null,d(U,!1),e(mt)&&ze(!0),e(be)&&!e(Bt)&&d(Bt,!0))})}function Ni(n){return Vt()?Vt()===!0?n?Z:null:n||B()?Z:null:Z}function pt(n,o={},p=0){var w;const A=ge()&&e(u)?e(H).length+1:e(H).length;if(!(p>=2)){if(n<0&&(n=o.desc?A-1:0),(e(K)===null&&Ie()||n>=A)&&(n=0),(w=e(H)[n])!=null&&w.$isGroupHeader){pt(o.asc?n+1:n-1,o,++p);return}d(K,n,!0)}}function zi(n){if(!_()){if(!e(mt)){fe.focus();return}n.tagName==="INPUT"&&e(u)||ze(!e(be))}}function pn(){return Ye()?[On(e(ne),"maxHeight")-On(e(ne),"paddingTop")-On(e(ne),"paddingBottom"),Pe==null?void 0:Pe.resolveItemSize()]:[e(ne).offsetHeight,Me.firstElementChild.offsetHeight]}Nn(()=>{d(It,!0),J=navigator.platform.indexOf("Mac")===0||navigator.platform==="iPhone",d(h,J?"⌘":"Ctrl",!0),jt()&&(te=document.getElementById(jt()),te.className="sv-hidden-element",te.innerHTML="",te.tabIndex=-1,te.disabled=_(),te.required=m(),te.multiple=B(),!B()&&te.insertAdjacentHTML("beforeend",'<option value="" selected>Empty</option>'),Z.forEach(n=>{te.insertAdjacentHTML("beforeend",`<option value=${n} selected>${n}</option>`)})),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&d(oe,0)});var Hi={focus:Nr,setSelection:vn,getSelection:hn,refetchWith:mn},qr=Ns();let Kn;var bn=y(qr),Ui=y(bn);{var Gi=n=>{var o=Es(),p=Ae(o),A=y(p,!0);b(p);var w=T(p,2),P=y(w,!0);b(w),re(()=>{se(A,e(Pt)),se(P,e(_t))}),O(n,o)};ie(Ui,n=>{e(mt)&&n(Gi)})}b(bn);var Qn=T(bn,2);{var qi=n=>{var o=Fs();wt(o,21,()=>e(D),p=>p[e(L)],(p,A)=>{var w=As(),P=y(w,!0);b(w);var $={};re(()=>{se(P,e(A)[e(L)]),$!==($=e(A)[e(L)])&&(w.value=(w.__value=e(A)[e(L)])??"")}),O(p,w)}),b(o),xt(o,p=>te=p,()=>te),re(()=>{He(o,"name",f()),o.required=m(),o.multiple=B(),o.disabled=_(),He(o,"id",St)}),O(n,o)};ie(Qn,n=>{f()&&!jt()&&n(qi)})}var sr=T(Qn,2);sr.__mousedown=[_i],sr.__click=qn;var Vn=y(sr);{var Wi=n=>{var o=Ke(),p=Ae(o);st(p,Br),O(n,o)};ie(Vn,n=>{Br()&&n(Wi)})}var Nt=T(Vn,2);let Jn;var Yn=y(Nt);{var Ki=n=>{var o=Ke(),p=Ae(o);st(p,un,()=>e(D),()=>e(g)),O(n,o)},Qi=n=>{var o=Ke(),p=Ae(o);{var A=w=>{var P=Ke(),$=Ae(P);st($,dn,()=>e(D),()=>cs),O(w,P)};ie(p,w=>{e(D).length&&w(A)},!0)}O(n,o)};ie(Yn,n=>{e(D).length&&B()&&e(F)?n(Ki):n(Qi,!1)})}var yn=T(Yn,2),ke=y(yn);ki(ke);let Xn;ke.__keydown=Ti,ke.__keyup=Di,ke.__input=[_s,D,B],xt(ke,n=>fe=n,()=>fe),b(yn),b(Nt),Or(Nt,(n,o)=>{var p;return(p=me())==null?void 0:p(n,o)},()=>({items:e(D),flipDurationMs:e(oe),type:v(),dragDisabled:e(F)}));var Wr=T(Nt,2);let Zn;var $n=y(Wr);{var Vi=n=>{var o=Cs();let p;var A=y(o);st(A,Pr,()=>e(D),()=>e(u)),b(o),re(w=>p=he(o,1,"sv-btn-indicator svelte-kgu1bj",null,p,w),[()=>({"sv-has-selection":e(D).length})]),O(n,o)};ie($n,n=>{Ve()&&!_()&&n(Vi)})}var ei=T($n,2);{var Ji=n=>{var o=Os();O(n,o)};ie(ei,n=>{Ve()&&n(Ji)})}var wn=T(ei,2);let ti;var Yi=y(wn);st(Yi,fn,()=>e(be)),b(wn),b(Wr);var Xi=T(Wr,2);{var Zi=n=>{var o=Ke(),p=Ae(o);st(p,gr),O(n,o)};ie(Xi,n=>{gr()&&n(Zi)})}b(sr);var or=T(sr,2);let ri;or.__mousedown=[_i],or.__click=qn;var $i=y(or);{var ea=n=>{var o=Ps(),p=Ae(o);{var A=X=>{var le=Ke(),Se=Ae(le);st(Se,$t),O(X,le)};ie(p,X=>{$t()&&X(A)})}var w=T(p,2);let P;var $=y(w);let V;var ae=y($);{var ve=X=>{{const le=(nt,Ot=Ue)=>{const vt=q(()=>e(H)[Ot()]||{});var Kr=Ke(),Ht=Ae(Kr);{var Qr=Mt=>{var it=Ms(),Ut=y(it),ht=y(Ut,!0);b(Ut),b(it),re(()=>se(ht,e(vt).label)),O(Mt,it)},Vr=Mt=>{var it=Ts();let Ut;var ht=y(it);st(ht,er,()=>e(vt),()=>e(u)),b(it),re(at=>{He(it,"data-pos",Ot()),Ut=he(it,1,`sv-item--wrap in-dropdown ${kt()??""}`,"svelte-kgu1bj",Ut,at)},[()=>({"sv-dd-item-active":e(K)===Ot(),"is-selected":e(vt).$selected||Z.has(e(vt)[e(L)]),"is-disabled":e(vt)[Fe()]})]),O(Mt,it)};ie(Ht,Mt=>{e(vt).$isGroupHeader?Mt(Qr):Mt(Vr,!1)})}O(nt,Kr)};let Se=q(()=>pn().shift()),et=q(()=>e(H).length||0);xt(fs(X,{get maxHeight(){return e(Se)},get itemHeight(){return Lr()},get itemCount(){return e(et)},get scrollToIndex(){return e(K)},children:le,$$slots:{default:!0}}),nt=>Pe=nt,()=>Pe)}},bt=X=>{var le=Ke(),Se=Ae(le);{var et=nt=>{var Ot=Ke(),vt=Ae(Ot);wt(vt,17,()=>e(H),Cr,(Kr,Ht,Qr)=>{var Vr=Ke(),Mt=Ae(Vr);{var it=ht=>{var at=Ds(),Ar=y(at),kn=y(Ar,!0);b(Ar),b(at),re(()=>se(kn,e(Ht).label)),O(ht,at)},Ut=ht=>{var at=Ls();He(at,"data-pos",Qr);let Ar;var kn=y(at);st(kn,er,()=>e(Ht),()=>e(u)),b(at),re(ta=>Ar=he(at,1,`sv-item--wrap in-dropdown ${kt()??""}`,"svelte-kgu1bj",Ar,ta),[()=>({"sv-dd-item-active":e(K)===Qr,"is-selected":e(Ht).$selected,"is-disabled":e(Ht)[Fe()]})]),O(ht,at)};ie(Mt,ht=>{e(Ht).$isGroupHeader?ht(it):ht(Ut,!1)})}O(Kr,Vr)}),O(nt,Ot)};ie(Se,nt=>{Ye()===!1&&nt(et)},!0)}O(X,le)};ie(ae,X=>{Ye()&&e(ne)?X(ve):X(bt,!1)})}var Ir=T(ae,2);{var Er=X=>{var le=js(),Se=y(le),et=y(Se),nt=y(et,!0);b(et),b(Se),b(le),re(()=>{he(Se,1,`sv-item--wrap in-dropdown ${kt()??""}`,"svelte-kgu1bj"),se(nt,e(Ct))}),O(X,le)};ie(Ir,X=>{(e(H).length===0&&(!ge()||!e(u))||e(Te))&&X(Er)})}b($),xt($,X=>Me=X,()=>Me),b(w),xt(w,X=>d(ne,X),()=>e(ne));var xn=T(w,2);{var zt=X=>{var le=Bs(),Se=y(le);let et;Se.__click=Oi,Se.__mousedown=[Rs];var nt=y(Se);st(nt,_r,()=>e(j),()=>e(u),()=>e(g)),b(Se),b(le),re((Ot,vt)=>{et=he(Se,1,"creatable-row svelte-kgu1bj",null,et,Ot),Se.disabled=vt},[()=>({active:(e(H).length?e(H).length:0)===e(K),"is-disabled":e(gt)(e(u))}),()=>e(gt)(e(u))]),O(X,le)};ie(xn,X=>{ge()&&e(u)&&!e(Te)&&X(zt)})}re((X,le)=>{P=he(w,1,"sv-dropdown-scroll svelte-kgu1bj",null,P,X),V=he($,1,"sv-dropdown-content",null,V,le)},[()=>({"has-items":e(H).length>0,"is-virtual":Ye()}),()=>({"max-reached":e(Te)})]),O(n,o)};ie($i,n=>{e(It)&&e(nr)&&n(ea)})}return b(or),Or(or,n=>{var o;return(o=Lt())==null?void 0:o(n)}),b(qr),re((n,o,p,A,w,P)=>{Kn=he(qr,1,ka(["svelecte",ut()]),"svelte-kgu1bj",Kn,n),he(sr,1,`sv-control ${pr()??""}`,"svelte-kgu1bj"),Jn=he(Nt,1,"sv-control--selection svelte-kgu1bj",null,Jn,o),He(yn,"data-value",e(u)||e(tt)),Xn=he(ke,1,"sv-input--text svelte-kgu1bj",null,Xn,p),He(ke,"id",v()),He(ke,"placeholder",e(u)?"":e(tt)),He(ke,"inputmode",e($e)),ke.readOnly=!De(),He(ke,"enterkeyhint",e(rt)),ke.disabled=_(),He(ke,"aria-label",e(g).aria_label),He(ke,"aria-describedby",e(g).aria_describedby),Zn=he(Wr,1,"sv-buttons svelte-kgu1bj",null,Zn,A),ti=he(wn,1,"sv-btn-indicator svelte-kgu1bj",null,ti,w),ri=he(or,1,`sv_dropdown ${tr()??""} `,"svelte-kgu1bj",ri,P)},[()=>({"is-required":m(),"is-empty":e(D).length===0,"is-invalid":m()&&e(D).length===0,"is-tainted":e(wr),"is-valid":m()?e(D).length>0:!0,"is-focused":e(mt),"is-open":e(be),"is-disabled":_()}),()=>({"is-single":B()===!1,"has-items":e(D).length>0,"has-input":e(u).length}),()=>({"keep-value":!C()}),()=>({"is-loading":e(U)}),()=>({"sv-dropdown-opened":e(be)}),()=>({"is-open":e(Bt)})]),lt("consider",Nt,Wn),lt("finalize",Nt,Wn),lt("focus",ke,Li),lt("blur",ke,ji),lt("paste",ke,Ri),xi(ke,()=>e(u),n=>d(u,n)),O(r,qr),Hn(Hi)}bi(["mousedown","click","keydown","keyup","input"]);function pi(r,t,i,a){if(!e(t).show)return;i();const{x:s,y:c}=a(r.clientX,r.clientY);d(t,{...e(t),x:s,y:c},!0)}function Hs(r,t){t("/")}function Us(r,t,i,a){const s=Si(e(t)||e(i));a(s)}function Gs(r,t,i,a,s){e(t)>0&&(d(t,e(t)-1),i(e(a)[e(t)]),s(e(a)[e(t)]))}function qs(r,t,i,a,s){e(t)<e(i).length-1&&(d(t,e(t)+1),a(e(i)[e(t)]),s(e(i)[e(t)]))}function Ws(r,t,i,a){r.key==="Enter"&&t(e(i)||e(a))}var Ks=(r,t)=>d(t,!e(t)),Qs=(r,t)=>t("disk"),Vs=(r,t)=>t("count"),Js=W(`<div class="flex flex-col divide-y divide-gray-500 absolute w-36 rounded border
           border-gray-500 bg-gray-800 shadow-lg z-20 overflow-hidden mt-0.5"><button class="w-full text-left px-3 py-2 hover:bg-gray-700 text-nowrap">By Disk Usage</button> <button class="w-full text-left px-3 py-2 hover:bg-gray-700">By Total Files</button></div>`),Ys=(r,t)=>d(t,!e(t)),Xs=(r,t)=>t(-1),Zs=(r,t)=>t(0),$s=(r,t)=>t(1),eo=(r,t)=>t(2),to=W(`<div class="flex flex-col divide-y divide-gray-500 absolute w-48 rounded border
           border-gray-500 bg-gray-800 shadow-lg z-20 overflow-hidden mt-0.5"><button class="w-full text-left px-3 py-2 hover:bg-gray-700">Any Time</button> <button class="w-full text-left px-3 py-2 hover:bg-gray-700">Recent (2 months)</button> <button class="w-full text-left px-3 py-2 hover:bg-gray-700">Not too old (2 years)</button> <button class="w-full text-left px-3 py-2 hover:bg-gray-700">Old files</button></div>`),ro=(r,t)=>t(r),no=W('<div class="h-full transition-all duration-300 min-w-[0.5px] hover:opacity-90"></div>'),io=W('<div class="relative p-3 bg-gray-800 border border-gray-500 rounded-lg animate-pulse min-h-16 h-16"><div class="flex items-center justify-between gap-4"><div class="h-4 bg-gray-700 rounded w-3/4"></div> <div class="h-3 bg-gray-700 rounded w-12"></div></div> <div class="flex gap-2 mt-2"><div class="h-3 bg-gray-700 rounded w-16"></div> <div class="h-3 bg-gray-700 rounded w-20"></div> <div class="h-3 bg-gray-700 rounded w-24"></div></div></div>'),ao=W('<div class="flex flex-col gap-2 overflow-y-auto"></div>'),so=(r,t,i)=>t(e(i).path),oo=W('<div class="h-full transition-all duration-300 min-w-[0.5px] hover:opacity-90"></div>'),lo=W('<div class="relative px-2 py-1 cursor-pointer hover:opacity-95 bg-gray-700 border border-gray-500 rounded-lg overflow-hidden min-h-16"><div class="absolute left-0 top-0 bottom-0 flex z-0"></div> <div class="relative flex flex-col gap-2 z-10 pointer-events-none"><div class="flex items-center justify-between gap-4"><div class="w-full overflow-hidden text-ellipsis whitespace-nowrap"><div> </div></div> <span class="text-nowrap font-bold"> </span></div> <div class="flex justify-end"><p class="text-sm"> <!></p></div></div></div>'),co=(r,t)=>t(r),uo=W('<div class="flex"><span class="material-symbols-outlined text-4xl">subdirectory_arrow_right</span> <div class="relative flex grow px-2 py-1 bg-gray-700 border border-gray-500 rounded overflow-hidden text-xs"><div class="flex flex-col w-full"><div class="absolute left-0 top-0 bottom-0 z-0 opacity-60"></div> <div class="relative z-10 flex items-center justify-between gap-2"><div class="w-full overflow-hidden"><span class="cursor-pointer text-ellipsis text-nowrap"> </span></div> <div class="flex items-center gap-4 text-sm font-semibold text-nowrap"> </div></div> <div class="relative z-10 flex justify-between"><div> </div> <div> </div></div></div></div></div>'),fo=W('<div class="flex flex-col gap-2 overflow-y-auto transition-opacity duration-200 p-4"><!> <!></div>'),vo=W('<div class="fixed z-50 pointer-events-none"><div class="relative rounded-xl border border-white/10 bg-black/90 text-white shadow-xl px-3 py-2"><div class="flex items-center justify-center"><div class="font-medium text-sm truncate max-w-[180px]"> </div></div> <div class="flex gap-2 items-center justify-between text-xs opacity-90"><div class="text-nowrap"> </div> <div> </div></div> <div class="absolute left-1/2 top-full -translate-x-1/2 mt-[-4px]"><div class="w-2 h-2 rotate-45 bg-black/90 border border-white/10 border-l-0 border-t-0"></div></div></div></div>'),ho=W("<div>Path copied!</div>"),mo=W('<div class="flex flex-col h-screen min-h-0 gap-2 p-2"><div class="flex gap-2 items-center relative select-none"><button class="btn" title="Go to Root Folder"><div class="flex items-center"><span class="material-symbols-outlined">home</span></div></button> <button class="btn" title="Go Back"><div class="flex items-center"><span class="material-symbols-outlined">arrow_back</span></div></button> <button class="btn" title="Go Forward"><div class="flex items-center"><span class="material-symbols-outlined">arrow_forward</span></div></button> <button class="btn" title="Go Up"><div class="flex items-center"><span class="material-symbols-outlined">arrow_upward</span></div></button> <div class="relative"><button class="btn w-36"><div class="flex items-center gap-2"><span class="material-symbols-outlined">sort</span> </div></button> <!></div> <div class="relative"><button class="btn w-36"><div class="flex items-center gap-2"><span class="material-symbols-outlined">schedule</span> </div></button> <!></div> <!></div> <div class="flex"><input placeholder="Path..." class="w-full truncate text-left cursor-pointer" autocorrect="off" spellcheck="false" autocomplete="off" autocapitalize="none"/></div> <div><div class="relative px-2 bg-gray-700 border border-gray-500 rounded overflow-hidden"><div class="absolute left-0 top-0 bottom-0 flex z-0" style="width: 100%"></div> <div class="relative z-10 p-1 pointer-events-none"><div class="flex items-center justify-end"><p> </p></div></div></div></div> <!> <div class="grow"></div></div> <!> <!>',1);function ko(r,t){zn(t,!0);let i=[],a=M("/"),s=M("/"),c=M(Ge([])),f=M(Ge([])),v=M(!1),m=M(Ge(["/"])),_=M(0),x=M("disk"),S=M(!1),R=M("All Users"),N=M(Ge([])),Q=Ge(new Map),Fe=M(Ge([])),Qe=M(void 0),De=M(!1);function Ve(l,h,u){const I="width:16px;height:16px;border:1px solid white;border-radius:3px;flex:none;",g=i[0],E=i[1]??g,z=i[2]??E,J=i[3]??z,F=l.user==="All Users"?`background: linear-gradient(90deg, ${g} 0%, ${E} 33%, ${z} 66%, ${J} 100%);`:`background: ${l.color};`,U=lr.isAdmin?"":"text-gray-400";return`<div class="flex gap-2 items-center">
                <div class="border border-gray-500 rounded"
                  style="${I}${F}"></div>
                <div class="${U}">${l.user}</div>              
              </div>`}ms("color",Ve);function ct(l){l.forEach((h,u)=>{Q.has(h)||Q.set(h,i[u%i.length])}),d(Fe,Array.from(Q.entries()).map(([h,u])=>({user:h,color:u})),!0)}function Ie(l){const h=Q.get(l);if(h)return h;let u=0;for(let g=0;g<l.length;g++)u=u*31+l.charCodeAt(g)>>>0;const I=i[u%i.length];return Q.set(l,I),I}let Ce=M(-1),C=M(!1);const ce={"-1":"Any Time",0:"Recent",1:"Not too old",2:"Old files"};function ue(l){return ce[l]}function de(l){d(Ce,l,!0),d(C,!1),hr()}let me=M(Ge({show:!1,x:0,y:0})),Le=M(null);const B=8,je=10;function Je(l,h){var oe,ee;const u=window.innerWidth,I=window.innerHeight,g=((oe=e(Le))==null?void 0:oe.offsetWidth)??200,E=((ee=e(Le))==null?void 0:ee.offsetHeight)??60,z=g/2,J=B+z,F=u-B-z,U=B+E+je,j=I-B;return{x:Math.min(F,Math.max(J,l)),y:Math.min(j,Math.max(U,h))}}function Vt(l,h,u){Jt();const{x:I,y:g}=Je(l.clientX,l.clientY);d(me,{show:!0,x:I,y:g,username:h.username,value:dr(h),percent:Math.round(u*10)/10},!0)}function ge(){Jt(),d(me,{show:!1,x:0,y:0},!0)}let Tt=M(null);function Jt(){e(Tt)&&(clearTimeout(e(Tt)),d(Tt,null))}function cr(l,h){const u=h===-1?["0","1","2"]:[String(h)];return(l??[]).map(I=>{const g={};let E=0,z=0,J=0,F=0;const U=Object.entries(I.users??{});for(const[j,oe]of U){let ee=0,xe=0,fe=0,te=0;for(const Me of u){const ne=oe==null?void 0:oe[Me];if(!ne)continue;const Pe=Number(ne.count??0),Te=Number(ne.disk??0),Ne=Number(ne.mtime??0),H=Number(ne.mtime??0);ee+=Number.isFinite(Pe)?Pe:0,xe+=Number.isFinite(Te)?Te:0,Number.isFinite(Ne)&&Ne>fe&&(fe=Ne),Number.isFinite(H)&&H>te&&(te=H)}(ee||xe)&&(g[j]={username:j,count:ee,disk:xe,atime:fe,mtime:te},E+=ee,z+=xe,fe>J&&(J=fe),te>F&&(F=te))}return{path:I.path,total_count:E,total_disk:z,accessed:J,modified:F,users:g}}).filter(I=>Object.keys(I.users).length>0)}const Y=l=>{const h=Number(l);return Number.isFinite(h)?h:0},ye=q(()=>{const l=e(x);return(e(c)?[...e(c)]:[]).sort((u,I)=>{let g,E;switch(l){case"disk":g=Y(u==null?void 0:u.total_disk),E=Y(I==null?void 0:I.total_disk);break;case"count":g=Y(u==null?void 0:u.total_count),E=Y(I==null?void 0:I.total_count);break}return E-g})});let ur=q(()=>{var I;const l=e(x),h=((I=e(c))==null?void 0:I.map(g=>{switch(l){case"disk":return Y(g==null?void 0:g.total_disk);case"count":return Y(g==null?void 0:g.total_count)}}))??[],u=Math.max(0,...h);return u>0?u:1});const an=l=>{const u=Y(l)/e(ur)*100,I=Math.max(0,Math.min(100,u));return Math.round(I*10)/10},Dr=l=>{switch(l){case"disk":return"Disk Usage";case"count":return"Total Files";default:return"Disk Usage"}};function Re(l,h){let u=typeof h=="function"?h:h==null?void 0:h.close;const I=E=>{l.contains(E.target)||u==null||u()},g=E=>{(E.key==="Escape"||E.key==="Esc")&&(u==null||u())};return document.addEventListener("pointerdown",I,!0),document.addEventListener("keydown",g,!0),{update(E){u=typeof E=="function"?E:E==null?void 0:E.close},destroy(){document.removeEventListener("pointerdown",I,!0),document.removeEventListener("keydown",g,!0)}}}const sn=l=>{switch(e(x)){case"disk":return Y(l==null?void 0:l.total_disk);case"count":return Y(l==null?void 0:l.total_count)}};function Be(l){switch(e(x)){case"disk":return Yr(Y(l==null?void 0:l.total_disk));case"count":return Y(l==null?void 0:l.total_count).toLocaleString()}}function dr(l){switch(e(x)){case"disk":return Yr(Y(l==null?void 0:l.disk));case"count":return Y(l==null?void 0:l.count).toLocaleString()}}const Ye=l=>e(x)==="disk"?Number(l.disk):Number(l.count);function Lr(l){return Object.entries((l==null?void 0:l.users)??{}).sort(([,h],[,u])=>Ye(h)-Ye(u))}function on(l,h,u){let I=0,g=0,E=0,z=0;const J={};for(const F of l??[]){I+=Y(F==null?void 0:F.total_count),g+=Y(F==null?void 0:F.total_disk),F.accessed>E&&(E=F.accessed),F.modified>z&&(z=F.modified);const U=(F==null?void 0:F.users)??{};for(const[j,oe]of Object.entries(U)){const ee=oe,xe=J[j]??{count:0,disk:0,atime:0,mtime:0};J[j]={username:j,count:xe.count+Y(ee.count),disk:xe.disk+Y(ee.disk),atime:Math.max(xe.atime,Y(ee.atime)),mtime:Math.max(xe.mtime,Y(ee.mtime))}}}for(const F of h??[]){I+=1,g+=Y(F==null?void 0:F.size),F.accessed>E&&(E=F.accessed),F.modified>z&&(z=F.modified);const U=F.owner;if(U){const j=J[U]??{count:0,disk:0,atime:0,mtime:0};J[U]={username:U,count:j.count+1,disk:j.disk+Y(F.size),atime:Math.max(j.atime,Y(F.accessed)),mtime:Math.max(j.mtime,Y(F.modified))}}}return{path:u,total_count:I,total_disk:g,accessed:E,modified:z,users:J}}const ut=q(()=>on(e(c),e(f),e(a)));function fr(l){switch(e(x)){case"disk":return Y(l.size);case"count":return 1}}const _e=q(()=>(e(f)?[...e(f)]:[]).sort((h,u)=>fr(u)-fr(h))),vr=q(()=>{const l=e(x)==="disk"?e(ut).total_disk:e(ut).total_count;return l>0?l:1}),ln=l=>Math.round(fr(l)/e(vr)*1e3)/10;function Xe(l){switch(e(x)){case"disk":return Yr(Y(l.size));case"count":return"1"}}function qe(l){let h=!1,u=null;return async(...I)=>{if(u=I,!h){h=!0;try{for(;u;){const g=u;u=null,await l(...g)}}finally{h=!1}}}}const Yt=qe(async l=>{d(v,!0);try{const h=e(R)==="All Users"?[]:[e(R)],u=await Fn.getFolders(l,h,e(Ce));d(c,cr(u,e(Ce)),!0),d(f,await Fn.getFiles(l,h,e(Ce)),!0),e(N)&&e(N).length>0&&ct(e(N))}finally{d(v,!1)}});function cn(l){e(m)[e(_)]!==l&&(d(m,e(m).slice(0,e(_)+1),!0),e(m).push(l),d(_,e(m).length-1))}function jr(l){d(x,l,!0),d(S,!1)}function Xt(l){Zt(l),cn(e(s)||e(a)),Yt(e(s)||e(a))}function hr(){Yt(e(s)||e(a))}function Rr(){(!e(R)||e(R)===null)&&d(R,"All Users"),hr()}let Dt=M(!1);function Zt(l){const h=dn(l);d(s,h,!0),e(De)?d(a,h,!0):d(a,mr(h),!0)}function mr(l,h=50){if(!l||l.length<=h)return l;const u=l.split("/");let I=u[u.length-1];for(let g=u.length-2;g>=0;g--){const E=u[g]+"/"+I;if(("..."+E).length>h)break;I=E}return"..."+I}function Br(){d(De,!0),e(s)&&d(a,e(s),!0)}function un(){d(De,!1),e(a)&&!e(a).startsWith("...")&&d(s,e(a),!0),e(s)&&d(a,mr(e(s)),!0)}function dn(l){if(!l)return"/";let h=l.replace(/\\/g,"/");return h!=="/"&&(h=h.replace(/\/+$/,"")),h.startsWith("/")||(h="/"+h),h||"/"}async function Pr(l){let h=l.currentTarget;try{const u=h.value!==void 0?h.value:h.textContent||h.innerText||"";await navigator.clipboard.writeText(u),fn()}catch(u){console.error("Copy failed:",u)}}function fn(){d(Dt,!0),setTimeout(()=>{d(Dt,!1)},2e3)}Nn(async()=>{console.log("api url:",wi),d(N,await Fn.getUsers(),!0),i=Ia(e(N).length),e(N).splice(0,0,"All Users"),lr.isAdmin?d(R,"All Users"):d(R,lr.username,!0),ct(e(N)),d(s,e(a),!0),d(a,mr(e(a)),!0),hr()});var gr=mo(),$t=Ae(gr),er=y($t),_r=y(er);_r.__click=[Hs,Xt];var Lt=T(_r,2);Lt.__click=[Gs,_,Zt,m,Yt];var jt=T(Lt,2);jt.__click=[qs,_,m,Zt,Yt];var pr=T(jt,2);pr.__click=[Us,s,a,Xt];var tr=T(pr,2),kt=y(tr);kt.__click=[Ks,S];var Nr=y(kt),vn=T(y(Nr));b(Nr),b(kt);var hn=T(kt,2);{var mn=l=>{var h=Js(),u=y(h);u.__click=[Qs,jr];var I=T(u,2);I.__click=[Vs,jr],b(h),O(l,h)};ie(hn,l=>{e(S)&&l(mn)})}b(tr),Or(tr,(l,h)=>Re==null?void 0:Re(l,h),()=>()=>d(S,!1));var St=T(tr,2),It=y(St);It.__click=[Ys,C];var br=y(It),Oe=T(y(br));b(br),b(It);var yr=T(It,2);{var rr=l=>{var h=to(),u=y(h);u.__click=[Xs,de];var I=T(u,2);I.__click=[Zs,de];var g=T(I,2);g.__click=[$s,de];var E=T(g,2);E.__click=[eo,de],b(h),O(l,h)};ie(yr,l=>{e(C)&&l(rr)})}b(St),Or(St,(l,h)=>Re==null?void 0:Re(l,h),()=>()=>d(C,!1));var L=T(St,2);{let l=q(()=>!lr.isAdmin);zs(L,{get disabled(){return e(l)},get options(){return e(Fe)},valueField:"user",renderer:"color",highlightFirstItem:!1,onChange:Rr,closeAfterSelect:!0,deselectMode:"native",virtualList:!0,class:`z-20 min-w-40 h-10 border rounded
       border-gray-500 bg-gray-800 text-white`,get value(){return e(R)},set value(h){d(R,h,!0)}})}b(er);var we=T(er,2),Ee=y(we);ki(Ee),Ee.__keydown=[Ws,Xt,s,a],Ee.__click=[ro,Pr],xt(Ee,l=>d(Qe,l),()=>e(Qe)),b(we);var pe=T(we,2),Rt=y(pe),Ze=y(Rt);wt(Ze,21,()=>Lr(e(ut)),([l,h])=>l,(l,h)=>{var u=q(()=>si(e(h),2));let I=()=>e(u)[0],g=()=>e(u)[1];const E=q(()=>e(x)==="disk"?g().disk:g().count),z=q(()=>e(x)==="disk"?e(ut).total_disk:e(ut).total_count),J=q(()=>e(z)>0?e(E)/e(z)*100:0);var F=no();F.__mousemove=[pi,me,Jt,Je],re((U,j)=>{qt(F,`width: ${e(J)??""}%; background-color: ${U??""};`),He(F,"aria-label",j)},[()=>Ie(I()),()=>`${g().username}: ${dr(g())}`]),lt("mouseenter",F,U=>Vt(U,g(),e(J))),lt("mouseleave",F,ge),O(l,F)}),b(Ze);var D=T(Ze,2),Z=y(D),dt=y(Z),mt=y(dt);b(dt),b(Z),b(D),b(Rt),b(pe);var Et=T(pe,2);{var wr=l=>{var h=Ke(),u=Ae(h);{var I=E=>{var z=ao();wt(z,20,()=>Array(6),Cr,(J,F)=>{var U=io();O(J,U)}),b(z),O(E,z)},g=E=>{var z=fo(),J=y(z);wt(J,17,()=>e(ye),Cr,(U,j)=>{var oe=lo();oe.__click=[so,Xt,j];var ee=y(oe);wt(ee,21,()=>Lr(e(j)),Cr,($e,tt)=>{var rt=q(()=>si(e(tt),2));let Pt=()=>e(rt)[0],_t=()=>e(rt)[1];const xr=q(()=>e(x)==="disk"?_t().disk:_t().count),zr=q(()=>e(x)==="disk"?e(j).total_disk:e(j).total_count),Hr=q(()=>e(zr)>0?e(xr)/e(zr)*100:0);var ft=oo();ft.__mousemove=[pi,me,Jt,Je],re((Ft,ze)=>{qt(ft,`width: ${e(Hr)??""}%; background-color: ${Ft??""};`),He(ft,"aria-label",ze)},[()=>Ie(Pt()),()=>`${_t().username}: ${dr(_t())}`]),lt("mouseenter",ft,Ft=>Vt(Ft,_t(),e(Hr))),lt("mouseleave",ft,ge),O($e,ft)}),b(ee);var xe=T(ee,2),fe=y(xe),te=y(fe),Me=y(te),ne=y(Me,!0);b(Me),b(te);var Pe=T(te,2),Te=y(Pe,!0);b(Pe),b(fe);var Ne=T(fe,2),H=y(Ne),gt=y(H),At=T(gt);{var ir=$e=>{var tt=wa();re(rt=>se(tt,`• Last file read ${rt??""}`),[()=>Gt(e(j).accessed)]),O($e,tt)};ie(At,$e=>{Gt(e(j).accessed)>Gt(e(j).modified)&&$e(ir)})}b(H),b(Ne),b(xe),b(oe),re(($e,tt,rt,Pt)=>{qt(ee,`width: ${$e??""}%`),se(ne,e(j).path),se(Te,tt),se(gt,`${rt??""} Files 
                • Updated ${Pt??""} `)},[()=>an(sn(e(j))),()=>Be(e(j)),()=>oi(e(j).total_count),()=>Gt(e(j).modified)]),O(U,oe)});var F=T(J,2);wt(F,17,()=>e(_e),Cr,(U,j)=>{const oe=q(()=>Ie(e(j).owner));var ee=uo(),xe=T(y(ee),2),fe=y(xe),te=y(fe),Me=T(te,2),ne=y(Me),Pe=y(ne);Pe.__click=[co,Pr];var Te=y(Pe,!0);b(Pe),b(ne);var Ne=T(ne,2),H=y(Ne,!0);b(Ne),b(Me);var gt=T(Me,2),At=y(gt),ir=y(At,!0);b(At);var $e=T(At,2),tt=y($e);b($e),b(gt),b(fe),b(xe),b(ee),re((rt,Pt,_t,xr)=>{qt(te,`width: ${rt??""}%; background-color: ${e(oe)??""};`),se(Te,e(j).path),se(H,Pt),se(ir,e(j).owner),se(tt,`Updated ${_t??""} • Read ${xr??""}`)},[()=>ln(e(j)),()=>Xe(e(j)),()=>Gt(e(j).modified),()=>Gt(e(j).accessed)]),O(U,ee)}),b(z),O(E,z)};ie(u,E=>{e(v)?E(I):E(g,!1)},!0)}O(l,h)};ie(Et,l=>{l(wr,!1)})}Tn(2),b($t);var be=T($t,2);{var Bt=l=>{var h=vo(),u=y(h),I=y(u),g=y(I),E=y(g,!0);b(g),b(I);var z=T(I,2),J=y(z),F=y(J,!0);b(J);var U=T(J,2),j=y(U);b(U),b(z),Tn(2),b(u),xt(u,oe=>d(Le,oe),()=>e(Le)),b(h),re(()=>{qt(h,`
      left: ${e(me).x??""}px;
      top: ${e(me).y??""}px;
      transform: translate(-50%, calc(-100% - 10px));
    `),se(E,e(me).username),se(F,e(me).value),se(j,`${e(me).percent??""}%`)}),O(l,h)};ie(be,l=>{e(me).show&&l(Bt)})}var K=T(be,2);{var nr=l=>{var h=ho();let u;re(I=>u=he(h,1,`fixed top-1 inset-x-0 mx-auto w-max bg-emerald-600 text-white px-4 py-1 
      rounded-lg font-medium shadow-lg z-50 transform transition-transform duration-300 
      ease-[cubic-bezier(0.68,-0.55,0.265,1.55)]`,null,u,I),[()=>({"translate-x-full":!e(Dt),"translate-x-0":e(Dt)})]),O(l,h)};ie(K,l=>{e(Dt)&&l(nr)})}re((l,h,u,I,g,E)=>{_r.disabled=e(_)===0||e(s)==="/",Lt.disabled=e(_)===0,jt.disabled=e(_)>=e(m).length-1,pr.disabled=l,se(vn,` ${h??""}`),se(Oe,` ${u??""}`),Ee.disabled=e(v),se(mt,`${I??""} Files 
            • Changed ${g??""} 
            • ${E??""}`)},[()=>Si(e(a))===e(a),()=>Dr(e(x)),()=>ue(e(Ce)),()=>oi(e(ut).total_count),()=>Gt(e(ut).modified),()=>Yr(e(ut).total_disk)]),lt("blur",Ee,un),lt("focus",Ee,Br),xi(Ee,()=>e(a),l=>d(a,l)),O(r,gr),Hn()}bi(["click","keydown","mousemove"]);export{ko as component};
//# sourceMappingURL=2.BDwHphJ9.js.map
