{"version":3,"file":"2.B_r-LaCA.js","sources":["../../../../../../node_modules/svelte/src/internal/shared/clone.js","../../../../../../node_modules/svelte/src/internal/client/dom/blocks/html.js","../../../../../../node_modules/svelte/src/internal/client/dom/elements/actions.js","../../../../../../node_modules/svelte/src/internal/client/dom/elements/class.js","../../../../../../node_modules/svelte/src/internal/client/dom/elements/bindings/window.js","../../../../../../node_modules/svelte/src/reactivity/map.js","../../../../../../node_modules/idb/build/index.js","../../../../../../src/ts/cache.ts","../../../../../../src/ts/api.svelte.ts","../../../../../../node_modules/svelecte/dist/settings.js","../../../../../../node_modules/svelecte/dist/utils/fetch.js","../../../../../../node_modules/svelecte/dist/utils/sifter.js","../../../../../../node_modules/svelecte/dist/utils/helpers.js","../../../../../../node_modules/svelte/src/easing/index.js","../../../../../../node_modules/svelte/src/animate/index.js","../../../../../../node_modules/svelecte/dist/utils/dropdown.js","../../../../../../node_modules/svelecte/dist/utils/list.js","../../../../../../node_modules/svelecte/dist/utils/actions.js","../../../../../../node_modules/svelecte/dist/VirtualList.svelte","../../../../../../node_modules/svelecte/dist/Svelecte.svelte","../../../../../../node_modules/colord/index.mjs","../../../../../../node_modules/svelte-awesome-slider/dist/Slider.svelte","../../../../../../node_modules/svelte-awesome-color-picker/dist/components/Picker.svelte","../../../../../../node_modules/svelte-awesome-color-picker/dist/components/variant/default/PickerIndicator.svelte","../../../../../../node_modules/svelte-awesome-color-picker/dist/components/variant/default/TextInput.svelte","../../../../../../node_modules/svelte-awesome-color-picker/dist/components/variant/default/Input.svelte","../../../../../../node_modules/svelte-awesome-color-picker/dist/components/variant/default/Wrapper.svelte","../../../../../../node_modules/svelte-awesome-color-picker/dist/utils/texts.js","../../../../../../node_modules/svelte-awesome-color-picker/dist/utils/trapFocus.js","../../../../../../node_modules/svelte-awesome-color-picker/dist/components/variant/default/NullabilityCheckbox.svelte","../../../../../../node_modules/svelte-awesome-color-picker/dist/components/ColorPicker.svelte","../../../../../../src/lib/PickerButton.svelte","../../../../../../src/lib/PickerWrapper.svelte","../../../../../../src/routes/+page.svelte"],"sourcesContent":["/** @import { Snapshot } from './types' */\nimport { DEV } from 'esm-env';\nimport * as w from './warnings.js';\nimport { get_prototype_of, is_array, object_prototype } from './utils.js';\n\n/**\n * In dev, we keep track of which properties could not be cloned. In prod\n * we don't bother, but we keep a dummy array around so that the\n * signature stays the same\n * @type {string[]}\n */\nconst empty = [];\n\n/**\n * @template T\n * @param {T} value\n * @param {boolean} [skip_warning]\n * @param {boolean} [no_tojson]\n * @returns {Snapshot<T>}\n */\nexport function snapshot(value, skip_warning = false, no_tojson = false) {\n\tif (DEV && !skip_warning) {\n\t\t/** @type {string[]} */\n\t\tconst paths = [];\n\n\t\tconst copy = clone(value, new Map(), '', paths, null, no_tojson);\n\t\tif (paths.length === 1 && paths[0] === '') {\n\t\t\t// value could not be cloned\n\t\t\tw.state_snapshot_uncloneable();\n\t\t} else if (paths.length > 0) {\n\t\t\t// some properties could not be cloned\n\t\t\tconst slice = paths.length > 10 ? paths.slice(0, 7) : paths.slice(0, 10);\n\t\t\tconst excess = paths.length - slice.length;\n\n\t\t\tlet uncloned = slice.map((path) => `- <value>${path}`).join('\\n');\n\t\t\tif (excess > 0) uncloned += `\\n- ...and ${excess} more`;\n\n\t\t\tw.state_snapshot_uncloneable(uncloned);\n\t\t}\n\n\t\treturn copy;\n\t}\n\n\treturn clone(value, new Map(), '', empty, null, no_tojson);\n}\n\n/**\n * @template T\n * @param {T} value\n * @param {Map<T, Snapshot<T>>} cloned\n * @param {string} path\n * @param {string[]} paths\n * @param {null | T} [original] The original value, if `value` was produced from a `toJSON` call\n * @param {boolean} [no_tojson]\n * @returns {Snapshot<T>}\n */\nfunction clone(value, cloned, path, paths, original = null, no_tojson = false) {\n\tif (typeof value === 'object' && value !== null) {\n\t\tvar unwrapped = cloned.get(value);\n\t\tif (unwrapped !== undefined) return unwrapped;\n\n\t\tif (value instanceof Map) return /** @type {Snapshot<T>} */ (new Map(value));\n\t\tif (value instanceof Set) return /** @type {Snapshot<T>} */ (new Set(value));\n\n\t\tif (is_array(value)) {\n\t\t\tvar copy = /** @type {Snapshot<any>} */ (Array(value.length));\n\t\t\tcloned.set(value, copy);\n\n\t\t\tif (original !== null) {\n\t\t\t\tcloned.set(original, copy);\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < value.length; i += 1) {\n\t\t\t\tvar element = value[i];\n\t\t\t\tif (i in value) {\n\t\t\t\t\tcopy[i] = clone(element, cloned, DEV ? `${path}[${i}]` : path, paths, null, no_tojson);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn copy;\n\t\t}\n\n\t\tif (get_prototype_of(value) === object_prototype) {\n\t\t\t/** @type {Snapshot<any>} */\n\t\t\tcopy = {};\n\t\t\tcloned.set(value, copy);\n\n\t\t\tif (original !== null) {\n\t\t\t\tcloned.set(original, copy);\n\t\t\t}\n\n\t\t\tfor (var key in value) {\n\t\t\t\tcopy[key] = clone(\n\t\t\t\t\t// @ts-expect-error\n\t\t\t\t\tvalue[key],\n\t\t\t\t\tcloned,\n\t\t\t\t\tDEV ? `${path}.${key}` : path,\n\t\t\t\t\tpaths,\n\t\t\t\t\tnull,\n\t\t\t\t\tno_tojson\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn copy;\n\t\t}\n\n\t\tif (value instanceof Date) {\n\t\t\treturn /** @type {Snapshot<T>} */ (structuredClone(value));\n\t\t}\n\n\t\tif (typeof (/** @type {T & { toJSON?: any } } */ (value).toJSON) === 'function' && !no_tojson) {\n\t\t\treturn clone(\n\t\t\t\t/** @type {T & { toJSON(): any } } */ (value).toJSON(),\n\t\t\t\tcloned,\n\t\t\t\tDEV ? `${path}.toJSON()` : path,\n\t\t\t\tpaths,\n\t\t\t\t// Associate the instance with the toJSON clone\n\t\t\t\tvalue\n\t\t\t);\n\t\t}\n\t}\n\n\tif (value instanceof EventTarget) {\n\t\t// can't be cloned\n\t\treturn /** @type {Snapshot<T>} */ (value);\n\t}\n\n\ttry {\n\t\treturn /** @type {Snapshot<T>} */ (structuredClone(value));\n\t} catch (e) {\n\t\tif (DEV) {\n\t\t\tpaths.push(path);\n\t\t}\n\n\t\treturn /** @type {Snapshot<T>} */ (value);\n\t}\n}\n","/** @import { Effect, TemplateNode } from '#client' */\nimport { FILENAME, HYDRATION_ERROR } from '../../../../constants.js';\nimport { remove_effect_dom, template_effect } from '../../reactivity/effects.js';\nimport { hydrate_next, hydrate_node, hydrating, set_hydrate_node } from '../hydration.js';\nimport { create_fragment_from_html } from '../reconciler.js';\nimport { assign_nodes } from '../template.js';\nimport * as w from '../../warnings.js';\nimport { hash, sanitize_location } from '../../../../utils.js';\nimport { DEV } from 'esm-env';\nimport { dev_current_component_function } from '../../context.js';\nimport { get_first_child, get_next_sibling } from '../operations.js';\nimport { active_effect } from '../../runtime.js';\nimport { COMMENT_NODE } from '#client/constants';\n\n/**\n * @param {Element} element\n * @param {string | null} server_hash\n * @param {string} value\n */\nfunction check_hash(element, server_hash, value) {\n\tif (!server_hash || server_hash === hash(String(value ?? ''))) return;\n\n\tlet location;\n\n\t// @ts-expect-error\n\tconst loc = element.__svelte_meta?.loc;\n\tif (loc) {\n\t\tlocation = `near ${loc.file}:${loc.line}:${loc.column}`;\n\t} else if (dev_current_component_function?.[FILENAME]) {\n\t\tlocation = `in ${dev_current_component_function[FILENAME]}`;\n\t}\n\n\tw.hydration_html_changed(sanitize_location(location));\n}\n\n/**\n * @param {Element | Text | Comment} node\n * @param {() => string} get_value\n * @param {boolean} [svg]\n * @param {boolean} [mathml]\n * @param {boolean} [skip_warning]\n * @returns {void}\n */\nexport function html(node, get_value, svg = false, mathml = false, skip_warning = false) {\n\tvar anchor = node;\n\n\tvar value = '';\n\n\ttemplate_effect(() => {\n\t\tvar effect = /** @type {Effect} */ (active_effect);\n\n\t\tif (value === (value = get_value() ?? '')) {\n\t\t\tif (hydrating) hydrate_next();\n\t\t\treturn;\n\t\t}\n\n\t\tif (effect.nodes_start !== null) {\n\t\t\tremove_effect_dom(effect.nodes_start, /** @type {TemplateNode} */ (effect.nodes_end));\n\t\t\teffect.nodes_start = effect.nodes_end = null;\n\t\t}\n\n\t\tif (value === '') return;\n\n\t\tif (hydrating) {\n\t\t\t// We're deliberately not trying to repair mismatches between server and client,\n\t\t\t// as it's costly and error-prone (and it's an edge case to have a mismatch anyway)\n\t\t\tvar hash = /** @type {Comment} */ (hydrate_node).data;\n\t\t\tvar next = hydrate_next();\n\t\t\tvar last = next;\n\n\t\t\twhile (\n\t\t\t\tnext !== null &&\n\t\t\t\t(next.nodeType !== COMMENT_NODE || /** @type {Comment} */ (next).data !== '')\n\t\t\t) {\n\t\t\t\tlast = next;\n\t\t\t\tnext = /** @type {TemplateNode} */ (get_next_sibling(next));\n\t\t\t}\n\n\t\t\tif (next === null) {\n\t\t\t\tw.hydration_mismatch();\n\t\t\t\tthrow HYDRATION_ERROR;\n\t\t\t}\n\n\t\t\tif (DEV && !skip_warning) {\n\t\t\t\tcheck_hash(/** @type {Element} */ (next.parentNode), hash, value);\n\t\t\t}\n\n\t\t\tassign_nodes(hydrate_node, last);\n\t\t\tanchor = set_hydrate_node(next);\n\t\t\treturn;\n\t\t}\n\n\t\tvar html = value + '';\n\t\tif (svg) html = `<svg>${html}</svg>`;\n\t\telse if (mathml) html = `<math>${html}</math>`;\n\n\t\t// Don't use create_fragment_with_script_from_html here because that would mean script tags are executed.\n\t\t// @html is basically `.innerHTML = ...` and that doesn't execute scripts either due to security reasons.\n\t\t/** @type {DocumentFragment | Element} */\n\t\tvar node = create_fragment_from_html(html);\n\n\t\tif (svg || mathml) {\n\t\t\tnode = /** @type {Element} */ (get_first_child(node));\n\t\t}\n\n\t\tassign_nodes(\n\t\t\t/** @type {TemplateNode} */ (get_first_child(node)),\n\t\t\t/** @type {TemplateNode} */ (node.lastChild)\n\t\t);\n\n\t\tif (svg || mathml) {\n\t\t\twhile (get_first_child(node)) {\n\t\t\t\tanchor.before(/** @type {Node} */ (get_first_child(node)));\n\t\t\t}\n\t\t} else {\n\t\t\tanchor.before(node);\n\t\t}\n\t});\n}\n","/** @import { ActionPayload } from '#client' */\nimport { effect, render_effect } from '../../reactivity/effects.js';\nimport { safe_not_equal } from '../../reactivity/equality.js';\nimport { deep_read_state, untrack } from '../../runtime.js';\n\n/**\n * @template P\n * @param {Element} dom\n * @param {(dom: Element, value?: P) => ActionPayload<P>} action\n * @param {() => P} [get_value]\n * @returns {void}\n */\nexport function action(dom, action, get_value) {\n\teffect(() => {\n\t\tvar payload = untrack(() => action(dom, get_value?.()) || {});\n\n\t\tif (get_value && payload?.update) {\n\t\t\tvar inited = false;\n\t\t\t/** @type {P} */\n\t\t\tvar prev = /** @type {any} */ ({}); // initialize with something so it's never equal on first run\n\n\t\t\trender_effect(() => {\n\t\t\t\tvar value = get_value();\n\n\t\t\t\t// Action's update method is coarse-grained, i.e. when anything in the passed value changes, update.\n\t\t\t\t// This works in legacy mode because of mutable_source being updated as a whole, but when using $state\n\t\t\t\t// together with actions and mutation, it wouldn't notice the change without a deep read.\n\t\t\t\tdeep_read_state(value);\n\n\t\t\t\tif (inited && safe_not_equal(prev, value)) {\n\t\t\t\t\tprev = value;\n\t\t\t\t\t/** @type {Function} */ (payload.update)(value);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tinited = true;\n\t\t}\n\n\t\tif (payload?.destroy) {\n\t\t\treturn () => /** @type {Function} */ (payload.destroy)();\n\t\t}\n\t});\n}\n","import { to_class } from '../../../shared/attributes.js';\nimport { hydrating } from '../hydration.js';\n\n/**\n * @param {Element} dom\n * @param {boolean | number} is_html\n * @param {string | null} value\n * @param {string} [hash]\n * @param {Record<string, any>} [prev_classes]\n * @param {Record<string, any>} [next_classes]\n * @returns {Record<string, boolean> | undefined}\n */\nexport function set_class(dom, is_html, value, hash, prev_classes, next_classes) {\n\t// @ts-expect-error need to add __className to patched prototype\n\tvar prev = dom.__className;\n\n\tif (\n\t\thydrating ||\n\t\tprev !== value ||\n\t\tprev === undefined // for edge case of `class={undefined}`\n\t) {\n\t\tvar next_class_name = to_class(value, hash, next_classes);\n\n\t\tif (!hydrating || next_class_name !== dom.getAttribute('class')) {\n\t\t\t// Removing the attribute when the value is only an empty string causes\n\t\t\t// performance issues vs simply making the className an empty string. So\n\t\t\t// we should only remove the class if the value is nullish\n\t\t\t// and there no hash/directives :\n\t\t\tif (next_class_name == null) {\n\t\t\t\tdom.removeAttribute('class');\n\t\t\t} else if (is_html) {\n\t\t\t\tdom.className = next_class_name;\n\t\t\t} else {\n\t\t\t\tdom.setAttribute('class', next_class_name);\n\t\t\t}\n\t\t}\n\n\t\t// @ts-expect-error need to add __className to patched prototype\n\t\tdom.__className = value;\n\t} else if (next_classes && prev_classes !== next_classes) {\n\t\tfor (var key in next_classes) {\n\t\t\tvar is_present = !!next_classes[key];\n\n\t\t\tif (prev_classes == null || is_present !== !!prev_classes[key]) {\n\t\t\t\tdom.classList.toggle(key, is_present);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn next_classes;\n}\n","import { effect, render_effect, teardown } from '../../../reactivity/effects.js';\nimport { listen, without_reactive_context } from './shared.js';\n\n/**\n * @param {'x' | 'y'} type\n * @param {() => number} get\n * @param {(value: number) => void} set\n * @returns {void}\n */\nexport function bind_window_scroll(type, get, set = get) {\n\tvar is_scrolling_x = type === 'x';\n\n\tvar target_handler = () =>\n\t\twithout_reactive_context(() => {\n\t\t\tscrolling = true;\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(clear, 100); // TODO use scrollend event if supported (or when supported everywhere?)\n\n\t\t\tset(window[is_scrolling_x ? 'scrollX' : 'scrollY']);\n\t\t});\n\n\taddEventListener('scroll', target_handler, {\n\t\tpassive: true\n\t});\n\n\tvar scrolling = false;\n\n\t/** @type {ReturnType<typeof setTimeout>} */\n\tvar timeout;\n\tvar clear = () => {\n\t\tscrolling = false;\n\t};\n\tvar first = true;\n\n\trender_effect(() => {\n\t\tvar latest_value = get();\n\t\t// Don't scroll to the initial value for accessibility reasons\n\t\tif (first) {\n\t\t\tfirst = false;\n\t\t} else if (!scrolling && latest_value != null) {\n\t\t\tscrolling = true;\n\t\t\tclearTimeout(timeout);\n\t\t\tif (is_scrolling_x) {\n\t\t\t\tscrollTo(latest_value, window.scrollY);\n\t\t\t} else {\n\t\t\t\tscrollTo(window.scrollX, latest_value);\n\t\t\t}\n\t\t\ttimeout = setTimeout(clear, 100);\n\t\t}\n\t});\n\n\t// Browsers don't fire the scroll event for the initial scroll position when scroll style isn't set to smooth\n\teffect(target_handler);\n\n\tteardown(() => {\n\t\tremoveEventListener('scroll', target_handler);\n\t});\n}\n\n/**\n * @param {'innerWidth' | 'innerHeight' | 'outerWidth' | 'outerHeight'} type\n * @param {(size: number) => void} set\n */\nexport function bind_window_size(type, set) {\n\tlisten(window, ['resize'], () => without_reactive_context(() => set(window[type])));\n}\n","/** @import { Source } from '#client' */\nimport { DEV } from 'esm-env';\nimport { set, source, state, increment } from '../internal/client/reactivity/sources.js';\nimport { label, tag } from '../internal/client/dev/tracing.js';\nimport { get, update_version } from '../internal/client/runtime.js';\n\n/**\n * A reactive version of the built-in [`Map`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map) object.\n * Reading contents of the map (by iterating, or by reading `map.size` or calling `map.get(...)` or `map.has(...)` as in the [tic-tac-toe example](https://svelte.dev/playground/0b0ff4aa49c9443f9b47fe5203c78293) below) in an [effect](https://svelte.dev/docs/svelte/$effect) or [derived](https://svelte.dev/docs/svelte/$derived)\n * will cause it to be re-evaluated as necessary when the map is updated.\n *\n * Note that values in a reactive map are _not_ made [deeply reactive](https://svelte.dev/docs/svelte/$state#Deep-state).\n *\n * ```svelte\n * <script>\n * \timport { SvelteMap } from 'svelte/reactivity';\n * \timport { result } from './game.js';\n *\n * \tlet board = new SvelteMap();\n * \tlet player = $state('x');\n * \tlet winner = $derived(result(board));\n *\n * \tfunction reset() {\n * \t\tplayer = 'x';\n * \t\tboard.clear();\n * \t}\n * </script>\n *\n * <div class=\"board\">\n * \t{#each Array(9), i}\n * \t\t<button\n * \t\t\tdisabled={board.has(i) || winner}\n * \t\t\tonclick={() => {\n * \t\t\t\tboard.set(i, player);\n * \t\t\t\tplayer = player === 'x' ? 'o' : 'x';\n * \t\t\t}}\n * \t\t>{board.get(i)}</button>\n * \t{/each}\n * </div>\n *\n * {#if winner}\n * \t<p>{winner} wins!</p>\n * \t<button onclick={reset}>reset</button>\n * {:else}\n * \t<p>{player} is next</p>\n * {/if}\n * ```\n *\n * @template K\n * @template V\n * @extends {Map<K, V>}\n */\nexport class SvelteMap extends Map {\n\t/** @type {Map<K, Source<number>>} */\n\t#sources = new Map();\n\t#version = state(0);\n\t#size = state(0);\n\t#update_version = update_version || -1;\n\n\t/**\n\t * @param {Iterable<readonly [K, V]> | null | undefined} [value]\n\t */\n\tconstructor(value) {\n\t\tsuper();\n\n\t\tif (DEV) {\n\t\t\t// If the value is invalid then the native exception will fire here\n\t\t\tvalue = new Map(value);\n\n\t\t\ttag(this.#version, 'SvelteMap version');\n\t\t\ttag(this.#size, 'SvelteMap.size');\n\t\t}\n\n\t\tif (value) {\n\t\t\tfor (var [key, v] of value) {\n\t\t\t\tsuper.set(key, v);\n\t\t\t}\n\t\t\tthis.#size.v = super.size;\n\t\t}\n\t}\n\n\t/**\n\t * If the source is being created inside the same reaction as the SvelteMap instance,\n\t * we use `state` so that it will not be a dependency of the reaction. Otherwise we\n\t * use `source` so it will be.\n\t *\n\t * @template T\n\t * @param {T} value\n\t * @returns {Source<T>}\n\t */\n\t#source(value) {\n\t\treturn update_version === this.#update_version ? state(value) : source(value);\n\t}\n\n\t/** @param {K} key */\n\thas(key) {\n\t\tvar sources = this.#sources;\n\t\tvar s = sources.get(key);\n\n\t\tif (s === undefined) {\n\t\t\tvar ret = super.get(key);\n\t\t\tif (ret !== undefined) {\n\t\t\t\ts = this.#source(0);\n\n\t\t\t\tif (DEV) {\n\t\t\t\t\ttag(s, `SvelteMap get(${label(key)})`);\n\t\t\t\t}\n\n\t\t\t\tsources.set(key, s);\n\t\t\t} else {\n\t\t\t\t// We should always track the version in case\n\t\t\t\t// the Set ever gets this value in the future.\n\t\t\t\tget(this.#version);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tget(s);\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(value: V, key: K, map: Map<K, V>) => void} callbackfn\n\t * @param {any} [this_arg]\n\t */\n\tforEach(callbackfn, this_arg) {\n\t\tthis.#read_all();\n\t\tsuper.forEach(callbackfn, this_arg);\n\t}\n\n\t/** @param {K} key */\n\tget(key) {\n\t\tvar sources = this.#sources;\n\t\tvar s = sources.get(key);\n\n\t\tif (s === undefined) {\n\t\t\tvar ret = super.get(key);\n\t\t\tif (ret !== undefined) {\n\t\t\t\ts = this.#source(0);\n\n\t\t\t\tif (DEV) {\n\t\t\t\t\ttag(s, `SvelteMap get(${label(key)})`);\n\t\t\t\t}\n\n\t\t\t\tsources.set(key, s);\n\t\t\t} else {\n\t\t\t\t// We should always track the version in case\n\t\t\t\t// the Set ever gets this value in the future.\n\t\t\t\tget(this.#version);\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\n\t\tget(s);\n\t\treturn super.get(key);\n\t}\n\n\t/**\n\t * @param {K} key\n\t * @param {V} value\n\t * */\n\tset(key, value) {\n\t\tvar sources = this.#sources;\n\t\tvar s = sources.get(key);\n\t\tvar prev_res = super.get(key);\n\t\tvar res = super.set(key, value);\n\t\tvar version = this.#version;\n\n\t\tif (s === undefined) {\n\t\t\ts = this.#source(0);\n\n\t\t\tif (DEV) {\n\t\t\t\ttag(s, `SvelteMap get(${label(key)})`);\n\t\t\t}\n\n\t\t\tsources.set(key, s);\n\t\t\tset(this.#size, super.size);\n\t\t\tincrement(version);\n\t\t} else if (prev_res !== value) {\n\t\t\tincrement(s);\n\n\t\t\t// if not every reaction of s is a reaction of version we need to also include version\n\t\t\tvar v_reactions = version.reactions === null ? null : new Set(version.reactions);\n\t\t\tvar needs_version_increase =\n\t\t\t\tv_reactions === null ||\n\t\t\t\t!s.reactions?.every((r) =>\n\t\t\t\t\t/** @type {NonNullable<typeof v_reactions>} */ (v_reactions).has(r)\n\t\t\t\t);\n\t\t\tif (needs_version_increase) {\n\t\t\t\tincrement(version);\n\t\t\t}\n\t\t}\n\n\t\treturn res;\n\t}\n\n\t/** @param {K} key */\n\tdelete(key) {\n\t\tvar sources = this.#sources;\n\t\tvar s = sources.get(key);\n\t\tvar res = super.delete(key);\n\n\t\tif (s !== undefined) {\n\t\t\tsources.delete(key);\n\t\t\tset(this.#size, super.size);\n\t\t\tset(s, -1);\n\t\t\tincrement(this.#version);\n\t\t}\n\n\t\treturn res;\n\t}\n\n\tclear() {\n\t\tif (super.size === 0) {\n\t\t\treturn;\n\t\t}\n\t\t// Clear first, so we get nice console.log outputs with $inspect\n\t\tsuper.clear();\n\t\tvar sources = this.#sources;\n\t\tset(this.#size, 0);\n\t\tfor (var s of sources.values()) {\n\t\t\tset(s, -1);\n\t\t}\n\t\tincrement(this.#version);\n\t\tsources.clear();\n\t}\n\n\t#read_all() {\n\t\tget(this.#version);\n\n\t\tvar sources = this.#sources;\n\t\tif (this.#size.v !== sources.size) {\n\t\t\tfor (var key of super.keys()) {\n\t\t\t\tif (!sources.has(key)) {\n\t\t\t\t\tvar s = this.#source(0);\n\t\t\t\t\tif (DEV) {\n\t\t\t\t\t\ttag(s, `SvelteMap get(${label(key)})`);\n\t\t\t\t\t}\n\n\t\t\t\t\tsources.set(key, s);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor ([, s] of this.#sources) {\n\t\t\tget(s);\n\t\t}\n\t}\n\n\tkeys() {\n\t\tget(this.#version);\n\t\treturn super.keys();\n\t}\n\n\tvalues() {\n\t\tthis.#read_all();\n\t\treturn super.values();\n\t}\n\n\tentries() {\n\t\tthis.#read_all();\n\t\treturn super.entries();\n\t}\n\n\t[Symbol.iterator]() {\n\t\treturn this.entries();\n\t}\n\n\tget size() {\n\t\tget(this.#size);\n\t\treturn super.size;\n\t}\n}\n","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst transactionDoneMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    // This mapping exists in reverseTransformCache but doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(this.request);\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n    }\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n    }\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking) {\n            db.addEventListener('versionchange', (event) => blocking(event.oldVersion, event.newVersion, event));\n        }\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n    }\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nconst advanceMethodProps = ['continue', 'continuePrimaryKey', 'advance'];\nconst methodMap = {};\nconst advanceResults = new WeakMap();\nconst ittrProxiedCursorToOriginalProxy = new WeakMap();\nconst cursorIteratorTraps = {\n    get(target, prop) {\n        if (!advanceMethodProps.includes(prop))\n            return target[prop];\n        let cachedFunc = methodMap[prop];\n        if (!cachedFunc) {\n            cachedFunc = methodMap[prop] = function (...args) {\n                advanceResults.set(this, ittrProxiedCursorToOriginalProxy.get(this)[prop](...args));\n            };\n        }\n        return cachedFunc;\n    },\n};\nasync function* iterate(...args) {\n    // tslint:disable-next-line:no-this-assignment\n    let cursor = this;\n    if (!(cursor instanceof IDBCursor)) {\n        cursor = await cursor.openCursor(...args);\n    }\n    if (!cursor)\n        return;\n    cursor = cursor;\n    const proxiedCursor = new Proxy(cursor, cursorIteratorTraps);\n    ittrProxiedCursorToOriginalProxy.set(proxiedCursor, cursor);\n    // Map this double-proxy back to the original, so other cursor methods work.\n    reverseTransformCache.set(proxiedCursor, unwrap(cursor));\n    while (cursor) {\n        yield proxiedCursor;\n        // If one of the advancing methods was not called, call continue().\n        cursor = await (advanceResults.get(proxiedCursor) || cursor.continue());\n        advanceResults.delete(proxiedCursor);\n    }\n}\nfunction isIteratorProp(target, prop) {\n    return ((prop === Symbol.asyncIterator &&\n        instanceOfAny(target, [IDBIndex, IDBObjectStore, IDBCursor])) ||\n        (prop === 'iterate' && instanceOfAny(target, [IDBIndex, IDBObjectStore])));\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get(target, prop, receiver) {\n        if (isIteratorProp(target, prop))\n            return iterate;\n        return oldTraps.get(target, prop, receiver);\n    },\n    has(target, prop) {\n        return isIteratorProp(target, prop) || oldTraps.has(target, prop);\n    },\n}));\n\nexport { deleteDB, openDB, unwrap, wrap };\n","// curveCache.js\nimport { openDB } from 'idb';\n\nconst DB_NAME = 'ApCacheDB';\nconst STORE_NAME = 'ap';\nconst DB_VERSION = 2;\nconst EXPIRATION_MS = 1 * 60 * 1000; // 1 minute\n\n// Initialize or open the database\nasync function getDB() {\n  return openDB(DB_NAME, DB_VERSION, {\n    upgrade(db) {\n      if (!db.objectStoreNames.contains(STORE_NAME)) {\n        db.createObjectStore(STORE_NAME);\n      }\n    }\n  });\n}\n\n// Store curve data with a timestamp\nexport async function setCache(key, data) {\n  const db = await getDB();\n  await db.put(STORE_NAME, { data, timestamp: Date.now() }, key);\n}\n\n// Get cached curve if not expired\nexport async function getCache(key) {\n  const db = await getDB();\n  const entry = await db.get(STORE_NAME, key);\n\n  if (!entry) return null;\n\n  const isExpired = (Date.now() - entry.timestamp) > EXPIRATION_MS;\n  if (isExpired) {\n    await db.delete(STORE_NAME, key);\n    return null;\n  }\n\n  return entry.data;\n}\n\n// Clear one or all cached entries\nexport async function clearCache(key) {\n  const db = await getDB();\n  await db.delete(STORE_NAME, key);\n}\n\nexport async function clearAll() {\n  const db = await getDB();\n  await db.clear(STORE_NAME);\n}\n","import { State, API_URL } from \"./store.svelte\";\nimport { getCache, setCache } from './cache.js';\n\n// NEW: accept optional age filter (0|1|2|'all') and return the new folders→users→ages shape\ntype AgeMini = { count: number; size: number; disk: number; mtime: number };\n// Accept optional age filter (0 | 1 | 2 | 'all') and pass it through.\ntype ScannedFile = { path: string; size: number; modified: string; owner: string };\nexport type RawFolder = { path: string; users: Record<string, Record<'0'|'1'|'2', AgeMini>> };\n\n\nclass Api {\n  private baseUrl = `${API_URL}/`;\n  public error: string = \"\";\n\n  private async request<T>(\n    endpoint: string = \"\",\n    method: \"GET\" | \"POST\" | \"PUT\" | \"DELETE\" = \"GET\",\n    body?: unknown,\n    use_cache?: boolean\n  ): Promise<T | null> {\n    try {\n      this.error = \"\";\n\n      const options: RequestInit = {\n        method,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${State.token}`,\n        },\n      };\n\n      if (body) \n        options.body = JSON.stringify(body);\n\n      if (use_cache) {        \n        let data = await getCache(endpoint);\n        if (data) {\n          //console.log(\"Data from cache:\", endpoint);\n          return data    \n        }\n      }\n      const url = `${this.baseUrl}${endpoint}`\n      console.log('fetching url:', url, options)\n\n      const response = await fetch(url, options);\n      const data: T = await response.json();\n      if (!response.ok) {\n        // do this to redirect to login\n        State.token = null\n        if (response.status === 401) {\n          console.log('authentication failed.')\n        }\n        this.error = (data as any).detail || \"Unknown API error\";\n        console.log(`API Error: ${this.error}`);\n        return null;\n      }\n\n      // const data = await fetchWithIndexedDB(`${this.baseUrl}${endpoint}`, options);\n      await setCache(endpoint, data)\n          \n      return data;\n\n    } catch (err) {\n      console.log(\"Fetch error:\", err);\n      this.error = \"API: Error in fetching data.\";\n      return null;\n\n    } finally {\n\n    }\n  }\n\n  async getUsers(): Promise<string[]> {\n    let result = await this.request<string[]>('users', \"GET\", undefined, true)\n    return result ?? []\n  }\n\n  async getFolders(path: string, users: string[], age?: number): Promise<RawFolder[]> {\n    const pathParam = `path=${encodeURIComponent(path)}`\n    const userParam = users.length > 0 ? `&users=${encodeURIComponent(users.join(','))}` : '';\n    const ageParam = age !== undefined && age !== -1 ? `&age=${age}` : ''\n    const url = `folders?${pathParam}${userParam}${ageParam}`\n    console.log('api url:', url)\n    let result = await this.request<RawFolder[]>(url, \"GET\", undefined, true)\n    return result ?? []\n  }\n\n  async getFiles(path: string, users: string[], age?: number): Promise<ScannedFile[]> {\n    const pathParam = `path=${encodeURIComponent(path)}`\n    const userParam = users.length > 0 ? `&users=${encodeURIComponent(users.join(','))}` : ''\n    const ageParam = age !== undefined && age !== -1 ? `&age=${age}` : ''\n    const url = `files?${pathParam}${userParam}${ageParam}`\n    console.log('api url:', url)\n    let result = await this.request<ScannedFile[]>(url, \"GET\", undefined, true)\n    return result ?? []\n  }\n\n  // async createItem(Item: Partial<Item>): Promise<Item | null> {\n  //   return await this.request<Item>(\"Items\", \"POST\", Item);\n  // }\n\n  // async updateItem(id: number, Item: Partial<Item>): Promise<Item | null> {\n  //   return await this.request<Item>(`Items/${id}`, \"PUT\", Item);\n  // }\n\n  // async deleteItem(id: number): Promise<boolean> {\n  //   return (await this.request<{ success: boolean }>(`Items/${id}`, \"DELETE\"))?.success ?? false;\n  // }\n\n}\n\nexport const api = new Api();\n\n","/**\n * @callback i18n_max\n * @param {number} max\n * @returns {string}\n *\n * @callback i18n_fetchQuery\n * @param {number} minQuery\n * @param {number} inputLength\n * @returns {string}\n *\n * @callback i18n_collapsedSelection\n * @param {number} count\n * @returns {string}\n *\n * @callback i18n_createRowLabel\n * @param {string} value\n * @returns {string}\n *\n * @callback i18n_aria_selection\n * @param {string[]} opts\n * @returns {string}\n *\n * @callback i18n_aria_listActive\n * @param {object} opt\n * @param {string} labelField\n * @param {number} resultCount\n * @returns {string}\n *\n * @callback i18n_aria_inputFocus\n * @returns {string}\n *\n * @callback i18n_aria_removeItemLabel\n * @param {object} item\n * @param {string} labelField\n * @returns {string}\n *\n *\n * @typedef {object} I18nObject\n * @property {string} empty\n * @property {string} nomatch\n * @property {i18n_max} max\n * @property {string} fetchBefore\n * @property {i18n_fetchQuery} fetchQuery\n * @property {string} fetchInit\n * @property {string} fetchEmpty\n * @property {i18n_collapsedSelection} collapsedSelection\n * @property {i18n_createRowLabel} createRowLabel\n * @property {string} emptyCreatable\n * @property {i18n_aria_selection} aria_selected\n * @property {i18n_aria_listActive} aria_listActive\n * @property {i18n_aria_inputFocus} aria_inputFocused\n * @property {i18n_aria_removeItemLabel} aria_removeItemLabel\n * @property {string} aria_label\n * @property {string} aria_describedby\n *\n * @typedef {object} Settings\n * @property {string|null} valueField\n * @property {string|null} labelField\n * @property {string} groupLabelField\n * @property {string} groupItemsField\n * @property {string} disabledField\n * @property {string} placeholder\n * @property {boolean} valueAsObject\n * @property {boolean} searchable\n * @property {boolean} clearable\n * @property {boolean} highlightFirstItem\n * @property {boolean|'select-navigate'} selectOnTab\n * @property {boolean} resetOnBlur\n * @property {boolean} resetOnSelect\n * @property {object} fetchProps\n * @property {boolean} fetchResetOnBlur\n * @property {number} fetchDebounceTime\n * @property {boolean} multiple\n * @property {boolean|string} closeAfterSelect\n * @property {'native'|'toggle'|'none'} deselectMode\n * @property {number} max\n * @property {'blur'|'always'|null} collapseSelection\n * @property {'auto'|boolean} keepSelectionInList\n * @property {boolean} creatable\n * @property {string} creatablePrefix\n * @property {boolean} keepCreated\n * @property {boolean} allowEditing\n * @property {string} delimiter\n * @property {function|undefined} [fetchCallback]\n * @property {number} minQuery\n * @property {boolean} lazyDropdown\n * @property {boolean} virtualList\n * @property {number|undefined} [vlItemSize]\n * @property {I18nObject} i18n\n * @property {import(\"./utils/fetch\").RequestFactoryFn} requestFactory\n */\nconst /**@type {Settings} */ settings = {\n  // basic\n  valueField: null,\n  labelField: null,\n  groupLabelField: 'label',\n  groupItemsField: 'options',\n  disabledField: '$disabled',\n  placeholder: 'Select',\n  valueAsObject: false,\n  // ui\n  searchable: true,\n  clearable: false,\n  highlightFirstItem: true,\n  selectOnTab: false,\n  resetOnBlur: true,\n  resetOnSelect: true,\n  fetchProps: {},\n  fetchResetOnBlur: true,\n  fetchDebounceTime: 300,\n  // multi\n  multiple: false,\n  closeAfterSelect: 'auto',\n  deselectMode: 'toggle',\n  max: 0,\n  collapseSelection: null,\n  keepSelectionInList: 'auto',\n  // create\n  creatable: false,\n  creatablePrefix: '*',\n  keepCreated: true,\n  allowEditing: false,\n  delimiter: ',',\n  // remote\n  fetchCallback: undefined,\n  minQuery: 1,\n  // performance\n  lazyDropdown: true,\n  // virtual list\n  virtualList: false,\n  vlItemSize: undefined,\n  // i18n\n  i18n: {\n    aria_label: '',\n    aria_describedby: '',\n    aria_selected: (opts) => opts.length ? `Option${opts.length > 1 ? 's' : ''} ${opts.join(', ')} selected.` : '',\n    aria_listActive: (opt, labelField, count) => `You are currently focused on option ${opt[labelField]}. ${count} result${count>1?'s': ''} available.`,\n    aria_inputFocused: () => 'Select is focused, type to refine list, press down to scroll through the list',\n    aria_removeItemLabel: (opt, labelField) => `Remove item`,\n    empty: 'No options',\n    nomatch: 'No matching options',\n    max: num => `Maximum items ${num} selected`,\n    fetchBefore: 'Type to start searching',\n    fetchQuery: (minQuery, inputLength) => `Type at least ${minQuery} character${\n        minQuery > 1 ? 's' : ''\n      } to start searching`\n    ,\n    fetchInit: 'Fetching data, please wait...',\n    fetchEmpty: 'No data related to your search',\n    collapsedSelection: count => `${count} selected`,\n    createRowLabel: value => `Add '${value}'`,\n    emptyCreatable: 'Add new by typing'\n  },\n  // @ts-ignore\n  requestFactory: undefined\n}\n\nexport default settings;\n","/**\n * Simple debouncer\n *\n * @param {function} fn\n * @param {number} delay\n * @returns fn\n */\nexport function debounce(fn, delay) {\n  let timeout;\n\treturn (...args) => {\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(() => {\n      fn.apply(this, args);\n\t\t}, delay);\n\t};\n};\n\n/**\n * @callback RequestFactoryFn\n * @param {string} query\n * @param {{\n *  url: ?string,\n *  parentValue: string|number|null|undefined,\n *  initial: string|number|string[]|null\n *  }} props\n * @param {RequestInit|object} fetchProps\n * @returns {{\n *  request: Request\n *  controller: AbortController\n * }}\n */\n\n/**\n * Built-in fetch request factory\n *\n * @type {RequestFactoryFn}\n */\nexport function requestFactory(query, { url, parentValue, initial }, fetchProps) {\n  if (parentValue) {\n    url = url.replace('[parent]', encodeURIComponent(parentValue));\n  }\n  if (query) {\n    url = url.replace('[query]', encodeURIComponent(query));\n  }\n  if (Array.isArray(initial) && initial.length === 0) initial = null;\n  if (initial) {\n    url = url.replace('[query]', 'init');\n  }\n  const fetchUrl = url[0] === '/'\n    ? new URL(url, window.location.origin)\n    : new URL(url);\n\n  if (initial) {\n    const arr = Array.isArray(initial) ? initial : [initial];\n    fetchUrl.searchParams.append('init', arr.join(','));\n  }\n  const controller = new AbortController();\n  const props = Object.assign({}, fetchProps, { signal: controller.signal });\n  return {\n    request: new Request(fetchUrl, props),\n    controller: controller\n  };\n}\n","/**\n * sifter.js\n * Copyright (c) 2013–2020 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n/**\n * NOTE: Extend tokenize params with 'startOnly'\n *\n * @author Martin Skocik <mskocik@gmail.com>\n */\n\n/**\n * Textually searches arrays and hashes of objects\n * by property (or multiple properties). Designed\n * specifically for autocomplete.\n *\n * @constructor\n * @param {array|object} items\n * @param {object} [settings]\n */\nvar Sifter = function(items, settings) {\n    this.items = items;\n    this.settings = settings || {diacritics: true};\n};\n\n/**\n * Splits a search string into an array of individual\n * regexps to be used to match results.\n *\n * @param {string} query\n * @param {boolean?} respect_word_boundary\n * @param {boolean?} start_only\n * @returns {array}\n */\nSifter.prototype.tokenize = function(query, respect_word_boundary, start_only) {\n    query = trim(String(query || '').toLowerCase());\n    if (!query || !query.length) return [];\n\n    var i, n, regex, letter;\n    var tokens = [];\n    var words = query.split(/ +/);\n\n    for (i = 0, n = words.length; i < n; i++) {\n        regex = escape_regex(words[i]);\n        if (this.settings.diacritics) {\n            for (letter in DIACRITICS) {\n                if (DIACRITICS.hasOwnProperty(letter)) {\n                    regex = regex.replace(new RegExp(letter, 'g'), DIACRITICS[letter]);\n                }\n            }\n        }\n        if (respect_word_boundary) {\n          regex = \"\\\\b\"+regex;\n        } else if (start_only) regex = \"\\\\b^\"+regex;\n\n        tokens.push({\n            string : words[i],\n            regex  : new RegExp(regex, 'i')\n        });\n    }\n\n    return tokens;\n};\n\n/**\n * Iterates over arrays and hashes.\n *\n * ```\n * this.iterator(this.items, function(item, id) {\n *    // invoked for each item\n * });\n * ```\n *\n * @param {array|object} object\n */\nSifter.prototype.iterator = function(object, callback) {\n    var iterator;\n    if (Array.isArray(object)) {\n        iterator = Array.prototype.forEach || function(callback) {\n            for (var i = 0, n = this.length; i < n; i++) {\n                callback(this[i], i, this);\n            }\n        };\n    } else {\n        iterator = function(callback) {\n            for (var key in this) {\n                if (this.hasOwnProperty(key)) {\n                    callback(this[key], key, this);\n                }\n            }\n        };\n    }\n\n    iterator.apply(object, [callback]);\n};\n\n/**\n * Returns a function to be used to score individual results.\n *\n * Good matches will have a higher score than poor matches.\n * If an item is not a match, 0 will be returned by the function.\n *\n * @param {object|string} search\n * @param {object} [options]\n * @returns {function}\n */\nSifter.prototype.getScoreFunction = function(search, options) {\n    var self, fields, tokens, token_count, nesting;\n\n    self        = this;\n    search      = self.prepareSearch(search, options);\n    tokens      = search.tokens;\n    fields      = search.options.fields;\n    token_count = tokens.length;\n    nesting     = search.options.nesting;\n\n    /**\n     * Calculates how close of a match the\n     * given value is against a search token.\n     *\n     * @param {string | number} value\n     * @param {object} token\n     * @return {number}\n     */\n    var scoreValue = function(value, token) {\n        var score, pos;\n\n        if (!value) return 0;\n        value = String(value || '');\n        pos = value.search(token.regex);\n        if (pos === -1) return 0;\n        score = token.string.length / value.length;\n        if (pos === 0) score += 0.5;\n        return score;\n    };\n\n    /**\n     * Calculates the score of an object\n     * against the search query.\n     *\n     * @param {object} token\n     * @param {object} data\n     * @return {number}\n     */\n    var scoreObject = (function() {\n        var field_count = fields.length;\n        if (!field_count) {\n            return function() { return 0; };\n        }\n        if (field_count === 1) {\n            return function(token, data) {\n                return scoreValue(getattr(data, fields[0], nesting), token);\n            };\n        }\n        return function(token, data) {\n            for (var i = 0, sum = 0; i < field_count; i++) {\n                sum += scoreValue(getattr(data, fields[i], nesting), token);\n            }\n            return sum / field_count;\n        };\n    })();\n\n    if (!token_count) {\n        return function() { return 0; };\n    }\n    if (token_count === 1) {\n        return function(data) {\n            return scoreObject(tokens[0], data);\n        };\n    }\n\n    if (search.options.conjunction === 'and') {\n        return function(data) {\n            var score;\n            for (var i = 0, sum = 0; i < token_count; i++) {\n                score = scoreObject(tokens[i], data);\n                if (score <= 0) return 0;\n                sum += score;\n            }\n            return sum / token_count;\n        };\n    } else {\n        return function(data) {\n            for (var i = 0, sum = 0; i < token_count; i++) {\n                sum += scoreObject(tokens[i], data);\n            }\n            return sum / token_count;\n        };\n    }\n};\n\n/**\n * Returns a function that can be used to compare two\n * results, for sorting purposes. If no sorting should\n * be performed, `null` will be returned.\n *\n * @param {string|object} search\n * @param {object} options\n * @return function(a,b)\n */\nSifter.prototype.getSortFunction = function(search, options) {\n    var i, n, self, field, fields, fields_count, multiplier, multipliers, get_field, implicit_score, sort;\n\n    self   = this;\n    search = self.prepareSearch(search, options);\n    sort   = (!search.query && options.sort_empty) || options.sort;\n\n    /**\n     * Fetches the specified sort field value\n     * from a search result item.\n     *\n     * @param  {string} name\n     * @param  {object} result\n     */\n    get_field = function(name, result) {\n        if (name === '$score') return result.score;\n        return getattr(self.items[result.id], name, options.nesting);\n    };\n\n    // parse options\n    fields = [];\n    if (sort) {\n        for (i = 0, n = sort.length; i < n; i++) {\n            if (search.query || sort[i].field !== '$score') {\n                fields.push(sort[i]);\n            }\n        }\n    }\n\n    // the \"$score\" field is implied to be the primary\n    // sort field, unless it's manually specified\n    if (search.query) {\n        implicit_score = true;\n        for (i = 0, n = fields.length; i < n; i++) {\n            if (fields[i].field === '$score') {\n                implicit_score = false;\n                break;\n            }\n        }\n        if (implicit_score) {\n            fields.unshift({field: '$score', direction: 'desc'});\n        }\n    } else {\n        for (i = 0, n = fields.length; i < n; i++) {\n            if (fields[i].field === '$score') {\n                fields.splice(i, 1);\n                break;\n            }\n        }\n    }\n\n    multipliers = [];\n    for (i = 0, n = fields.length; i < n; i++) {\n        multipliers.push(fields[i].direction === 'desc' ? -1 : 1);\n    }\n\n    // build function\n    fields_count = fields.length;\n    if (!fields_count) {\n        return null;\n    } else if (fields_count === 1) {\n        field = fields[0].field;\n        multiplier = multipliers[0];\n        return function(a, b) {\n            return multiplier * cmp(\n                get_field(field, a),\n                get_field(field, b)\n            );\n        };\n    } else {\n        return function(a, b) {\n            var i, result, a_value, b_value, field;\n            for (i = 0; i < fields_count; i++) {\n                field = fields[i].field;\n                result = multipliers[i] * cmp(\n                    get_field(field, a),\n                    get_field(field, b)\n                );\n                if (result) return result;\n            }\n            return 0;\n        };\n    }\n};\n\n/**\n * Parses a search query and returns an object\n * with tokens and fields ready to be populated\n * with results.\n *\n * @param {string} query\n * @param {object} options\n * @returns {object}\n */\nSifter.prototype.prepareSearch = function(query, options) {\n    if (typeof query === 'object') return query;\n\n    options = extend({}, options);\n\n    var option_fields     = options.fields;\n    var option_sort       = options.sort;\n    var option_sort_empty = options.sort_empty;\n\n    if (option_fields && !Array.isArray(option_fields)) options.fields = [option_fields];\n    if (option_sort && !Array.isArray(option_sort)) options.sort = [option_sort];\n    if (option_sort_empty && !Array.isArray(option_sort_empty)) options.sort_empty = [option_sort_empty];\n\n    return {\n        options : options,\n        query   : String(query || '').toLowerCase(),\n        tokens  : this.tokenize(query, options.wordsOnly, options.startOnly),\n        total   : 0,\n        items   : []\n    };\n};\n\n/**\n * Searches through all items and returns a sorted array of matches.\n *\n * The `options` parameter can contain:\n *\n *   - fields {string|array}\n *   - sort {array}\n *   - score {function}\n *   - filter {bool}\n *   - limit {integer}\n *\n * Returns an object containing:\n *\n *   - options {object}\n *   - query {string}\n *   - tokens {array}\n *   - total {int}\n *   - items {array}\n *\n * @param {string} query\n * @param {object} options\n * @returns {object}\n */\nSifter.prototype.search = function(query, options) {\n    var self = this, value, score, search, calculateScore;\n    var fn_sort;\n    var fn_score;\n\n    search  = this.prepareSearch(query, options);\n    options = search.options;\n    query   = search.query;\n\n    // generate result scoring function\n    fn_score = options.score || self.getScoreFunction(search);\n\n    // perform search and sort\n    if (query.length) {\n        self.iterator(self.items, function(item, id) {\n            score = fn_score(item);\n            if (options.filter === false || score > 0) {\n                search.items.push({'score': score, 'id': id});\n            }\n        });\n    } else {\n        self.iterator(self.items, function(item, id) {\n            search.items.push({'score': 1, 'id': id});\n        });\n    }\n\n    fn_sort = self.getSortFunction(search, options);\n    if (fn_sort) search.items.sort(fn_sort);\n\n    // apply limits\n    search.total = search.items.length;\n    if (typeof options.limit === 'number') {\n        search.items = search.items.slice(0, options.limit);\n    }\n\n    return search;\n};\n\n// utilities\n// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\nvar cmp = function(a, b) {\n    if (typeof a === 'number' && typeof b === 'number') {\n        return a > b ? 1 : (a < b ? -1 : 0);\n    }\n    a = asciifold(String(a || ''));\n    b = asciifold(String(b || ''));\n    if (a > b) return 1;\n    if (b > a) return -1;\n    return 0;\n};\n\nvar extend = function(a, b) {\n    var i, n, k, object;\n    for (i = 1, n = arguments.length; i < n; i++) {\n        object = arguments[i];\n        if (!object) continue;\n        for (k in object) {\n            if (object.hasOwnProperty(k)) {\n                a[k] = object[k];\n            }\n        }\n    }\n    return a;\n};\n\n/**\n * A property getter resolving dot-notation\n * @param  {Object}  obj     The root object to fetch property on\n * @param  {String}  name    The optionally dotted property name to fetch\n * @param  {Boolean} nesting Handle nesting or not\n * @return {Object}          The resolved property value\n */\nvar getattr = function(obj, name, nesting) {\n    if (!obj || !name) return;\n    if (!nesting) return obj[name];\n    var names = name.split(\".\");\n    // @ts-ignore\n    while(names.length && (obj = obj[names.shift()]));\n    return obj;\n};\n\nvar trim = function(str) {\n    return (str + '').replace(/^\\s+|\\s+$|/g, '');\n};\n\nvar escape_regex = function(str) {\n    return (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n};\n\nvar DIACRITICS = {\n    'a': '[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]',\n    'b': '[b␢βΒB฿𐌁ᛒ]',\n    'c': '[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]',\n    'd': '[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]',\n    'e': '[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]',\n    'f': '[fƑƒḞḟ]',\n    'g': '[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]',\n    'h': '[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]',\n    'i': '[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]',\n    'j': '[jȷĴĵɈɉʝɟʲ]',\n    'k': '[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]',\n    'l': '[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]',\n    'n': '[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]',\n    'o': '[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]',\n    'p': '[pṔṕṖṗⱣᵽƤƥᵱ]',\n    'q': '[qꝖꝗʠɊɋꝘꝙq̃]',\n    'r': '[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]',\n    's': '[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]',\n    't': '[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]',\n    'u': '[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]',\n    'v': '[vṼṽṾṿƲʋꝞꝟⱱʋ]',\n    'w': '[wẂẃẀẁŴŵẄẅẆẇẈẉ]',\n    'x': '[xẌẍẊẋχ]',\n    'y': '[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]',\n    'z': '[zŹźẐẑŽžŻżẒẓẔẕƵƶ]'\n};\n\nexport const asciifold = (function() {\n    var i, n, k, chunk;\n    var foreignletters = '';\n    var lookup = {};\n    for (k in DIACRITICS) {\n        if (DIACRITICS.hasOwnProperty(k)) {\n            chunk = DIACRITICS[k].substring(2, DIACRITICS[k].length - 1);\n            foreignletters += chunk;\n            for (i = 0, n = chunk.length; i < n; i++) {\n                lookup[chunk.charAt(i)] = k;\n            }\n        }\n    }\n    var regexp = new RegExp('[' +  foreignletters + ']', 'g');\n    return function(str) {\n        return str.replace(regexp, function(foreignletter) {\n            return lookup[foreignletter];\n        }).toLowerCase();\n    };\n})();\n\n\n// export\n// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nexport default Sifter;\n\n","import { asciifold } from './sifter.js';\n\nlet itemHtml;\n\n/**\n *\n * @param {object} item\n * @param {boolean} renderInSelection\n * @param {string} inputValue\n * @param {function} itemRenderer\n * @param {boolean} disableHighlight\n * @returns {string}\n */\nexport function highlightSearch(item, renderInSelection, inputValue, itemRenderer, disableHighlight) {\n  const itemHtmlText = itemRenderer(item, renderInSelection, inputValue);\n\n  if (inputValue == '' || item.isSelected || disableHighlight) {\n    return itemHtmlText;\n  }\n\n  if (!itemHtml) {\n    itemHtml = document.createElement('div');\n  }\n  itemHtml.innerHTML = itemHtmlText;\n\n  const pattern = asciifold(inputValue);\n  (pattern.includes('|')\n    ? pattern.split('|').map(w => w.trim())\n    : pattern.split(' ')\n  )\n    .filter(e => e).forEach(pat => {\n      highlight(itemHtml, pat);\n    });\n\n  return itemHtml.innerHTML;\n}\n\n/**\n * highlight function code from selectize itself. We pass raw html through @html svelte tag\n * base from https://github.com/selectize/selectize.js/blob/master/src/contrib/highlight.js & edited\n *\n * @param {Node & Element & Text} node\n * @param {string} regex\n */\nfunction highlight(node, regex) {\n  let skip = 0;\n  // Wrap matching part of text node with highlighting <span>, e.g.\n  // Soccer  ->  <span class=\"highlight\">Soc</span>cer for pattern 'soc'\n  if (node.nodeType === 3) {\n    const folded = asciifold(node.data);\n    let pos = folded.indexOf(regex);\n    pos -= (folded.substr(0, pos).toUpperCase().length - folded.substr(0, pos).length);\n    if (pos >= 0 ) {\n      const spannode = document.createElement('span');\n      spannode.className = 'highlight';\n      const middlebit = node.splitText(pos);\n      const endbit = middlebit.splitText(regex.length);\n      const middleclone = middlebit.cloneNode(true);\n      spannode.appendChild(middleclone);\n      middlebit.parentNode.replaceChild(spannode, middlebit);\n      skip = 1;\n    }\n  }\n  // Recurse element node, looking for child text nodes to highlight, unless element\n  // is childless, <script>, <style>, or already highlighted: <span class=\"hightlight\">\n  else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName) && ( node.className !== 'highlight' || node.tagName !== 'SPAN' )) {\n    for (var i = 0; i < node.childNodes.length; ++i) {\n      // @ts-ignore\n      i += highlight(node.childNodes[i], regex);\n    }\n  }\n  return skip;\n};\n\n/**\n * Detect Mac device\n *\n * @returns {boolean}\n */\nexport function iOS() {\n  return [\n    'iPad Simulator',\n    'iPhone Simulator',\n    'iPod Simulator',\n    'iPad',\n    'iPhone',\n    'iPod'\n  ].includes(navigator.platform)\n  // iPad on iOS 13 detection\n  || (navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document)\n}\n\n/**\n * Detects if on android device\n *\n * @returns {boolean}\n */\nexport function android() {\n  return navigator.userAgent.toLowerCase().includes('android');\n}\n\n/**\n * Internal formatter of newly created items\n *\n * @param {string} enteredValue\n * @returns {string}\n */\nexport function onCreate_helper(enteredValue) {\n  return (enteredValue || '').replace(/\\t/g, ' ').trim().split(' ').filter(ch => ch).join(' ');\n}\n\n/**\n * Escape HTML\n * @param {string} html\n * @returns {string}\n */\nexport function escapeHtml(html) {\n  return `${html}`\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n};\n","/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function linear(t) {\n\treturn t;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function backInOut(t) {\n\tconst s = 1.70158 * 1.525;\n\tif ((t *= 2) < 1) return 0.5 * (t * t * ((s + 1) * t - s));\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function backIn(t) {\n\tconst s = 1.70158;\n\treturn t * t * ((s + 1) * t - s);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function backOut(t) {\n\tconst s = 1.70158;\n\treturn --t * t * ((s + 1) * t + s) + 1;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function bounceOut(t) {\n\tconst a = 4.0 / 11.0;\n\tconst b = 8.0 / 11.0;\n\tconst c = 9.0 / 10.0;\n\tconst ca = 4356.0 / 361.0;\n\tconst cb = 35442.0 / 1805.0;\n\tconst cc = 16061.0 / 1805.0;\n\tconst t2 = t * t;\n\treturn t < a\n\t\t? 7.5625 * t2\n\t\t: t < b\n\t\t\t? 9.075 * t2 - 9.9 * t + 3.4\n\t\t\t: t < c\n\t\t\t\t? ca * t2 - cb * t + cc\n\t\t\t\t: 10.8 * t * t - 20.52 * t + 10.72;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function bounceInOut(t) {\n\treturn t < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0)) : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function bounceIn(t) {\n\treturn 1.0 - bounceOut(1.0 - t);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function circInOut(t) {\n\tif ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function circIn(t) {\n\treturn 1.0 - Math.sqrt(1.0 - t * t);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function circOut(t) {\n\treturn Math.sqrt(1 - --t * t);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function cubicInOut(t) {\n\treturn t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function cubicIn(t) {\n\treturn t * t * t;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function cubicOut(t) {\n\tconst f = t - 1.0;\n\treturn f * f * f + 1.0;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function elasticInOut(t) {\n\treturn t < 0.5\n\t\t? 0.5 * Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n\t\t: 0.5 *\n\t\t\t\tMath.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n\t\t\t\tMath.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n\t\t\t\t1.0;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function elasticIn(t) {\n\treturn Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function elasticOut(t) {\n\treturn Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function expoInOut(t) {\n\treturn t === 0.0 || t === 1.0\n\t\t? t\n\t\t: t < 0.5\n\t\t\t? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n\t\t\t: -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function expoIn(t) {\n\treturn t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function expoOut(t) {\n\treturn t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quadInOut(t) {\n\tt /= 0.5;\n\tif (t < 1) return 0.5 * t * t;\n\tt--;\n\treturn -0.5 * (t * (t - 2) - 1);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quadIn(t) {\n\treturn t * t;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quadOut(t) {\n\treturn -t * (t - 2.0);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quartInOut(t) {\n\treturn t < 0.5 ? +8.0 * Math.pow(t, 4.0) : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quartIn(t) {\n\treturn Math.pow(t, 4.0);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quartOut(t) {\n\treturn Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quintInOut(t) {\n\tif ((t *= 2) < 1) return 0.5 * t * t * t * t * t;\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quintIn(t) {\n\treturn t * t * t * t * t;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quintOut(t) {\n\treturn --t * t * t * t * t + 1;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function sineInOut(t) {\n\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function sineIn(t) {\n\tconst v = Math.cos(t * Math.PI * 0.5);\n\tif (Math.abs(v) < 1e-14) return 1;\n\telse return 1 - v;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function sineOut(t) {\n\treturn Math.sin((t * Math.PI) / 2);\n}\n","/** @import { FlipParams, AnimationConfig } from './public.js' */\nimport { cubicOut } from '../easing/index.js';\n\n/**\n * The flip function calculates the start and end position of an element and animates between them, translating the x and y values.\n * `flip` stands for [First, Last, Invert, Play](https://aerotwist.com/blog/flip-your-animations/).\n *\n * @param {Element} node\n * @param {{ from: DOMRect; to: DOMRect }} fromTo\n * @param {FlipParams} params\n * @returns {AnimationConfig}\n */\nexport function flip(node, { from, to }, params = {}) {\n\tvar { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n\n\tvar style = getComputedStyle(node);\n\n\t// find the transform origin, expressed as a pair of values between 0 and 1\n\tvar transform = style.transform === 'none' ? '' : style.transform;\n\tvar [ox, oy] = style.transformOrigin.split(' ').map(parseFloat);\n\tox /= node.clientWidth;\n\toy /= node.clientHeight;\n\n\t// calculate effect of parent transforms and zoom\n\tvar zoom = get_zoom(node); // https://drafts.csswg.org/css-viewport/#effective-zoom\n\tvar sx = node.clientWidth / to.width / zoom;\n\tvar sy = node.clientHeight / to.height / zoom;\n\n\t// find the starting position of the transform origin\n\tvar fx = from.left + from.width * ox;\n\tvar fy = from.top + from.height * oy;\n\n\t// find the ending position of the transform origin\n\tvar tx = to.left + to.width * ox;\n\tvar ty = to.top + to.height * oy;\n\n\t// find the translation at the start of the transform\n\tvar dx = (fx - tx) * sx;\n\tvar dy = (fy - ty) * sy;\n\n\t// find the relative scale at the start of the transform\n\tvar dsx = from.width / to.width;\n\tvar dsy = from.height / to.height;\n\n\treturn {\n\t\tdelay,\n\t\tduration: typeof duration === 'function' ? duration(Math.sqrt(dx * dx + dy * dy)) : duration,\n\t\teasing,\n\t\tcss: (t, u) => {\n\t\t\tvar x = u * dx;\n\t\t\tvar y = u * dy;\n\t\t\tvar sx = t + u * dsx;\n\t\t\tvar sy = t + u * dsy;\n\n\t\t\treturn `transform: ${transform} translate(${x}px, ${y}px) scale(${sx}, ${sy});`;\n\t\t}\n\t};\n}\n\n/**\n * @param {Element} element\n */\nfunction get_zoom(element) {\n\tif ('currentCSSZoom' in element) {\n\t\treturn /** @type {number} */ (element.currentCSSZoom);\n\t}\n\n\t/** @type {Element | null} */\n\tvar current = element;\n\tvar zoom = 1;\n\n\twhile (current !== null) {\n\t\tzoom *= +getComputedStyle(current).zoom;\n\t\tcurrent = /** @type {Element | null} */ (current.parentElement);\n\t}\n\n\treturn zoom;\n}\n","/**\n * @param {HTMLDivElement} element\n * @param {string} prop\n * @returns {number}\n */\nexport function pixelGetter(element, prop) {\n  const styles = window.getComputedStyle(element);\n  let { groups: { value, unit } } = styles[prop].match(/(?<value>\\d+)(?<unit>[a-zA-Z]+)/);\n  let floatValue = parseFloat((/** @type {unknown} */ value));\n  if (unit !== 'px') {\n    const el = unit === 'rem'\n      ? document.documentElement\n      : element.parentElement.parentElement;\n    const multipler = parseFloat(window.getComputedStyle(el).fontSize.match(/\\d+/).shift());\n    floatValue = multipler * floatValue;\n  }\n  return floatValue;\n}\n\n/**\n * @typedef {object} outValue\n * @property {boolean} top\n * @property {boolean} left\n * @property {boolean} bottom\n * @property {boolean} right\n * @property {boolean} any\n *\n * @param {*} elem\n * @returns {outValue}\n */\nfunction isOutOfViewport(elem) {\n  const parentBounding = elem\n    .parentElement  // dropdown container\n    .parentElement  // component container\n      .getBoundingClientRect();\n  const bounding = elem.getBoundingClientRect();\n  const out = {};\n\n  out.top = parentBounding.top < 0;\n  out.left = parentBounding.left < 0;\n  out.bottom = parentBounding.bottom + bounding.height > (window.innerHeight || document.documentElement.clientHeight)\n    && parentBounding.top > bounding.height && ((window.innerHeight || document.documentElement.clientHeight) > bounding.height + 50);\n  out.right = parentBounding.right > (window.innerWidth || document.documentElement.clientWidth);\n  out.any = out.top || out.left || out.bottom || out.right;\n\n  return out;\n};\n\n/**\n * @param {boolean} isOpened\n * @param {HTMLDivElement} scrollContainer\n * @param {boolean} renderDropdown\n * @returns {void}\n */\nexport function positionDropdown(isOpened, scrollContainer, renderDropdown) {\n  if (!scrollContainer || !renderDropdown) return;\n  const outVp = isOutOfViewport(scrollContainer);\n  if (outVp.bottom && !outVp.top) {\n    scrollContainer.parentElement.style.bottom = (scrollContainer.parentElement.parentElement.clientHeight + 1) + 'px';\n    // FUTURE: debounce ....\n  } else if (!isOpened || outVp.top || scrollContainer.parentElement.style.bottom !== '') {\n    scrollContainer.parentElement.style.bottom = '';\n  }\n}\n\n\n/**\n * @typedef {object} ScrollParams\n * @property {HTMLDivElement} container\n * @property {HTMLDivElement} scrollContainer\n * @property {boolean} virtualList\n * @property {boolean} center\n *\n * @param {ScrollParams} params\n * @param {number} dropdownIndex\n * @returns\n */\nexport function scrollIntoView({ container, scrollContainer, virtualList, center }, dropdownIndex) {\n  if (virtualList || !container) return;\n\n  /** @type {HTMLDivElement} */\n  const focusedEl = container.querySelector(`[data-pos=\"${dropdownIndex}\"]`);\n  if (!focusedEl) return;\n\n  const focusedRect = focusedEl.getBoundingClientRect();\n  const menuRect = scrollContainer.getBoundingClientRect();\n  const overScroll = focusedEl.offsetHeight / 3;\n  const centerOffset = center ? scrollContainer.offsetHeight / 2 : 0;\n  switch (true) {\n    case focusedEl.offsetTop < scrollContainer.scrollTop:\n      scrollContainer.scrollTop = focusedEl.offsetTop - overScroll + centerOffset;\n      break;\n    case focusedEl.offsetTop + focusedRect.height > scrollContainer.scrollTop + menuRect.height:\n        scrollContainer.scrollTop = focusedEl.offsetTop + focusedRect.height - scrollContainer.offsetHeight + overScroll + centerOffset;\n      break;\n  }\n}\n","import Sifter from './sifter.js';\n\n/**\n * @typedef {object} ComponentConfig\n * @property {boolean} optionsWithGroups\n * @property {string} valueField\n * @property {string} labelField\n * @property {string} optLabel\n * @property {string} optItems\n * @property {string[]} optionProps\n */\n\n/**\n * @typedef {object} SortDef\n * @property {string} field\n * @property {'asc'|'desc'} [direction]\n *\n * @typedef {object} SearchProps\n * @property {string|string[]} [fields]\n * @property {string|SortDef[]} [sort]\n * @property {boolean} [keepSelectionInList]\n * @property {boolean} [nesting]\n * @property {'or'} [conjunction]\n * @property {boolean} [skipSort]\n * @property {boolean} [startOnly]\n * @property {boolean} [wordsOnly]\n * @property {boolean} [disabled]\n */\n\n/**\n * @param {string} valueField\n * @param {string} labelField\n * @param {string} optLabel\n * @param {string} optItems\n * @returns {ComponentConfig}\n */\nexport function createConfig(valueField, labelField, optLabel, optItems) {\n  return {\n    optionProps: [],\n    optionsWithGroups: false,\n    valueField,\n    labelField,\n    optLabel,\n    optItems\n  }\n}\n\n/**\n * @param {array} options\n * @param {array|null|object} initialValue\n * @param {boolean} valueAsObject\n * @param {string} valueField\n */\nexport function initSelection(options, initialValue, valueAsObject, valueField) {\n  let initialValue_array = Array.isArray(initialValue)\n    ? initialValue\n    : [initialValue];\n\n  if (valueAsObject) {\n    initialValue_array = initialValue_array.map(opt => opt[valueField]);\n  }\n\n  /** @type {object[]} */\n  const initialSelection = options.reduce((res, opt) => {\n    if (initialValue_array.includes(opt[valueField])) {\n      opt.$selected = true;\n      res.push(opt);\n    }\n    return res;\n  }, []);\n\n  return initialSelection\n    .sort((a, b) => initialValue_array.indexOf(a[valueField]) < initialValue_array.indexOf(b[valueField]) ? -1 : 1)\n}\n\n/**\n *\n * @param {object[]|string[]} options\n * @param {string?} valueField\n * @param {string?} labelField\n * @returns {object[]}\n */\nexport function ensureObjectArray(options, valueField, labelField) {\n  return typeof options[0] === 'object'\n    ? JSON.parse(JSON.stringify(options))\n    : options.map(arrayValue => ({\n      [valueField || 'value']: arrayValue,\n      [labelField || 'text']: arrayValue\n    }));\n}\n\n/**\n *\n * @param {object[]} options\n * @param {ComponentConfig} config\n * @returns\n */\nexport function flatList(options, config) {\n  const flatOpts = options.reduce((res, opt, i) => {\n    if (opt[config.optItems]) {\n      if (opt[config.optItems].length === 0) return res;\n      config.optionsWithGroups = true;\n      res.push({ label: opt[config.optLabel], $isGroupHeader: true });\n      res.push(...opt[config.optItems].map(_opt => {\n        _opt.$isGroupItem = true;\n        return _opt;\n      }));\n      return res;\n    }\n    res.push(opt);\n    return res;\n  }, []);\n  updateOptionProps(flatOpts, config);\n  return flatOpts;\n}\n\n/**\n * @param {object[]} options\n * @param {ComponentConfig} config\n */\nfunction updateOptionProps(options, config) {\n  options.some(opt => {\n    if (opt.$isGroupHeader) return false;\n    config.optionProps = getFilterProps(opt);\n    return true;\n  })\n}\n\n/**\n *\n * @param {object} object\n * @returns {string[]}\n */\nexport function getFilterProps(object) {\n  const exclude = ['$disabled', '$isGroupHeader', '$isGroupItem', '$created', '$selected'];\n  return Object.keys(object).filter(prop => !exclude.includes(prop));\n}\n\n/**\n *\n * @param {object[]} options\n * @param {?string} inputValue\n * @param {?Set} excludeSelected\n * @param {ComponentConfig} config\n * @param {SearchProps} searchProps\n * @returns {object[]}\n */\nexport function filterList(options, inputValue, excludeSelected, config, searchProps = {}) {\n  if (!searchProps.keepSelectionInList && excludeSelected) {\n    options = options\n      .filter(opt => !excludeSelected.has(opt[config.valueField]))\n      .filter((opt, idx, self) => {\n        if (opt.$isGroupHeader &&\n          (\n            (self[idx + 1] && self[idx + 1].$isGroupHeader)\n          || self.length <= 1\n          || self.length - 1 === idx\n          )\n        ) return false;\n        return true;\n      })\n  }\n  if (searchProps.disabled || !inputValue) return options;\n\n  const sifter = new Sifter(options);\n  /**\n   * Sifter is used for searching to provide rich filter functionality.\n   * But it degradate nicely, when optgroups are present\n  */\n  if (config.optionsWithGroups || searchProps.skipSort) {  // disable sorting\n    sifter.getSortFunction = () => null;\n  }\n  let conjunction = 'and';\n  if (inputValue.includes('|')) {\n    conjunction = 'or';\n    inputValue = inputValue.split('|').map(word => word.trim()).join(' ');\n  }\n\n  const result = sifter.search(inputValue, {\n    fields: searchProps.fields || config.optionProps,\n    sort: searchProps.sort || createSifterSortField(config.labelField),\n    conjunction: searchProps.conjunction || conjunction,\n    nesting: searchProps.nesting || false,\n    wordsOnly: searchProps.wordsOnly || false,\n    startOnly: searchProps.startOnly || false\n  });\n\n  const mapped = config.optionsWithGroups\n    ? result.items.reduce((res, item) => {\n        const opt = options[item.id];\n        if (excludeSelected && opt.isSelected) return res;\n        const lastPos = res.push(opt);\n        if (opt.$isGroupItem) {\n          const prevItems = options.slice(0, item.id);\n          let prev = null;\n          do {\n            prev = prevItems.pop();\n            prev && prev.$isGroupHeader && !res.includes(prev) && res.splice(lastPos - 1, 0, prev);\n          } while (prev && !prev.$isGroupHeader);\n        }\n        return res;\n      }, [])\n    : result.items.map(item => options[item.id])\n  return mapped;\n}\n\nfunction createSifterSortField(prop) {\n  return [{ field: prop, direction: 'asc'}];\n}\n\n/**\n * Automatic setter for 'valueField' or 'labelField' when they are not set\n *\n * @param {string} type\n * @param {array} options\n * @param {string?} groupItemsField\n */\nexport function fieldInit(type, options, groupItemsField) {\n  const isValue = type === 'value';\n  let val = isValue  ? 'value' : 'text';              // selectize style defaults\n  if (options && options.length) {\n    // @ts-ignore\n    const firstItem = options[0][groupItemsField] ? options[0][groupItemsField][0] : options[0];\n    if (!firstItem || typeof firstItem === 'string') return val;\n    const autoAddItem = isValue ? 0 : 1;\n    const guessList = isValue\n      ? ['id', 'value', 'ID']\n      : ['name', 'title', 'label'];\n    // @ts-ignore\n    val = Object.keys(firstItem).filter(prop => guessList.includes(prop))\n      .concat([Object.keys(firstItem)[autoAddItem]])  // auto add field (used as fallback) if empty list is returned\n      .shift();\n  }\n  return val;\n}\n","/**\n * @typedef {object} ExtButton\n * @property {object?} [bound_item]\n *\n * @param {HTMLElement & ExtButton} node\n * @param {object} selectedObject\n */\nexport function bindItem(node, selectedObject) {\n  node.bound_item = selectedObject;\n\n  return {\n    destroy: () => {}\n  }\n}\n","<script>\n  import { onDestroy, onMount, tick } from \"svelte\";\n\n  /**\n   * @typedef {{\n   *  itemCount: Array<Object>,\n   *  maxHeight: number,\n   *  itemHeight?: number,\n   *  scrollToIndex: number,\n   *  children: import('svelte').Snippet<[ index: number ]>\n   * }} */\n  const {\n    itemCount,\n    maxHeight,\n    itemHeight = null,  // null means, automatic handling\n    scrollToIndex,\n    children,\n  } = $props();\n\n  export function resolveItemSize() {\n    /** @ts-ignore @type {HTMLElement}  */\n    const el = ref_contents.firstElementChild;\n\n    return el?.offsetHeight || 0;\n  }\n\n  let prev_itemCount = itemCount;\n  let prev_scrollToIndex = scrollToIndex;\n  let currentOffset = 0;\n\n  let start = $state(0);\n  let end = $state(0);\n  let top = $state(0);\n  let viewport_height = $state(0);\n  /** @type {HTMLElement} */\n  let ref_viewport  = $state(null);\n  /** @type {HTMLElement} */\n  let ref_contents = $state(null);\n  /** @type {number} */\n  let itemSize = $state(itemHeight);\n\n  let style = $derived(`height:${viewport_height}px;width:100%`);\n  let visibleItems = $derived.by(() => {\n    const items = [];\n    for (let i = start; i< end; i++) {\n      items.push({ index: i });\n    }\n    return items;\n  });\n\n  function updateScrollIndex(index) {\n    prev_scrollToIndex = index;\n    if (index < 0 || index > itemCount) {\n      index = 0;\n    }\n    if (start < index && index < end -1) {\n      return;\n    }\n\n    const maxOffset = index * itemSize;\n    const minOffset = maxOffset - ref_viewport.clientHeight + itemSize;\n    const totalSize = itemCount * itemSize;\n\n    const idealOffset = Math.max(minOffset, Math.min(maxOffset, currentOffset));\n\n    currentOffset = Math.max(0, Math.min(totalSize - ref_viewport.clientHeight, idealOffset));\n    ref_viewport.scroll({\n      top: currentOffset,\n      behavior: 'auto'\n    });\n  }\n\n  /**\n   *\n   * @param {number} itemsCount\n   */\n  async function refresh(itemsCount) {\n    // first init\n    if (!itemSize && itemsCount && end === 0) {\n      end = 1;\n      await tick();\n      itemSize = resolveItemSize();\n    }\n\n    prev_itemCount = itemsCount;\n\n    viewport_height = Math.min(maxHeight, itemsCount * itemSize);\n    end = Math.min(itemsCount, Math.round(maxHeight / itemSize));\n\n    await tick();\n    handle_scroll();  // just make sure to repaint visible area\n  }\n\n  async function handle_scroll() {\n    const { scrollTop } = ref_viewport;\n\n    const old_start = start;\n\n    let i = 0;\n    let y = 0;\n\n    while (i < itemCount) {\n      if (y + itemSize > scrollTop) {\n        start = i;\n        top = y;\n        break;\n      }\n\n      y += itemSize;\n      i += 1;\n    }\n\n    while (i < itemCount) {\n      y += itemSize;\n      i += 1;\n\n      if (y > scrollTop + viewport_height) break;\n    }\n\n    end = i;\n\n    if (start < old_start) {\n      // await tick();\n\n      let expected_height = 0;\n      let actual_height = 0;\n\n      for (let i = start; i < old_start; i += 1) {\n        const idx = i - start;\n        if (start <= idx && idx < end) {\n          expected_height += itemSize;\n          actual_height += itemSize;\n        }\n      }\n\n      const d = actual_height - expected_height;\n      ref_viewport.scrollTo(0, scrollTop + d);\n    }\n  }\n\n  onMount(() => {\n    refresh(itemCount);\n    ref_viewport?.addEventListener('scroll', handle_scroll, { passive: true });\n  });\n\n  onDestroy(() => {\n    ref_viewport?.removeEventListener('scroll', handle_scroll);\n  });\n\n  $effect(() => {\n    prev_itemCount !== itemCount && refresh(itemCount);\n  });\n\n  $effect(() => {\n    prev_scrollToIndex !== scrollToIndex && updateScrollIndex(scrollToIndex);\n  });\n</script>\n\n<svelecte-list-viewport\n  bind:this={ref_viewport}\n  {style}\n>\n  <svelecte-list-content\n    bind:this={ref_contents}\n    style=\"padding-top: {top}px; height: {itemCount * itemSize}px;\"\n  >\n    {#each visibleItems as row (row.index)}\n      <svelecte-list-row>\n        {@render children?.(row.index)}\n      </svelecte-list-row>\n    {/each}\n  </svelecte-list-content>\n</svelecte-list-viewport>\n\n<style>\n  svelecte-list-viewport {\n    position: relative;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n    display: block;\n  }\n\n  svelecte-list-content,\n  svelecte-list-row {\n    display: block;\n  }\n\n  svelecte-list-row {\n    /* NOTE: 🤔 needed? */\n    overflow: hidden;\n  }\n</style>\n","<script module>\n  import defaults from './settings.js';\n\n  import { requestFactory, debounce } from './utils/fetch.js';\n  import { onCreate_helper, escapeHtml } from './utils/helpers.js';\n\n  defaults.requestFactory = requestFactory;\n\n  const stringFormatters = {\n    default: function(item) { return escapeHtml(item[this.label]); },\n    html: function(item) { return item[this.label]; }\n  };\n\n  const _noop = _node => ({ destroy: () => {}});\n\n  /**\n   * Provide ability to add additional renderers in raw html string format\n   *\n   * @param {string|Record<string, (item: object, selectionSection?: boolean, inputValue?: string) => string>} name\n   * @param {(item: object, selectionSection?: boolean, inputValue?: string) => string} rendererFn\n   */\n  export function addRenderer(name, rendererFn) {\n    if (name instanceof Object) {\n      for (let prop in name) {\n        stringFormatters[prop] = name[prop];\n      }\n    } else {\n      stringFormatters[name] = rendererFn\n    }\n  };\n\n  export const config = defaults;\n</script>\n\n<!-- svelte-ignore state_referenced_locally -->\n<script>\n  import { onMount, tick } from 'svelte';\n  import { flip } from 'svelte/animate';\n  import { pixelGetter, positionDropdown, scrollIntoView } from './utils/dropdown.js';\n  import { createConfig, ensureObjectArray, filterList, flatList, fieldInit, initSelection } from './utils/list.js';\n  import { highlightSearch, android } from './utils/helpers.js';\n  import { bindItem } from './utils/actions.js';\n  import VirtualList from './VirtualList.svelte';\n\n  /**\n   * @type {{\n   *  name?: string;\n   *  inputId?: string;\n   *  required?: boolean;\n   *  disabled?: boolean;\n   *  options?: Array<any> | object;\n   *  optionResolver?: (options: any, selectedKeys: Set) => object[];\n   *  valueField?: string | null;\n   *  labelField?: string | null;\n   *  groupLabelField?: string;\n   *  groupItemsField?: string;\n   *  disabledField?: string;\n   *  placeholder?: string;\n   *  searchable?: boolean;\n   *  clearable?: boolean;\n   *  renderer?: ( (item: object, selectionSection?: boolean, inputValue?: string) => string ) | string;\n   *  disableHighlight?: boolean;\n   *  highlightFirstItem?: boolean;\n   *  selectOnTab?: boolean | \"select-navigate\";\n   *  resetOnBlur?: boolean;\n   *  resetOnSelect?: boolean;\n   *  closeAfterSelect?: string | boolean;\n   *  deselectMode?: \"native\" | \"toggle\" | \"none\";\n   *  dndzone?: Function;\n   *  strictMode?: boolean;\n   *  multiple?: boolean;\n   *  max?: number;\n   *  collapseSelection?: \"blur\" | \"always\" | null;\n   *  keepSelectionInList?: boolean | \"auto\";\n   *  creatable?: boolean;\n   *  creatablePrefix?: string;\n   *  allowEditing?: boolean;\n   *  keepCreated?: boolean;\n   *  delimiter?: string;\n   *  createFilter?: (inputValue: string) => boolean;\n   *  createHandler?: (prop: { inputValue: string, valueField: string, labelField: string, prefix: string }) => (Promise<object> | object);\n   *  fetch?: string | null;\n   *  fetchProps?: object | Function;\n   *  fetchMode?: \"auto\" | \"init\";\n   *  fetchCallback?: Function;\n   *  fetchResetOnBlur?: boolean;\n   *  fetchDebounceTime?: number;\n   *  minQuery?: number;\n   *  lazyDropdown?: boolean;\n   *  virtualList?: boolean;\n   *  vlItemSize?: number;\n   *  searchProps?: import(\"./utils/list.js\").SearchProps | null;\n   *  class?: string | array | object;\n   *  i18n?: object;\n   *  value?: any[] | string | number | object | null;\n   *  readSelection?: object | object[] | null;\n   *  valueAsObject?: boolean;\n   *  parentValue?: string | number | null | undefined;\n   *  emitValues?: boolean;\n   *  onChange?: Function;\n   *  onFocus?: Function;\n   *  onBlur?: Function;\n   *  onCreateOption?: Function;\n   *  onCreateFail?: Function;\n   *  onEnterKey?: Function;\n   *  onFetch?: Function;\n   *  onFetchError?: Function;\n   *  onInvalidValue?: Function;\n   *  prepend?: import(\"svelte\").Snippet | undefined;\n   *  collapsedSelection?: import(\"svelte\").Snippet<[selectedOptions: object[], i18n: import(\"./settings.js\").I18nObject]>;\n   *  selection?: import(\"svelte\").Snippet<[selectedOptions: object[], bindItem: Function]>;\n   *  clearIcon?: import(\"svelte\").Snippet<[selectedOptions: object[], input_value: string]>;\n   *  toggleIcon?: import(\"svelte\").Snippet<[dropdownShow: boolean]>;\n   *  append?: import(\"svelte\").Snippet | undefined;\n   *  listHeader?: import(\"svelte\").Snippet | undefined;\n   *  option?: import(\"svelte\").Snippet<[option: object, inputValue: string]>;\n   *  createRow?: import(\"svelte\").Snippet<[isCreating: boolean, inputValue: string, i18n: import(\"./settings.js\").I18nObject]>;\n   *  positionResolver?: Function;\n   *  anchor_element?: string | null;\n   *  controlClass?: string | null;\n   *  dropdownClass?: string | null;\n   *  optionClass?: string | null;\n   * }}\n   */\n  let {\n    name = '',\n    inputId = '',\n    required = false,\n    disabled = false,\n    options = [],\n    optionResolver,\n    valueField = defaults.valueField,\n    labelField = defaults.labelField,\n    groupLabelField = defaults.groupLabelField,\n    groupItemsField = defaults.groupItemsField,\n    disabledField = defaults.disabledField,\n    placeholder = defaults.placeholder,\n    searchable = defaults.searchable,\n    clearable = defaults.clearable,\n    renderer,\n    disableHighlight = false,\n    highlightFirstItem = defaults.highlightFirstItem,\n    selectOnTab = defaults.selectOnTab,\n    resetOnBlur = defaults.resetOnBlur,\n    resetOnSelect = defaults.resetOnSelect,\n    closeAfterSelect = defaults.closeAfterSelect,\n    deselectMode = defaults.deselectMode,\n    dndzone = _noop,\n    strictMode = true,\n    multiple = defaults.multiple,\n    max = defaults.max,\n    collapseSelection = defaults.collapseSelection,\n    keepSelectionInList = defaults.keepSelectionInList,\n    creatable = defaults.creatable,\n    creatablePrefix = defaults.creatablePrefix,\n    allowEditing = defaults.allowEditing,\n    keepCreated = defaults.keepCreated,\n    delimiter = defaults.delimiter,\n    createFilter,\n    createHandler,\n    fetch = null,\n    fetchProps = defaults.fetchProps,\n    fetchMode = 'auto',\n    fetchCallback = defaults.fetchCallback,\n    fetchResetOnBlur = true,\n    fetchDebounceTime = defaults.fetchDebounceTime,\n    minQuery = defaults.minQuery,\n    lazyDropdown = defaults.lazyDropdown,\n    virtualList = defaults.virtualList,\n    vlItemSize = defaults.vlItemSize,\n    searchProps = null,\n    class: className = 'svelecte-control',\n    i18n = null,\n    value = $bindable(),\n    readSelection = $bindable(),  // never used, updated from component to the parent\n    emitValues = false,\n    valueAsObject = defaults.valueAsObject,\n    parentValue = undefined,\n    onChange = _readSelection => {},\n    onFocus = _htmlInput => {},\n    onBlur = _htmlInput => {},\n    onCreateOption = _newObj => {},\n    onCreateFail = _fail => {},\n    onEnterKey = _event => {},\n    onFetch = _data => {},\n    onFetchError = _err => {},\n    onInvalidValue = _val => {},\n    prepend = undefined,\n    collapsedSelection = snippet_collapsedSelection,\n    selection = snippet_selection,\n    clearIcon = snippet_clearIcon,\n    toggleIcon = snippet_toggleIcon,\n    append = undefined,\n    listHeader = undefined,\n    option = snippet_option,\n    createRow = snippet_createRow,\n    positionResolver = _noop,\n    anchor_element = undefined,\n    controlClass = undefined,\n    dropdownClass = undefined,\n    optionClass = undefined\n  } = $props();\n\n  export function focus() {\n    ref_input.focus();\n  }\n  // required for custom element\n  export function setSelection(selection, triggerChangeEvent) {\n    watch_value_change(selection);\n    triggerChangeEvent && emitChangeEvent();\n  }\n  // required for custom element\n  export function getSelection(onlyValues) {\n    return compute_selection(!onlyValues);\n  }\n  /**\n   * Add ability to re-initialize fetch even when component is in query mode\n   * @param {string|number|array} value\n   */\n  export function refetchWith(value) {\n    if (!fetch) return;\n    fetch_runner({\n      init: true,\n      initValue: value,\n      storedValue: fetchResetOnBlur\n    });\n    fetchResetOnBlur = false; // force this to preven 'clearSelection' clear fetched options\n  }\n\n  const DOM_ID = name ? `sv-${name}-select-${`${Math.random()}`.substring(2, 6)}` : null;\n\n  if (required && !name) console.warn(`[Svelecte]: 'required' prop has no effect when 'name' prop is NOT set`)\n\n  /** ************************************ preparation */\n  /* possibility to provide initial (selected) values in `fetch` mode (only !strictMode) **/\n  if (fetch && value && valueAsObject && !strictMode && (!options || (options && options.length === 0))) {\n    options = Array.isArray(value) ? value : [value];\n  }\n  if (!inputId) inputId = DOM_ID ? DOM_ID.replace('-select-', '-input-') : `svelecte-input-${`${Math.random()}`.substring(2, 12)}`;\n  /** ************************************ END preparation */\n\n  let is_mounted = $state(false);\n  // state-related\n  let options_stopgap = options;\n  let prev_value;\n  let prev_parent_value = undefined;\n  let init_only_options = optionResolver\n    ? optionResolver(options, new Set())\n    : ensureObjectArray(options, valueField, labelField)\n  let currentValueField = $state(valueField || fieldInit('value', init_only_options, groupItemsField));\n  let currentLabelField = $state(labelField || fieldInit('label', init_only_options, groupItemsField));\n  const itemConfig = createConfig(currentValueField, currentLabelField, groupLabelField, groupItemsField);\n\n  let prev_options = $state(flatList(init_only_options, itemConfig));\n  let options_flat_override = $state(false);\n  let options_flat = $derived(options_flat_override ? [] : prev_options);\n  // @ts-ignore\n  init_only_options = undefined; // cleanup\n\n\n  /** @reactive @type {object[]} */\n  let selectedOptions = $state(\n    value\n      ? initSelection(options_flat, value, valueAsObject, currentValueField)\n      : []\n  );\n  /** @type {Set<string|number>} */\n  const selectedKeys = selectedOptions.reduce((/** @type {Set} */ set,/** @type {object} */ opt) => {\n    set.add(opt[currentValueField]);\n    return set;\n  }, new Set());\n  let alreadyCreated = selectedOptions.filter(opt => opt.$created);\n  // logic-related\n  let is_focused = $state(false);\n  let focus_by_mouse = $state(false);\n  let is_tainted = $state(false); // true after first focus\n  let is_dropdown_opened = $state(false);\n  let dropdown_show = $state(false);\n  let dropdown_index = $state(highlightFirstItem ? 0 : -1);\n  // dropdown-related\n  let render_dropdown = $state(!lazyDropdown);\n  let dropdown_scroller = null;\n  let meta_key = $state();\n  let hasEmptyList = false;\n  // input-related\n  /** @type {string} */\n  let input_value = $state('');\n  let disable_key_event_bubble = false;\n  // utils\n  /** @type {import('./settings.js').I18nObject} */\n  let i18n_actual = $derived(Object.assign({}, config.i18n, i18n || {}));\n  let fetch_initOnly = $derived(fetchMode === 'init' || (fetch && fetch.includes('[query]') === false));\n  let fetch_initValue = (fetch && (value || (multiple && value && value.length)))\n    ? (valueAsObject\n      ? (strictMode === false\n        ? $state.snapshot(value)\n        : null\n      )\n      : JSON.parse(JSON.stringify(value))\n    )\n    : null;\n  let isIOS = null;\n  let doCollapse = $state(collapseSelection !== null);\n  let isFetchingData = $state(false);\n  let isCreating = $state(false);\n  let flipDurationMs = $state(100);\n  let is_dragging = false;\n  let is_fetch_dependent = false;\n  // refs\n  let /** @type {HTMLInputElement}  */  ref_input;\n  // svelte-ignore non_reactive_update\n  let /** @type {HTMLSelectElement} */  ref_select_element;\n  // svelte-ignore non_reactive_update\n  let /** @type {HTMLDivElement}    */  ref_container;\n  // @ts-ignore\n  let /** @type {HTMLDivElement}    */  ref_container_scroll = $state(null);\n  // svelte-ignore non_reactive_update\n  let /** svelte-tiny-virtual-list  */  ref_virtuallist;\n\n  // #region [reactivity]\n  $effect(() => {\n    watch_item_props(valueField, labelField)\n  });\n  let maxReached = $derived.by(() => {\n    return max !== 0 && selectedOptions.length == max;     // == is intentional, if string is provided\n  });\n  $effect(() => {\n    watch_options(options);\n  });\n  $effect(() => {\n    value !== undefined && watch_value_change(value);\n  });\n  let options_filtered_override = null;\n  let options_filtered = $derived.by(() => {\n    selectedOptions.length;\n    options_flat.length;\n\n    if (!input_value && fetch && !fetch_initOnly && fetchResetOnBlur) return [];\n    if (options_filtered_override) return options_filtered_override;  // related to fetch\n\n    return maxReached\n      ? []\n      : filterList(\n        options_flat,\n        input_value,\n        resolveExcludedValue(input_value),\n        itemConfig,\n        searchProps || {}\n      )\n  });\n  $effect(() => {\n    let list_length = options_filtered.length;\n    if (creatable && input_value) list_length++;  // needed for NOT reseting dropdown_index with create_row displayed\n\n    list_length <= dropdown_index && setDropdownIndex(0, { asc: !creatable, desc: creatable });\n    watch_listMessage(maxReached, options_filtered);\n  });\n  // only initial setter\n  if (highlightFirstItem) setDropdownIndex(0, { asc: true });\n\n  let createFilterFn = $derived(createFilter || (inputVal => alreadyCreated.includes(inputVal)));\n  let createHandlerFn = $derived(createHandler || (({ inputValue, labelField, valueField, prefix }) => ({\n    [valueField]: inputValue,\n    [labelField]: `${prefix}${inputValue}`\n  })));\n\n  /**\n   * @type {function}\n   */\n   let itemRenderer = $derived.by(() => typeof renderer === 'function'\n    ? renderer\n    : ((stringFormatters[renderer]\n      ? stringFormatters[renderer]\n      : stringFormatters['default']\n    ).bind({ label: currentLabelField}))\n  );\n\n  /** ************************************ input-specific */\n\n  /** @type {'text'|'none'}*/\n  let input_mode = $derived(searchable ? 'text' : 'none');\n  /** @type {string} */\n  let placeholder_active = $derived(selectedOptions.length ? '' : placeholder);\n  /** @type {'enter'|null} */\n  let enter_hint = $derived(selectedOptions.length > 0 && multiple === false ? null : 'enter');\n  // aria related\n  let aria_selection = $derived(i18n_actual.aria_selected(selectedOptions.map(o => o[currentLabelField])));\n  let aria_context = $derived.by(() => {\n    if (selectedOptions.length && selectedOptions.length === max) return i18n_actual.max(max);\n\n    const idx = Math.min(dropdown_index, options_filtered.length-1);  // can happen, because derived run before effects\n    if (fetch) {\n      return isFetchingData\n        ? i18n_actual.fetchInit\n        : (options_filtered.length\n          ? (dropdown_index !== -1\n            ? i18n_actual.aria_inputFocused()\n            : (options_filtered[dropdown_index]\n              ? i18n_actual.aria_listActive(options_filtered[idx], currentLabelField, options_filtered.filter(o => !o.$isGroupHeader).length)\n              : 'N/A.' + dropdown_index\n            )\n          )\n          : (minQuery > 1\n            ? i18n_actual.fetchQuery(minQuery, input_value.length)\n            : i18n_actual.fetchBefore\n          )\n        )\n      ;\n    }\n    return options_filtered.length\n      ? (is_dropdown_opened && dropdown_index !== -1 && !isNaN(dropdown_index)\n        ? i18n_actual.aria_listActive(options_filtered[idx], currentLabelField, options_filtered.filter(o => !o.$isGroupHeader).length)\n        : i18n_actual.aria_inputFocused()\n      )\n    : (input_value.length\n      ? i18n_actual.nomatch\n      : i18n_actual.empty\n    );\n  });\n\n  // #endregion\n\n  // #region [watchers]\n\n  /**\n   * Set current*Field reiliably when props change\n   *\n   * @param {string?} valueProp\n   * @param {string?} labelProp\n   */\n  function watch_item_props(valueProp, labelProp) {\n    if (!is_mounted) return;\n\n    if (valueProp && currentValueField !== valueProp) {\n      itemConfig.valueField = currentValueField = valueProp;\n      // check note in watch_options()\n      selectedKeys.size > 0 && clearSelection();\n    }\n    if (labelProp) {\n      itemConfig.labelField = currentLabelField = labelProp;\n    }\n  }\n\n\n  /**\n   * @param {array} opts\n   */\n  function watch_options(opts) {\n    if (options_stopgap === opts) return;\n    // make sure, it's an array\n    opts = flatList(  // although valid data is passed, `flatList` must be run, to update optionProps\n      ensureObjectArray(opts, currentValueField, currentLabelField), itemConfig\n    );\n\n    // do these automatic re-adjustments only when props are not specified\n    if (!valueField) {\n      const ivalue = fieldInit('value', opts || null, groupItemsField);\n      if (!valueField && currentValueField !== ivalue) {\n        itemConfig.valueField = currentValueField = ivalue;\n        /**\n         * NOTE: selection is RESET when non-matching is detected (selection would be messed up anyway)\n         */\n        selectedKeys.size > 0 && clearSelection();\n      }\n    }\n    if (!labelField) {\n      const ilabel = fieldInit('label', opts || null, groupItemsField);\n      if (!labelField && currentLabelField !== ilabel) {\n        itemConfig.labelField = ilabel;\n        currentLabelField = ilabel;\n      };\n    }\n    options_stopgap = opts;\n    // continue to update options_flat\n    prev_options = optionResolver\n      ? optionResolver(opts, selectedKeys)\n      : opts;\n  }\n\n  function equals(prevValue, passedVal) {\n    if (multiple) {\n      if (prevValue && passedVal?.length === prevValue.length && prevValue.length > 0) {\n        return valueAsObject\n          ? prevValue.every((o, i) => o[currentValueField] === passedVal[i][currentValueField])\n          : prevValue.every((o, i) => o === passedVal[i]);\n      }\n    } else {\n      if (passedVal && prevValue) {\n        return valueAsObject\n          ? passedVal[currentValueField] === prevValue[currentValueField]\n          : passedVal === prevValue;\n      }\n    }\n    return false;\n  }\n\n\n  /**\n   * @typedef {object} ValueWatcherOptions\n   * @property {boolean} [skipEqualityCheck]\n   *\n   * @param {any} passedVal\n   * @param {ValueWatcherOptions} [opts]\n   */\n  function watch_value_change(passedVal, opts) {\n    if (equals(prev_value, passedVal) && !opts?.skipEqualityCheck) return;\n    // NOTE: I am commenting all `optionResolver` if-s\n    // if (optionResolver) return;\n\n    const ifArrayThenNonEmpty = (Array.isArray(passedVal) && passedVal.length) || multiple === false; // return true for allowing '' or 0\n    if (passedVal !== null && ifArrayThenNonEmpty) {\n      if ((multiple && !Array.isArray(passedVal)) || (!multiple && Array.isArray(passedVal))) {\n        console.warn(`[Svelecte]: Passed 'value' property should ${ multiple ? 'be' : 'NOT be'} an array`);\n      }\n      // wait for fetch to be resolved\n      if (fetch_initValue && (Array.isArray(fetch_initValue) ? fetch_initValue.length : true)) return;\n\n      const arrValue = Array.isArray(passedVal) ? passedVal : [passedVal];\n      const newSelectedKeys = [];\n      const _selection = arrValue.reduce((res, val) => {\n        // skip options scan when in valueAsObject non-strict mode\n        if (valueAsObject && (!strictMode || (creatable && val.$created))) {\n          res.push(Object.fromEntries(Object.entries(val)));\n          return res;\n        }\n        let opt = options_flat.find(item => valueAsObject\n          ? item[currentValueField] == val[currentValueField]\n          : item[currentValueField] == val\n        );\n        if (!opt && !strictMode) {\n          // only sync (or default) handler is allowed for code simplicty\n          opt =  createHandler\n            ? createHandlerFn({\n              inputValue: val,\n              valueField: currentValueField,\n              labelField: currentLabelField,\n              prefix: creatablePrefix\n            })\n            : {\n              [currentValueField]: val,\n              [currentLabelField]: val\n            };\n        }\n        if (opt) {\n          if (!selectedKeys.has(opt[currentValueField])) {\n            res.push(opt);\n          }\n          newSelectedKeys.push(opt[currentValueField]);\n        }\n        return res;\n      }, []);\n      // de-select those, that cannot be selected anymore\n      // if (!optionResolver) {\n        selectedOptions.forEach(opt => !newSelectedKeys.includes(opt[currentValueField]) && deselectOption(opt));\n      // }\n\n      // let success = arrValue.filter(o => o.$created !== true).length !== _selection.filter(o => o.$created !== false);\n      let success = _selection.every(selectOption) && (multiple\n        ? selectedKeys.size === arrValue.length\n        : selectedKeys.size === 1\n      );\n\n      // this is run only when invalid 'value' is provided, like out of option array\n      if (!success) {\n        console.warn('[Svelecte]: provided \"value\" property is invalid', passedVal);\n        if (valueAsObject && strictMode && fetch) {\n          console.warn(`[Svelecte]: with 'fetch' and 'valueAsObject' set make sure 'strictMode' is set to false to be to set initial value`);\n        }\n        clearSelection();\n        prev_value = multiple ? [] : null;\n        value = prev_value;\n        readSelection = prev_value;\n        onInvalidValue(passedVal);\n        return;\n      }\n    } else {\n      clearSelection();\n    }\n    prev_value = $state.snapshot(passedVal);\n    if (multiple && !Array.isArray(passedVal)) {\n      prev_value = [];\n      value = prev_value;\n    }\n    readSelection = compute_selection(true);\n  }\n\n  /**\n   * Compute selection value\n   * @returns {array|object|string|number|null}\n   */\n  function compute_selection(asObjects) {\n    const asValues = asObjects !== true;\n    // if (is_dragging) return;\n    const selection_formatted = selectedOptions\n      .map(opt => {\n        if (asValues) return opt[currentValueField];\n        const obj = {};\n        for (let [prop, val] of Object.entries(opt)) {\n          if (prop[0] !== '$') obj[prop] = val;\n        }\n        return obj;\n      });\n\n    return multiple\n      ? selection_formatted\n      : (selection_formatted.length\n        ? selection_formatted.shift()\n        : null\n      );\n  }\n\n  $effect(() => {   // previously $: watch_parentValue()\n    // check for undefined is required because parent have empty value as well and I want to avoid 2 props just for this\n    if ((parentValue !== undefined && prev_parent_value !== parentValue)\n      || (parentValue === undefined && prev_parent_value !== parentValue)\n    ) {\n      const disabled_to_set = parentValue === undefined\n        ? false\n        : (!parentValue\n          ? true\n          : false\n        )\n      clearSelection();\n      value = multiple ? [] : null;\n      disabled = disabled_to_set;\n    }\n    prev_parent_value = parentValue;\n    is_fetch_dependent = parentValue !== undefined;\n  });\n\n  function updateDropdownState(val) {\n    if (val && !focus_by_mouse) focus_by_mouse = true;\n    const alreadyRendered = render_dropdown;\n    if (!render_dropdown && val) render_dropdown = true;\n\n    is_dropdown_opened = val;\n    tick()\n      .then(() => {\n        /**\n         * conditional tick() required to properly delay calling positionDropdown when lazy & virtual list\n         * initializing for the first time, because of its internal use of tick()\n         */\n        if (!alreadyRendered && virtualList) return tick();\n      })\n      .then(() => {\n        positionResolver === _noop && positionDropdown(val, ref_container_scroll, true);\n        if (val) {\n          // ensure proper dropdown index\n          // do not respect highlightFirstItem here\n          if (highlightFirstItem && (selectedOptions.length === 0 || multiple)) setDropdownIndex(0, { asc: true});\n          if (!multiple && selectedOptions.length) {\n            // ensure item is set\n            dropdown_index = options_flat.findIndex(opt => opt[currentValueField] === selectedOptions[0][currentValueField]);\n          }\n          scrollIntoView({ container: ref_container, scrollContainer: ref_container_scroll, virtualList, center: false }, dropdown_index);\n        }\n        tick().then(() => dropdown_show = val);\n      });\n    if (!dropdown_scroller) dropdown_scroller = () => positionResolver === _noop && positionDropdown(val, ref_container_scroll, true);\n    // bind/unbind scroll listener\n    document[val ? 'addEventListener' : 'removeEventListener']('scroll', dropdown_scroller, { passive: true });\n  }\n\n  /**\n   * @param {boolean} maxReached\n   * @param {array} options_filtered\n   */\n  function watch_listMessage(maxReached, options_filtered) {\n    // fetch-related states are handled manually\n    if (fetch && !fetch_initOnly) return;\n\n    if (maxReached) {\n      listMessage = i18n_actual.max(max);\n      return;\n    }\n\n    listMessage = options_filtered.length !== options_flat.length && selectedOptions.length !== options_flat.length\n      ? (creatable\n        ? i18n_actual.emptyCreatable\n        : i18n_actual.nomatch\n      )\n      : (creatable\n        ? i18n_actual.emptyCreatable\n        : i18n_actual.empty\n      );\n  }\n\n  // #endregion\n\n  // #region [event-emitters]\n\n  /**\n   * Dispatch change event on add options/remove selected items\n   */\n   function emitChangeEvent() {\n    const objectSelection = compute_selection(true);\n    const valueSelection = compute_selection(false);\n    prev_value = valueAsObject ? objectSelection : valueSelection;\n    value = prev_value;\n    readSelection = objectSelection;\n    tick().then(() => {\n      onChange(emitValues ? valueSelection : objectSelection);\n      if (ref_select_element) {\n        ref_select_element.dispatchEvent(new Event('change'));  // typically you expect change event to be fired\n      }\n    });\n  }\n\n  // #endregion\n\n  // #region [interactivity]\n\n  /**\n   * Handle user action on select\n   */\n   function onSelect(event, opt) {\n    opt = opt || event.detail;\n    if (disabled || opt[disabledField] || opt.$isGroupHeader) return;\n    if (!opt || (multiple && maxReached)) return false;\n    if (selectedKeys.has(opt[currentValueField])) {\n      if (!multiple && deselectMode !== 'toggle') return;\n      return onDeselect(opt);\n    }\n\n    // creatable branch\n    if (typeof opt === 'string') {\n      if (!creatable) return;\n      opt = onCreate_helper(opt);\n      if (alreadyCreated.includes(opt) || selectedKeys.has(opt)) return;\n\n      isCreating = true;\n      Promise.resolve()\n        .then(() => createHandlerFn({\n          inputValue: opt,\n          valueField: currentValueField,\n          labelField: currentLabelField,\n          prefix: creatablePrefix\n        }))\n        .then(newObj => {\n          isCreating = false;\n          !fetch && alreadyCreated.push(opt);\n          newObj.$created = true;  // internal setter\n          if (keepCreated) {\n            prev_options.push(newObj);\n            newObj = prev_options[prev_options.length - 1]; // get proxy-wrapped version to make it reactive in dropdown\n          }\n          onCreateOption(newObj);\n          selectOption(newObj);\n          onSelectTeardown();\n          emitChangeEvent();\n        })\n        .catch(e => {\n          isCreating = false;\n          onCreateFail({\n            input: opt,\n            error: e\n          });\n        });\n\n      return;\n    }\n\n    selectOption(opt);\n    onSelectTeardown();\n    emitChangeEvent();\n  }\n\n  function onSelectTeardown() {\n    if ((multiple && resetOnSelect) || !multiple) input_value = '';\n    if (closeAfterSelect === true || (closeAfterSelect === 'auto' && !multiple)) {\n      updateDropdownState(false);\n    }\n    if (max && selectedOptions.length == max) {\n      dropdown_index = 0;\n    }\n  }\n\n  /**\n   * Add given option to selection pool\n   * Check if not already selected or max item selection reached\n   *\n   * @returns bool\n   */\n  function selectOption(opt) {\n    opt.$selected = true;\n    if (multiple) {\n      selectedOptions.push(opt);\n      selectedKeys.add(opt[currentValueField]);\n    } else {\n      const previousSelected = selectedOptions.shift();\n      if (previousSelected) previousSelected.$selected = false;\n      selectedOptions = [opt];\n      selectedKeys.clear();\n      selectedKeys.add(opt[currentValueField]);\n      tick().then(() => {\n        const idx = options_flat.indexOf(opt);\n        dropdown_index = idx < 0\n          ? 0\n          : idx;\n      });\n    }\n\n    if (optionResolver) {\n      tick().then(() => {\n        prev_options = optionResolver(options, selectedKeys)\n      });\n    }\n\n    // options_flat = options_flat;\n    return true;\n  }\n\n  /**\n   *\n   * @param {object} [opt]\n   * @param {boolean} [backspacePressed]\n   */\n  function onDeselect(opt = null, backspacePressed) {\n    if (disabled) return;\n    if (opt) {\n      deselectOption(opt, backspacePressed);\n      /**\n       * Condition for keepSelectionInList is important, othwise dropdown jump back to start.\n       * It's required only for multiselect with default 'closeAfterSelect' setting.\n       */\n      keepSelectionInList !== true && tick().then(() => scrollIntoView({ scrollContainer: ref_container_scroll, container: ref_container, virtualList, center: false}, dropdown_index));\n    } else {  // apply for 'x' when clearable:true || ctrl+backspace || ctrl+delete\n      clearSelection();\n    }\n    emitChangeEvent();\n  }\n\n  /**\n   * Remove option/all options from selection pool\n   *\n   * @param {object} opt,\n   * @param {boolean} [backspacePressed]\n   */\n   function deselectOption(opt, backspacePressed) {\n    if (opt.$created) {\n      if (!keepCreated) {\n        alreadyCreated.splice(alreadyCreated.findIndex(o => o === opt[currentValueField]), 1);\n        const idx = prev_options.findIndex(o => o[currentValueField] === opt[currentValueField]);\n        idx !== -1 && prev_options.splice(idx, 1);\n        prev_options = prev_options;\n      }\n      if (backspacePressed && allowEditing) {\n        input_value = opt[currentLabelField].replace(creatablePrefix, '');\n      }\n    }\n    opt.$selected = false;\n    const id = opt[currentValueField];\n    selectedKeys.delete(id);\n    selectedOptions.splice(selectedOptions.findIndex(o => o[currentValueField] == id), 1);\n\n    if (optionResolver) {\n      prev_options = optionResolver(options, selectedKeys);\n      return;\n    }\n\n    if (fetch && !fetch_initOnly && fetchResetOnBlur) options_flat_override = true; // results in `options_flat = []`\n  }\n\n  function clearSelection() {\n    if (selectedKeys.size === 0 || (!multiple && deselectMode==='none')) return;\n    selectedKeys.clear();\n\n    selectedOptions = selectedOptions.reduce((_, opt) => {\n      opt.$selected = false;\n      return [];\n    }, []);\n    if (!keepCreated) alreadyCreated = [];  // ref #198\n    if (input_value) input_value = '';\n\n    if (optionResolver) {\n      prev_options = optionResolver(options, selectedKeys);\n      return;\n    }\n\n    if (fetch && !fetch_initOnly && fetchResetOnBlur) options_flat_override = true; // results in `options_flat = []`\n  }\n\n  function on_create(event) {\n    event.preventDefault();\n    if (alreadyCreated.includes(input_value)) return;\n\n    onSelect(null, input_value);\n  }\n\n  /**\n   * @param {KeyboardEvent} event\n   */\n  function processKeyDown(event) {\n    if (creatable && delimiter.indexOf(event.key) > -1) {\n      input_value.length > 0 && onSelect(null, input_value); // prevent creating item with delimiter itself\n      event.preventDefault();\n      return;\n    }\n    const Tab = selectOnTab && is_dropdown_opened && !event.shiftKey ? 'Tab' : 'No-tab';\n    let ctrlKey = isIOS ? event.metaKey : event.ctrlKey;\n    let isPageEvent = ['PageUp', 'PageDown'].includes(event.key);\n    let backspacePressed = false;\n    let supressIndexMove = false;\n    switch (event.key) {\n      case 'End':\n        if (input_value.length !== 0) return;\n        setDropdownIndex(options_filtered.length, { desc: true });\n      case 'PageDown':\n        if (isPageEvent) {\n          const [wrap, item] = get_dropdown_dimensions();\n          dropdown_index = Math.min(\n            // @ts-ignore\n            Math.ceil((item * dropdown_index + wrap) / item), // can be more than max, therefore Math.min\n            options_filtered.length + (creatable && input_value ? 1 : 0)\n          );\n        }\n      case 'ArrowUp':\n        event.preventDefault();\n        if (!is_dropdown_opened) {\n          updateDropdownState(true);\n          return;\n        }\n        setDropdownIndex(dropdown_index - 1, { desc: true });\n        tick().then(() => scrollIntoView({ scrollContainer: ref_container_scroll, container: ref_container, virtualList, center: false}, dropdown_index));\n        break;\n      case 'Home':\n        supressIndexMove = true;\n        if (input_value.length !== 0\n          || (input_value.length === 0 && options_filtered.length === 0)  // ref #26\n        ) return;\n        setDropdownIndex(0, { asc: true });\n      case 'PageUp':\n        if (isPageEvent) {\n          const [wrap, item] = get_dropdown_dimensions();\n          // @ts-ignore\n          dropdown_index = Math.floor((item * dropdown_index - wrap) / item);\n        }\n      case 'ArrowDown':\n        event.preventDefault();\n        if (!is_dropdown_opened) {\n          updateDropdownState(true);\n          return;\n        }\n        // not to skip first item when `highlightFirstItem=false`\n        const dix = dropdown_index === null ? -1 : dropdown_index;\n        !supressIndexMove && setDropdownIndex(dix + 1, { asc: true });\n        tick().then(() => scrollIntoView({ scrollContainer: ref_container_scroll, container: ref_container, virtualList, center: false}, dropdown_index));\n        break;\n      case 'Escape':\n        if (is_dropdown_opened) { // prevent ESC bubble in this case (interfering with modal closing etc. (bootstrap))\n          event.preventDefault();\n          event.stopPropagation();\n        }\n        if (!input_value) {\n          updateDropdownState(false);\n        }\n        input_value = '';\n        break;\n      case Tab:\n      case 'Enter':\n        if (!is_dropdown_opened) {\n          event.key !== Tab && onEnterKey(event); // ref #125\n          return;\n        }\n        let activeDropdownItem = !ctrlKey ? options_filtered[dropdown_index] : null;\n        if (creatable && !activeDropdownItem && input_value) {\n          const preventCreation = createFilterFn(onCreate_helper(input_value));\n          activeDropdownItem = !activeDropdownItem || ctrlKey\n            ? onCreate_helper(input_value)\n            : activeDropdownItem\n          ctrlKey = preventCreation;  // previously ctrlKey was set to `false` which resulted in item being not respecting createFilter result\n        }\n        !ctrlKey && activeDropdownItem && onSelect(null, activeDropdownItem);\n        if (options_filtered.length <= dropdown_index) {\n          setDropdownIndex(options_filtered.length - 1);\n        }\n        if (!activeDropdownItem && selectedOptions.length) {\n          updateDropdownState(false);\n          event.key !== Tab && onEnterKey(event); // ref #125\n          return;\n        }\n        (event.key !== Tab || (event.key === Tab && selectOnTab !== 'select-navigate')) && event.preventDefault(); // prevent form submit\n        break;\n      case ' ':\n        if (!fetch && !is_dropdown_opened) {\n          updateDropdownState(true);\n          event.preventDefault();\n        }\n        break;\n      case 'Backspace':\n        if (collapseSelection === 'always') return;\n        backspacePressed = true;\n      case 'Delete':\n        if (input_value === '' && selectedOptions.length) {\n          if (!multiple && deselectMode === 'none') return;\n          ctrlKey ? onDeselect() : onDeselect(selectedOptions[selectedOptions.length - 1], backspacePressed);\n          event.preventDefault();\n        }\n      default:\n        if (!ctrlKey && !['Tab', 'Shift'].includes(event.key) && !is_dropdown_opened && !isFetchingData) {\n          updateDropdownState(true);\n        }\n    }\n  }\n\n  /**\n   * Prevent focus change\n   * @param {MouseEvent} event\n   */\n  function on_mouse_down(event) {\n    event.preventDefault();\n  }\n\n  /**\n   * Single click handler. Unified for dropdown items, for selected items and 'x' clear button\n   *\n   * @param {MouseEvent & { currentTarget: EventTarget & HTMLDivElement} & { target: HTMLElement }} event\n   */\n  function on_click(event) {\n    if (disabled) return;\n\n    const target = /** @type {HTMLElement & import('./utils/actions.js').ExtButton} */ (event.target.closest('[data-action]'));\n\n    if (!focus_by_mouse) focus_by_mouse = true;\n    // allow escaping click handler\n    if (target?.dataset.action === 'default') return;\n\n    event.preventDefault();\n    const dropdown_item = /** @type {HTMLElement & {dataset: { pos: string }}} */ (event.target.closest('[data-pos]'));\n\n    // handle click on selection row (general focus & toggle dropdown event)\n    if (!target && !dropdown_item) {\n      return focusControl(event.target);\n    }\n    const action = target?.dataset.action || 'select';\n\n    // dropdown items has no data-action set\n    switch(action) {\n      case 'deselect':\n        let bound_item = target.bound_item;\n        // otherwise try to get item id from data-id prop\n        if (!bound_item) {\n          const dataId = target.dataset.id;\n          bound_item = selectedOptions.filter(o => o[currentValueField] == dataId).shift();\n        }\n        onDeselect(bound_item);\n        bound_item && !is_focused && ref_input.focus();\n        break;\n      case 'select':\n        const opt_position = parseInt(dropdown_item.dataset.pos);\n        onSelect(null, options_filtered[opt_position]);\n        break;\n      case 'toggle':\n        updateDropdownState(!is_dropdown_opened);\n        break;\n    }\n  }\n\n  /**\n   * @param {KeyboardEvent} e\n   */\n   function on_key_down(e) {\n    if (android() && !enter_hint && e.key === 'Enter') return true;\n\n    disable_key_event_bubble = ['Enter', 'Escape'].includes(e.key) && is_dropdown_opened;\n    processKeyDown(e);\n  }\n\n  /**\n   * @param {KeyboardEvent} e\n   */\n  function on_key_up(e) {\n    if (disable_key_event_bubble) {\n      e.stopImmediatePropagation();\n      e.preventDefault();\n    }\n    disable_key_event_bubble = false;\n  }\n\n  /**\n   * Required for mobile single select to work properly\n   */\n  function on_input() {\n    if (selectedOptions.length === 1 && !multiple) {\n      // input_value = '';\n    }\n  }\n\n  function on_focus() {\n    is_focused = true;\n    updateDropdownState(focus_by_mouse);\n    if (!is_tainted) is_tainted = true;\n    collapseSelection === 'blur' && !is_dragging && setTimeout(() => {\n      doCollapse = false;\n    }, 100);\n    onFocus(ref_input);\n  }\n\n  function on_blur() {\n    is_focused = false;\n    updateDropdownState(false);\n    focus_by_mouse = false;\n    if (resetOnBlur) {\n      input_value = '';\n    } else {\n      fetch_controller && !fetch_initOnly && fetch_controller.abort('blur');\n    }\n    collapseSelection === 'blur' && !is_dragging && setTimeout(() => {\n      doCollapse = true;\n    }, 100);\n    onBlur(ref_input);\n  }\n\n  /**\n   * Enable create items by pasting\n   */\n   function on_paste(event) {\n    if (creatable) {\n      event.preventDefault();\n      const rx = new RegExp('([^' + delimiter + '\\\\n]+)', 'g');\n      const pasted = event.clipboardData\n        .getData('text/plain')\n          .replace(/\\//g, '\\/')\n          .replace(/\\t/g, ' ');\n      const matches = pasted.match(rx);\n      if (matches.length === 1 && pasted.indexOf(',') === -1) {\n        input_value = matches.pop().trim();\n      }\n      matches.forEach(opt  => onSelect(null, opt.trim()));\n    }\n    // do nothing otherwise\n  }\n\n  function on_dnd_event(e) {\n    is_dragging = e.type === 'consider';\n    selectedOptions = e.detail.items;\n    if (!is_dragging) {\n      emitChangeEvent();\n      if (collapseSelection === 'blur') setTimeout(() => {\n        doCollapse = true;\n      }, 200);\n    }\n  }\n\n  // #endregion\n\n  // #region [fetch]\n\n  /** @type {AbortController?} */\n  let fetch_controller;\n\n  /** @type {function|null} */\n  let debouncedFetch;\n\n  $effect(() => {\n    trigger_fetch(input_value);\n  });\n  $effect(() => {\n    watch_fetch_init(fetch, parentValue)\n  });\n\n  let listMessage = $state(fetch\n    ? (fetch_initOnly\n      ? i18n_actual.fetchInit\n      : (minQuery > 1\n        ? i18n_actual.fetchQuery(minQuery, 0)\n        : i18n_actual.fetchBefore\n      )\n    )\n    : (creatable\n      ? i18n_actual.emptyCreatable\n      : i18n_actual.empty\n    )\n  );\n\n  /**\n   *\n   * @param {string?} fetch\n   * @param {string|number|null|undefined} _parentValue\n   */\n  function watch_fetch_init(fetch, _parentValue) {\n    if (!fetch) {\n      debouncedFetch = null;\n      return;\n    }\n\n    if (fetch_initOnly || fetch_initValue) {\n      isFetchingData = true;\n      fetch_runner({init: true}); // skip debounce on init\n    }\n\n    debouncedFetch = debounce(fetch_runner, fetchDebounceTime);\n  }\n\n  /**\n   * User only for QUERY mode\n   *\n   * @param {string} inputValue\n   */\n  function trigger_fetch(inputValue) {\n    if (fetch_initOnly || maxReached) {\n      listMessage = maxReached\n        ? i18n_actual.max(max)\n        : i18n_actual.fetchInit;\n      return;\n    }\n    if (debouncedFetch) {\n      fetch_controller?.abort();\n      isFetchingData = true;\n      if (input_value.length < minQuery) {\n        isFetchingData = false;\n      }\n      if (!optionResolver && fetchResetOnBlur) options_filtered_override = [];\n      dropdown_show = inputValue.length >= minQuery\n        ? creatable\n        : true;\n      listMessage = maxReached\n        ? i18n_actual.max(max)\n        : (minQuery <= 1\n          ? i18n_actual.fetchBefore\n          : i18n_actual.fetchQuery(minQuery, inputValue.length)\n        );\n      debouncedFetch();\n    }\n  }\n  /**\n   * @typedef {{\n   *  init?: boolean,\n   *  initValue?: any,\n   *  storedValue?: boolean\n   * }} FetchOptions\n   *\n   * @param {FetchOptions} opts\n   */\n  function fetch_runner(opts = {}) {\n    fetch_controller?.abort();\n    if ((opts.init !== true && !input_value.length) || (is_fetch_dependent && !parentValue)) {\n      isFetchingData = false;\n      if (fetchResetOnBlur) {\n        prev_options = optionResolver ? optionResolver(options, selectedKeys) : [];\n      }\n      return;\n    }\n\n    if (input_value && input_value.length < minQuery) {\n      isFetchingData = false;\n      return;\n    }\n\n    // update fetchInitValue when fetch is changed, but we are in 'init' mode, ref #113\n    if (fetch_initOnly && prev_value && (!multiple || prev_value?.length > 0)) fetch_initValue = prev_value;\n\n    const initial = $state.snapshot(fetch_initValue || opts.initValue);\n    let initialFetchValue;\n    if (initial) {\n      initialFetchValue = valueAsObject\n        ? (multiple\n          ? initial.map(opt => opt[currentValueField])\n          : initial[currentValueField]\n        )\n        : initial;\n    }\n\n    if (fetch_initOnly) {\n      listMessage = i18n_actual.fetchInit;\n    // edge-case! To prevent initial 'empty' fetch with resolver\n    } else if (initial && optionResolver) {\n      fetch_initValue = null;\n      listMessage = minQuery > 1\n        ? i18n_actual.fetchQuery(minQuery, input_value.length)\n        : i18n_actual.fetchBefore;\n      return;\n    }\n    const built = defaults.requestFactory(\n      input_value,\n      { parentValue, url: fetch, initial: initialFetchValue },\n      typeof fetchProps === 'function' ? fetchProps() : fetchProps\n    );\n    fetch_controller?.abort();\n    fetch_controller = built.controller;\n    window.fetch(built.request)\n      .then(resp => resp.json())\n      // success\n      .then((/** @type {object} */ json) => {\n        // sveltekit returns error property\n        if (!Array.isArray(json) && json?.error) onFetchError(json.error);\n        return Promise.resolve(fetchCallback\n          ? fetchCallback(json)\n          : (json.data || json.items || json.options || json)\n        )\n          .then(data => {\n            if (!Array.isArray(data)) {\n              console.warn('[Svelecte]:Fetch - array expected, invalid property provided:', data);\n              data = [];\n            }\n            options_flat_override = false;\n            options_filtered_override = null;\n            prev_options = flatList(data, itemConfig);\n            onFetch(data);\n\n            // tick().then(() => {\n              if (initial) {\n                fetch_initValue = null; // always reset\n                watch_value_change(initial, { skipEqualityCheck: true });\n                if ('storedValue' in opts) fetchResetOnBlur = opts.storedValue; // related to re-fetch\n              }\n            // })\n          })\n      })\n      // error\n      .catch(e => {\n        if (e instanceof DOMException && e.name === 'AbortError') return true;\n        options_filtered_override = null;\n        prev_options = [];\n        onFetchError(e);\n        console.warn('[Svelecte] Fetch Error:', e);\n      })\n      // teardown\n      .then(fetchAborted => {\n        if (fetchAborted === true) return;\n        listMessage = fetch_initOnly\n          ? i18n_actual.empty\n          : (initial\n            ? (minQuery > 1\n              ? i18n_actual.fetchQuery(minQuery, 0)\n              : i18n_actual.fetchBefore\n            )\n            : i18n_actual.fetchEmpty\n          );\n        fetch_controller = null;\n        isFetchingData = false;\n        if (is_focused) updateDropdownState(true);\n\n        if (is_dropdown_opened && !dropdown_show) {\n          dropdown_show = true;\n        }\n      });\n  }\n\n  // #endregion\n\n  // #region [helper functions]\n\n  /**\n   * Resolve whether already selected items should be shown or not in the dropdown.\n   *\n   * @param {string} inputValue\n   */\n  function resolveExcludedValue(inputValue) {\n    if (!keepSelectionInList) return selectedKeys;\n    if (keepSelectionInList === true) return inputValue ? selectedKeys : null;\n    // 'auto' otherwise\n    return inputValue\n      ? selectedKeys\n      : (multiple\n        ? selectedKeys\n        : null\n      );\n  }\n\n  /**\n   * @typedef {object} DirectionSettings\n   * @property {boolean} [asc]\n   * @property {boolean} [desc]\n   *\n   * @param {number} pos\n   * @param {DirectionSettings} direction\n   */\n   function setDropdownIndex(pos, direction = {}, limit = 0) {\n    const dropdown_list_length = creatable && input_value\n      ? options_filtered.length + 1\n      : options_filtered.length;\n    if (limit >= 2) return;\n    if (pos < 0) pos = direction.desc\n      ? dropdown_list_length - 1\n      : 0;\n    if ((dropdown_index === null && highlightFirstItem) || pos >= dropdown_list_length) {\n      pos = 0;\n    }\n    // if pos represents group header, move to next one\n    if (options_filtered[pos]?.$isGroupHeader) {\n      setDropdownIndex(direction.asc\n        ? pos + 1\n        : pos - 1, direction, ++limit\n      );\n      return;\n    }\n    dropdown_index = pos;\n  }\n\n  /**\n   * FUTURE: take into account searchable to keep inputmode=none - is this even valid?\n   *\n   * @param {HTMLElement} target\n   */\n  function focusControl(target) {\n    if (disabled) return;\n    if (!is_focused) {\n      ref_input.focus();\n      return;\n    }\n    if (target.tagName === 'INPUT' && input_value) {\n      return;\n    }\n\n    updateDropdownState(!is_dropdown_opened);\n  }\n\n  /**\n   * @returns {[listHeight: number, itemSize?: number]}\n   */\n  function get_dropdown_dimensions() {\n    if (virtualList) {\n      return [\n        pixelGetter(ref_container_scroll, 'maxHeight')\n          - pixelGetter(ref_container_scroll, 'paddingTop')\n          - pixelGetter(ref_container_scroll, 'paddingBottom'),\n        ref_virtuallist?.resolveItemSize()\n      ];\n    }\n    return [\n      ref_container_scroll.offsetHeight,\n      // @ts-ignore\n      ref_container.firstElementChild.offsetHeight\n    ];\n  }\n\n  //#endregion\n\n\n  onMount(() => {\n    is_mounted = true;\n    // https://developer.mozilla.org/en-US/docs/Web/API/Navigator/platform#examples\n    isIOS = navigator.platform.indexOf(\"Mac\") === 0 || navigator.platform === \"iPhone\";\n    meta_key = isIOS ? '⌘' : 'Ctrl';\n    if (anchor_element) {\n      // @ts-ignore\n      ref_select_element = document.getElementById(anchor_element);\n      ref_select_element.className = 'sv-hidden-element';\n      ref_select_element.innerHTML = '';\n      ref_select_element.tabIndex = -1;\n      // this setup is required, because definition can be on el-svelecte only (not on underlying <select>)\n      ref_select_element.disabled = disabled;\n      ref_select_element.required = required;\n      ref_select_element.multiple = multiple;\n      !multiple && ref_select_element.insertAdjacentHTML('beforeend', '<option value=\"\" selected>Empty</option>');\n      selectedKeys.forEach(k => {\n        ref_select_element.insertAdjacentHTML('beforeend', `<option value=${k} selected>${k}</option>`);\n      });\n    };\n    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) flipDurationMs = 0;\n  });\n</script>\n\n{#snippet snippet_collapsedSelection(selectedOptions, i18n)}\n  <span>{i18n.collapsedSelection(selectedOptions.length)}</span>\n{/snippet}\n\n{#snippet snippet_selection(selectedOptions, bindItemAction)}\n  {#each selectedOptions as opt (opt[currentValueField])}\n  <!-- svelte-ignore a11y_no_static_element_interactions -->\n  <div class=\"sv-item--container\" animate:flip={{duration: flipDurationMs }} onmousedown={e => e.preventDefault()}>\n    <div class=\"sv-item--wrap in-selection\" class:is-multi={multiple}>\n      <div class=\"sv-item--content\">{@html itemRenderer(opt, true)}</div>\n    </div>\n    {#if multiple}\n    <button class=\"sv-item--btn\" tabindex=\"-1\" type=\"button\"\n      data-action=\"deselect\"\n      aria-label={i18n_actual.aria_removeItemLabel(opt, currentLabelField)}\n      use:bindItemAction={opt}\n    >\n      <svg height=\"16\" width=\"16\" viewBox=\"0 0 20 20\" aria-hidden=\"true\" focusable=\"false\">\n        <path d=\"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z\"></path>\n      </svg>\n    </button>\n    {/if}\n  </div>\n  {/each}\n{/snippet}\n\n{#snippet snippet_clearIcon(_selectedOptions, _inputValue)}\n  {#if selectedOptions.length}\n    <svg class=\"indicator-icon\" viewBox=\"0 0 20 20\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z\"></path></svg>\n  {/if}\n{/snippet}\n\n{#snippet snippet_toggleIcon(_dropdownShow)}\n<svg class=\"indicator-icon\" viewBox=\"0 0 20 20\" aria-hidden=\"true\" focusable=\"false\">\n  <path d=\"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z\"></path>\n</svg>\n{/snippet}\n\n{#snippet snippet_option(opt, inputValue)}\n<div class=\"sv-item--content\">\n  {@html highlightSearch(opt, false, inputValue, itemRenderer, disableHighlight) }\n</div>\n{/snippet}\n\n{#snippet snippet_createRow(isCreating, inputValue, i18n)}\n<span class:is-loading={isCreating}>{i18n.createRowLabel(inputValue)}</span>\n<span class=\"shortcut\"><kbd>{meta_key}</kbd>+<kbd>Enter</kbd></span>\n{/snippet}\n\n<div class={[`svelecte`, className]}\n  class:is-required={required}\n  class:is-empty={selectedOptions.length === 0}\n  class:is-invalid={required && selectedOptions.length === 0}\n  class:is-tainted={is_tainted}\n  class:is-valid={required ? selectedOptions.length > 0 : true}\n  class:is-focused={is_focused}\n  class:is-open={is_dropdown_opened}\n  class:is-disabled={disabled}\n  role=\"none\"\n>\n  <span aria-live=\"polite\" aria-atomic=\"false\" aria-relevant=\"additions text\" class=\"a11y-text\">\n    {#if is_focused}\n      <span id=\"aria-selection\">{aria_selection}</span>\n      <span id=\"aria-context\">{aria_context}</span>\n    {/if}\n  </span>\n  {#if name && !anchor_element}\n  <select {name} {required} {multiple} {disabled} size=\"1\" class=\"sv-hidden-element\" id={DOM_ID} tabindex=\"-1\" aria-hidden=\"true\"\n    bind:this={ref_select_element}\n  >\n    {#each selectedOptions as opt (opt[currentValueField])}\n    <option value={opt[currentValueField]} selected>{opt[currentValueField]}</option>\n    {/each}\n  </select>\n  {/if}\n  <!-- svelte-ignore a11y_no_static_element_interactions -->\n  <!-- svelte-ignore a11y_click_events_have_key_events -->\n  <div class=\"sv-control {controlClass}\" onmousedown={on_mouse_down} onclick={on_click}>\n    {#if prepend}{@render prepend()}{/if}\n    <!-- #region selection & input -->\n    <div class=\"sv-control--selection\" class:is-single={multiple === false} class:has-items={selectedOptions.length > 0} class:has-input={input_value.length}\n      use:dndzone={{items: selectedOptions, flipDurationMs, type: inputId, dragDisabled: doCollapse }}\n      onconsider={on_dnd_event}\n      onfinalize={on_dnd_event}\n    >\n      {#if selectedOptions.length && multiple && doCollapse}\n        {@render collapsedSelection(selectedOptions, i18n_actual)}\n      {:else if selectedOptions.length}\n        {@render selection(selectedOptions, bindItem)}\n      {/if}\n\n      <!-- #regions INPUT -->\n      <span class=\"sv-input--sizer\" data-value={input_value || placeholder_active}>\n        <input type=\"text\" class=\"sv-input--text\" size=\"1\" class:keep-value={!resetOnBlur}\n          id={inputId}\n          placeholder={input_value ? '' : placeholder_active}\n          inputmode={input_mode}\n          readonly={!searchable}\n          enterkeyhint={enter_hint}\n          {disabled}\n          aria-label={i18n_actual.aria_label} aria-describedby={i18n_actual.aria_describedby}\n          autocapitalize=\"none\" autocomplete=\"off\" autocorrect=\"off\" spellcheck=\"false\" aria-autocomplete=\"list\" tabindex=\"0\"\n          bind:this={ref_input}\n          bind:value={input_value}\n          onfocus={on_focus}\n          onkeydown={on_key_down}\n          onkeyup={on_key_up}\n          oninput={on_input}\n          onblur={on_blur}\n          onpaste={on_paste}\n          >\n      </span>\n      <!-- #endregion -->\n    </div>\n    <!-- #endregion -->\n\n    <!-- #region buttons, indicators -->\n    <div class=\"sv-buttons\" class:is-loading={isFetchingData}>\n      {#if clearable && !disabled}\n      <button type=\"button\" class=\"sv-btn-indicator\" class:sv-has-selection={selectedOptions.length}\n        data-action=\"deselect\"  tabindex=\"-1\"\n      >\n        {@render clearIcon(selectedOptions, input_value)}\n      </button>\n      {/if}\n      {#if clearable}<span class=\"sv-btn-separator\"></span>{/if}\n      <button type=\"button\" class=\"sv-btn-indicator\" class:sv-dropdown-opened={is_dropdown_opened}\n        data-action=\"toggle\" tabindex=\"-1\"\n      >\n        {@render toggleIcon(is_dropdown_opened)}\n      </button>\n    </div>\n    {#if append}{@render append()}{/if}\n    <!-- #endregion -->\n  </div>\n\n  <!-- #region DROPDOWN -->\n  <!-- svelte-ignore a11y_no_static_element_interactions -->\n  <!-- svelte-ignore a11y_click_events_have_key_events -->\n  <div class=\"sv_dropdown {dropdownClass} \" class:is-open={dropdown_show}\n    onmousedown={on_mouse_down}\n    onclick={on_click}\n    use:positionResolver\n  >\n  {#if is_mounted && render_dropdown}\n      {#if listHeader}{@render listHeader()}{/if}\n      <div bind:this={ref_container_scroll} class=\"sv-dropdown-scroll\" class:has-items={options_filtered.length>0} class:is-virtual={virtualList} tabindex=\"-1\">\n        <div bind:this={ref_container} class=\"sv-dropdown-content\" class:max-reached={maxReached} >\n          {#if virtualList && ref_container_scroll}\n            <VirtualList\n              bind:this={ref_virtuallist}\n              maxHeight={get_dropdown_dimensions().shift()}\n              itemHeight={vlItemSize}\n              itemCount={options_filtered.length || 0}\n              scrollToIndex={dropdown_index}\n            >\n              {#snippet children(index)}\n                {@const opt = options_filtered[index] || {}}\n                {#if opt.$isGroupHeader}\n                  <div class=\"sv-optgroup-header\"><b>{opt.label}</b></div>\n                {:else}\n                  <div data-pos={index}\n                    class=\"sv-item--wrap in-dropdown {optionClass}\"\n                    class:sv-dd-item-active={dropdown_index === index}\n                    class:is-selected={opt.$selected || selectedKeys.has(opt[currentValueField])}\n                    class:is-disabled={opt[disabledField]}\n                  >\n                    {@render option(opt, input_value)}\n                  </div>\n                {/if}\n              {/snippet}\n            </VirtualList>\n          {:else if virtualList === false}\n            {#each options_filtered as opt, i}\n              {#if opt.$isGroupHeader}\n                <div class=\"sv-optgroup-header\"><b>{opt.label}</b></div>\n              {:else}\n                <div data-pos={i}\n                  class=\"sv-item--wrap in-dropdown {optionClass}\"\n                  class:sv-dd-item-active={dropdown_index === i}\n                  class:is-selected={opt.$selected}\n                  class:is-disabled={opt[disabledField]}\n                >\n                  {@render option(opt, input_value)}\n                </div>\n              {/if}\n            {/each}\n          {/if}\n        {#if options_filtered.length === 0 && (!creatable || !input_value) || maxReached}\n          <div class=\"is-dropdown-row\">\n            <div class=\"sv-item--wrap in-dropdown {optionClass}\"><div class=\"sv-item--content\">{listMessage}</div></div>\n          </div>\n        {/if}\n      </div>\n    </div> <!-- scroll container end -->\n    {#if creatable && input_value && !maxReached}\n      <div class=\"is-dropdown-row\">\n        <button type=\"button\" class=\"creatable-row\" onclick={on_create} onmousedown={e => e.preventDefault()}\n          class:active={(options_filtered.length ? options_filtered.length : 0) === dropdown_index}\n          class:is-disabled={createFilterFn(input_value)}\n          disabled={createFilterFn(input_value)}\n        >\n          {@render createRow(isCreating, input_value, i18n_actual)}\n        </button>\n      </div>\n    {/if}\n  {/if}\n  <!-- #endregion -->\n  </div>\n</div> <!-- /svelecte -->\n\n<style>\n  /** make it global to be able to apply it also for anchored select */\n  :global(.sv-hidden-element) { opacity: 0; position: absolute; z-index: -2; top: 0; height: var(--sv-min-height, 30px)}\n\n  /* stylable props */\n  /*\n  :root {\n    --sv-min-height: 34px;\n    --sv-bg: #fff;\n    --sv-disabled-bg: #eee;\n    --sv-border: 1px solid #ccc;\n    --sv-border-radius: 4px;\n    --sv-selection-gap: 4px;\n    --sv-general-padding: 4px;\n    --sv-control-bg: var(--sv-bg);\n    --sv-selection-wrap-padding: 0px 3px 0px 4px;\n    --sv-selection-multi-wrap-padding: 0px 3px 0px 6px;\n    --sv-item-wrap-padding: 3px 3px 3px 6px;\n    --sv-item-selected-bg: #efefef;\n    --sv-item-btn-color: #000;\n    --sv-item-btn-color-hover: #777;\n    --sv-item-btn-bg: #efefef;\n    --sv-item-btn-bg-hover: #ddd;\n    --sv-icon-color: #bbb;\n    --sv-icon-color-hover: #777;\n    --sv-icon-bg: transparent;\n    --sv-icon-size: 20px;\n    --sv-separator-bg: #ccc;\n    --sv-btn-border: 0;\n    --sv-placeholder-color: #ccccd6;\n    --sv-dropdown-bg: var(--sv-bg);\n    --sv-dropdown-offset: 1px;\n    --sv-dropdown-border: 1px solid rgba(0,0,0,0.15);\n    --sv-dropdown-width: auto;\n    --sv-dropdown-shadow: 0 6px 12px #0000002d;\n    --sv-dropdown-height: 320px;\n    --sv-dropdown-active-bg: #F2F5F8;\n    --sv-dropdown-selected-bg: #ECF3F9;\n    --sv-create-disabled-bg: #fcbaba;\n    --sv-create-kbd-border: 1px solid #efefef;\n    --sv-create-kbd-bg: #fff;\n    --sv-loader-border: 2px solid #ccc;\n  }\n  */\n  .a11y-text {\n    z-index: 9999;\n    border: 0px;\n    clip: rect(1px, 1px, 1px, 1px);\n    height: 1px;\n    width: 1px;\n    position: absolute;\n    overflow: hidden;\n    padding: 0px;\n    white-space: nowrap;\n  }\n  .svelecte {\n    position: relative;\n    flex: 1 1 auto;\n    color: var(--sv-color, inherit);\n\n    &.is-disabled > .sv-control {\n      background-color: var(--sv-disabled-bg, #eee);\n    }\n  }\n\n  .sv-control {\n    display: flex;\n    align-items: center;\n    border: var(--sv-border, 1px solid #ccc);\n    border-radius: var(--sv-border-radius, 4px);\n    background-color: var(--sv-control-bg, var(--sv-bg, #fff));\n    min-height: var(--sv-min-height, 34px);\n  }\n\n  .sv-control--selection {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    flex: 1;\n    min-width: 0;\n    gap: var(--sv-selection-gap, 4px);\n    padding: var(--sv-selection-gap, var(--sv-general-padding, 4px));\n    min-height: 24px;\n    &.is-single {\n      flex-wrap: nowrap;\n    }\n  }\n  :global(.sv-item--container) {\n    display: flex;\n    min-width: 0;\n  }\n  :global(.sv-item--wrap) {\n    display: flex;\n    min-width: 0;\n  }\n  :global(.sv-item--wrap.in-selection) {\n    padding: var(--sv-selection-wrap-padding, 0px 3px 0px 4px);\n  }\n  :global(.sv-item--wrap.is-multi) {\n    padding: var(--sv-selection-multi-wrap-padding, 0px 3px 0px 6px);\n    background-color: var(--sv-item-selected-bg, #efefef);\n  }\n  :global(.sv-item--wrap.in-dropdown) {\n    padding: var(--sv-item-wrap-padding, 3px 3px 3px 6px);\n  }\n\n  :global(.sv-item--content) {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  :global(.sv-item--btn) {\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    align-self: stretch;\n    padding: 0 4px;\n    box-sizing: border-box;\n    border-radius: calc(var(--sv-border-radius, 4px) / 2);\n    border-width: 0;\n    margin: 0;\n    cursor: pointer;\n    background-color: var(--sv-item-btn-bg, var(--sv-item-selected-bg, #efefef));\n  }\n\n\n  /** #region ************************************ buttons */\n  :global(.sv-item--btn > svg) {\n    fill: var(--sv-item-btn-color, var(--sv-icon-color, #bbb));\n  }\n  :global(.sv-item--btn:hover) {\n    background-color: var(--sv-item-btn-bg-hover, #ddd);\n  }\n  :global(.sv-item--btn:hover > svg) {\n    fill: var(--sv-item-btn-color-hover, #777);\n  }\n\n  .sv-buttons {\n    display: flex;\n    align-self: stretch;\n    position: relative;\n  }\n  .sv-btn-indicator {\n    color: var(--sv-icon-color, #bbb);\n    display: flex;\n    transition: color 150ms ease 0s;\n    box-sizing: border-box;\n    background-color: var(--sv-icon-bg, transparent);\n    border: var(--sv-btn-border, 0);\n    padding: 0;\n    margin: var(--sv-general-padding, 4px);\n    align-items: center;\n    fill: currentcolor;\n    line-height: 1;\n    stroke: currentcolor;\n    stroke-width: 0px;\n    &:hover {\n      color: var(--sv-icon-color-hover, #777);\n    }\n  }\n  .sv-btn-separator {\n    align-self: stretch;\n    background-color: var(--sv-separator-bg, #ccc);\n    margin-bottom: var(--sv-general-padding, 4px);\n    margin-top: var(--sv-general-padding, 4px);\n    width: 1px;\n    box-sizing: border-box;\n  }\n  .indicator-icon {\n    width: var(--sv-icon-size, 20px);\n    height: var(--sv-icon-size, 20px);\n  }\n  .is-loading:after {\n    animation: spinAround 0.5s infinite linear;\n    border: var(--sv-loader-border, 2px solid #ccc);\n    border-radius: 50%;\n    border-right-color: transparent;\n    border-top-color: transparent;\n    content: \"\";\n    display: block;\n    height: var(--sv-icon-size, 20px);\n    width: var(--sv-icon-size, 20px);\n    right: var(--sv-general-padding, 4px);\n    top: calc(50% - (var(--sv-icon-size, 20px) / 2));\n    position: absolute !important;\n    box-sizing: border-box;\n  }\n  @keyframes spinAround {\n    from {\n      transform: rotate(0deg)\n    }\n    to {\n      transform: rotate(359deg)\n    }\n  }\n\n  /** #endregion */\n\n  /** ************************************ dropdown */\n\n  .sv_dropdown {\n    margin: var(--sv-dropdown-offset, 1px) 0;\n    box-sizing: border-box;\n    position: absolute;\n    min-width: 100%;\n    width: var(--sv-dropdown-width, auto);\n    background-color: var(--sv-dropdown-bg, var(--sv-bg, #fff));\n    overflow-y: auto;\n    overflow-x: hidden;\n    border: var(--sv-dropdown-border, 1px solid rgba(0,0,0,0.15));\n    border-radius: var(--sv-border-radius, 4px);\n    box-shadow: var(--sv-dropdown-shadow, 0 6px 12px #0000002d);\n    opacity: 0;\n    z-index: -1000;\n    pointer-events: none;\n\n    &.is-open {\n      opacity: 1;\n      z-index: 2;\n      pointer-events: auto;\n    }\n  }\n  .sv-dropdown-scroll {\n    /* min-height: 40px; */\n    padding: 0;\n    box-sizing: border-box;\n    max-height: var(--sv-dropdown-height, 320px);\n    overflow-y: auto;\n    overflow-x: hidden;\n    &.has-items {\n      padding: 4px;\n    }\n  }\n  .in-dropdown.is-selected {\n    background-color: var(--sv-dropdown-selected-bg, #ECF3F9);\n  }\n  .in-dropdown.is-disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n  .in-dropdown.sv-dd-item-active,\n  .in-dropdown:hover,\n  .in-dropdown:active {\n    background-color: var(--sv-dropdown-active-bg, #F2F5F8);\n  }\n  .is-dropdown-row {\n    padding: var(--sv-general-padding, 4px);\n  }\n\n  /** ************************************ creatable */\n\n  .sv-dropdown-scroll.has-items + .is-dropdown-row {\n    border-top: 1px solid transparent;\n    border-color: var(--sv-separator-bg, #ccc);\n  }\n  .creatable-row {\n    width: 100%;\n    border: 0;\n    background-color: inherit;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-radius: calc(var(--sv-border-radius, 4px) / 2);\n    padding: var(--sv-item-wrap-padding, 3px 3px 3px 6px);\n\n    &:hover,\n    &:active,\n    &.active {\n      background-color: var(--sv-dropdown-active-bg, #F2F5F8);\n    }\n    &.active.is-disabled {\n      opacity: 0.5;\n      background-color: var(--sv-create-disabled-bg, #fcbaba);\n    }\n    &.is-disabled {\n      opacity: 0.5;\n      cursor: not-allowed;\n    }\n\n  }\n\n  /*\n   * moved selector to global due to https://github.com/sveltejs/svelte/issues/10143 -> https://github.com/sveltejs/svelte/pull/10208\n   */\n  .creatable-row :global(> .is-loading) {\n    position: relative;\n    &:after {\n      left: calc(100% + 4px);\n    }\n  }\n\n  .shortcut {\n    display: flex;\n    align-items: center;\n    align-content: center;\n  }\n  .shortcut > kbd {\n      border: var(--sv-create-kbd-border, 1px solid #efefef);\n      border-radius: var(--sv-border-radius, 4px);\n      padding: 0px 6px;\n      margin: -1px 0;\n      background-color: var(--sv-create-kbd-bg, #fff);\n  }\n\n  /** #region input */\n  .sv-input--sizer {\n    position: absolute;\n    pointer-events: none;\n    display: inline-grid;\n    vertical-align: top;\n    align-items: center;\n\n    &:after {\n      content: attr(data-value) ' ';\n      visibility: hidden;\n      white-space: pre-wrap;\n    }\n  }\n  .is-focused .sv-input--sizer {\n    position: relative;\n    pointer-events: all;\n  }\n  .has-items .keep-value:not(:focus) {\n    color: transparent;\n  }\n  /* moved selector to global due to https://github.com/sveltejs/svelte/issues/10143 -> https://github.com/sveltejs/svelte/pull/10208 */\n  .is-focused :global(.is-single.has-items.has-input > .sv-item--container) {\n    opacity: 0.2;\n  }\n  .sv-input--sizer:after,\n  .sv-input--text {\n    width: auto;\n    min-width: 1em;\n    grid-area: 1 / 2;\n    font: inherit;\n    padding: 0 0.25em;\n    margin: 0;\n    resize: none;\n    background: none;\n    appearance: none;\n    border: none;\n  }\n  .has-items .sv-input--text {\n    padding-left: 0;\n  }\n\n  .sv-input--text {\n    outline: none;\n    &::placeholder {\n      color: var(--sv-placeholder-color, #ccccd6);\n    }\n  }\n  /* #endregion */\n</style>\n","var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return\"string\"==typeof r?r.length>0:\"number\"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?\"0\"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,p=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s+([+-]?\\d*\\.?\\d+)%\\s+([+-]?\\d*\\.?\\d+)%\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,v=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,m=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},\"hex\"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},\"rgb\"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u=\"deg\"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},\"hsl\"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},\"rgb\"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},\"hsl\"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},\"hsv\"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return\"string\"==typeof r?N(r.trim(),y.string):\"object\"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):\"\",\"#\"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?\"rgba(\"+t+\", \"+n+\", \"+e+\", \"+u+\")\":\"rgb(\"+t+\", \"+n+\", \"+e+\")\";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?\"hsla(\"+t+\", \"+n+\"%, \"+e+\"%, \"+u+\")\":\"hsl(\"+t+\", \"+n+\"%, \"+e+\"%)\";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return\"number\"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return\"number\"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};export{j as Colord,w as colord,k as extend,I as getFormat,E as random};\n","<script lang=\"ts\">\n\tinterface Props {\n\t\t/** min value of the slider */\n\t\tmin?: string | number;\n\t\t/** max value of the slider */\n\t\tmax?: string | number;\n\t\t/** step value of the slider */\n\t\tstep?: string | number;\n\t\t/** value of the slider */\n\t\tvalue?: number;\n\t\t/**\n\t\t * method to convert the current value to a string representation of the value for the `aria-valuetext` attribute.\n\t\t * For example, a battery meter value might be conveyed as aria-valuetext=\"8% (34 minutes) remaining\".\n\t\t * See [MDN documentation](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-valuetext)\n\t\t */\n\t\tariaValueText?: (current: number) => string;\n\t\t/** input name of the slider */\n\t\tname?: string | undefined;\n\t\t/** direction of the slider */\n\t\tdirection?: 'horizontal' | 'vertical';\n\t\t/** if true, the min and max values will be reversed */\n\t\treverse?: boolean;\n\t\t/** disables mouse events */\n\t\tkeyboardOnly?: boolean;\n\t\t/** div element representing the slider */\n\t\tslider?: HTMLDivElement | undefined;\n\t\t/** aria-label props */\n\t\tariaLabel?: string | undefined;\n\t\t/** aria-labelledby props */\n\t\tariaLabelledBy?: string | undefined;\n\t\t/** aria-controls props */\n\t\tariaControls?: string | undefined;\n\t\t/** indicate if the slider is being dragged */\n\t\tisDragging?: boolean;\n\t\t/** listener, dispatch an event when the user drags, clicks or tabs at the slider */\n\t\tonInput?: (value: number) => void;\n\t}\n\n\tlet {\n\t\tmin = 0,\n\t\tmax = 100,\n\t\tstep = 1,\n\t\tvalue = $bindable(50),\n\t\tariaValueText = (current) => current.toString(),\n\t\tname,\n\t\tdirection = 'horizontal',\n\t\treverse = false,\n\t\tkeyboardOnly = false,\n\t\tslider,\n\t\tariaLabel,\n\t\tariaLabelledBy,\n\t\tariaControls,\n\t\tisDragging = false,\n\t\tonInput\n\t}: Props = $props();\n\n\tconst _min = $derived(typeof min === 'string' ? parseFloat(min) : min);\n\tconst _max = $derived(typeof max === 'string' ? parseFloat(max) : max);\n\tconst _step = $derived(typeof step === 'string' ? parseFloat(step) : step);\n\n\tfunction bound(value: number) {\n\t\tconst ratio = 1 / _step;\n\t\tconst rounded = Math.round(value * ratio) / ratio;\n\t\treturn Math.max(_min, Math.min(_max, rounded));\n\t}\n\n\tfunction keyHandler(e: KeyboardEvent) {\n\t\tconst inc = e.shiftKey ? _step * 10 : _step;\n\t\tif (e.key === 'ArrowUp' || e.key === 'ArrowRight') {\n\t\t\tvalue += inc;\n\t\t\te.preventDefault();\n\t\t} else if (e.key === 'ArrowDown' || e.key === 'ArrowLeft') {\n\t\t\tvalue -= inc;\n\t\t\te.preventDefault();\n\t\t} else if (e.key === 'Home') {\n\t\t\tvalue = _min;\n\t\t\te.preventDefault();\n\t\t} else if (e.key === 'End') {\n\t\t\tvalue = _max;\n\t\t\te.preventDefault();\n\t\t} else if (e.key === 'PageUp') {\n\t\t\tvalue += _step * 10;\n\t\t\te.preventDefault();\n\t\t} else if (e.key === 'PageDown') {\n\t\t\tvalue -= _step * 10;\n\t\t\te.preventDefault();\n\t\t}\n\t\tvalue = bound(value);\n\t\tonInput?.(value);\n\t}\n\n\tconst config = {\n\t\thorizontal: {\n\t\t\tclientSize: 'clientWidth',\n\t\t\toffset: 'left',\n\t\t\tclient: 'clientX'\n\t\t},\n\t\tvertical: {\n\t\t\tclientSize: 'clientHeight',\n\t\t\toffset: 'top',\n\t\t\tclient: 'clientY'\n\t\t}\n\t} as const;\n\n\tfunction updateValue(e: { clientX: number; clientY: number }) {\n\t\tconst clientWidth = slider?.[config[direction].clientSize] || 120;\n\t\tconst sliderOffsetX = slider?.getBoundingClientRect()[config[direction].offset] || 0;\n\n\t\tlet offsetX = e[config[direction].client] - sliderOffsetX;\n\t\tif (direction === 'vertical') offsetX = -1 * offsetX + clientWidth;\n\n\t\tif (reverse) {\n\t\t\tvalue = _max - (offsetX / clientWidth) * (_max - _min);\n\t\t} else {\n\t\t\tvalue = (offsetX / clientWidth) * (_max - _min) + _min;\n\t\t}\n\n\t\tvalue = bound(value);\n\t\tonInput?.(value);\n\t}\n\n\tfunction jump(e: MouseEvent) {\n\t\tupdateValue(e);\n\t\tisDragging = true;\n\t}\n\n\tfunction drag(e: MouseEvent) {\n\t\tif (isDragging) updateValue(e);\n\t}\n\n\tfunction endDrag() {\n\t\tisDragging = false;\n\t}\n\n\tfunction touch(e: TouchEvent) {\n\t\te.preventDefault();\n\t\tupdateValue({\n\t\t\tclientX: e.changedTouches[0].clientX,\n\t\t\tclientY: e.changedTouches[0].clientY\n\t\t});\n\t}\n\n\tconst position = $derived((((value - _min) / (_max - _min)) * 1).toFixed(4));\n</script>\n\n<svelte:window on:mousemove={drag} on:mouseup={endDrag} />\n\n<div\n\tclass=\"slider\"\n\tclass:reverse\n\trole=\"slider\"\n\taria-orientation={direction}\n\taria-valuemax={_max}\n\taria-valuemin={_min}\n\taria-valuenow={value}\n\taria-valuetext={ariaValueText(value)}\n\taria-label={ariaLabel}\n\taria-labelledby={ariaLabelledBy}\n\taria-controls={ariaControls}\n\ttabindex=\"0\"\n\tbind:this={slider}\n\tstyle:--position={position}\n\tonkeydown={keyHandler}\n\tonmousedown={keyboardOnly ? undefined : jump}\n\tontouchstart={keyboardOnly ? undefined : touch}\n\tontouchmove={keyboardOnly ? undefined : touch}\n\tontouchend={keyboardOnly ? undefined : touch}\n>\n\t<div class=\"track\"></div>\n\t<div class=\"thumb\"></div>\n</div>\n\n{#if name}\n\t<input type=\"hidden\" {name} {value} />\n{/if}\n\n<!-- @component\n\n**Props**\n@prop min: string | number = 0 — min value of the slider\n@prop max: string | number = 100 — max value of the slider\n@prop step: string | number = 1 — step value of the slider\n@prop value: number = 50 — value of the slider\n@prop ariaValueText: (current: number) =&gt; string = (current) — method to convert the current value to a string representation of the value for the `aria-valuetext` attribute. For example, a battery meter value might be conveyed as aria-valuetext=\"8% (34 minutes) remaining\". See [MDN documentation](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-valuetext)\n@prop name: string | undefined — input name of the slider\n@prop direction: 'horizontal' | 'vertical' = 'horizontal' — direction of the slider\n@prop reverse: boolean = false — if true, the min and max values will be reversed\n@prop keyboardOnly: boolean = false — disables mouse events\n@prop slider: HTMLDivElement | undefined — div element representing the slider\n@prop ariaLabel: string | undefined — aria-label props\n@prop ariaLabelledBy: string | undefined — aria-labelledby props\n@prop ariaControls: string | undefined — aria-controls props\n@prop isDragging: boolean = false — indicate if the slider is being dragged\n@prop onInput: (value: number) =&gt; void — listener, dispatch an event when the user drags, clicks or tabs at the slider\n-->\n\n<style>\n\t.slider {\n\t\t---track-width: var(--track-width, unset);\n\t\t---track-height: var(--track-height, 6px);\n\t\t---track-background: var(--track-background, #949494);\n\t\t---track-border: var(--track-border, none);\n\t\t---thumb-size: var(--thumb-size, 16px);\n\t\t---thumb-background: var(--thumb-background, #2d2d2d);\n\t\t---thumb-border: var(--thumb-border, none);\n\t\t---position: var(--position, 0px);\n\n\t\t---margin-inline-thumb-bigger: max(var(---thumb-size) - var(---track-height), 0px);\n\t\t---margin-inline-thumb-smaller: max(var(---track-height) - var(---thumb-size), 0px);\n\n\t\tposition: relative;\n\t\tmargin: auto;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\tbackground-color: transparent;\n\t\tcursor: pointer;\n\t}\n\n\t.slider::before {\n\t\tbackground-color: transparent;\n\t}\n\n\t[aria-orientation='horizontal'] {\n\t\twidth: var(---track-width);\n\t\tmax-width: calc(100% - 2 * var(---margin-inline-thumb-bigger));\n\t\theight: calc(max(var(---track-height), var(---thumb-size)) + 4px);\n\t\theight: max(var(---track-height), var(---thumb-size));\n\t\tmargin-inline: var(---margin-inline-thumb-bigger);\n\t\tmargin-block: var(--margin-block, 8px);\n\t}\n\n\t[aria-orientation='vertical'] {\n\t\twidth: max(var(---track-height), var(---thumb-size));\n\t\theight: var(---track-width);\n\t\tmax-height: calc(100% - 2 * var(---margin-inline-thumb-bigger));\n\t\tmargin-block: var(---margin-inline-thumb-bigger);\n\t\tmargin-inline: var(--margin-block, 8px);\n\t}\n\n\t.track {\n\t\tposition: absolute;\n\t\tpointer-events: none;\n\t\tbackground: var(---track-background);\n\t\tborder: var(---track-border);\n\t\tborder-radius: calc(var(---track-height) / 2);\n\t\tbox-sizing: border-box;\n\t}\n\n\t[aria-orientation='horizontal'] .track {\n\t\theight: var(---track-height);\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t[aria-orientation='vertical'] .track {\n\t\twidth: var(---track-height);\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t\ttop: 0;\n\t\tbottom: 0;\n\t}\n\n\t.thumb {\n\t\tpointer-events: none;\n\t\tposition: absolute;\n\t\theight: var(---thumb-size);\n\t\twidth: var(---thumb-size);\n\t\tborder-radius: calc(var(---thumb-size) / 2);\n\t\tbackground: var(---thumb-background);\n\t\tborder: var(---thumb-border);\n\t\tbox-sizing: border-box;\n\n\t\ttransform: translate(-50%, -50%);\n\t\t--margin-left: (2 * var(---track-height) - var(---thumb-size) - var(---margin-inline-thumb-smaller)) / 2;\n\t\t--left: calc(var(---position) * (100% - 2 * var(--margin-left)) + var(--margin-left));\n\t}\n\n\t[aria-orientation='horizontal']:not(.reverse) .thumb {\n\t\ttop: 50%;\n\t\tleft: var(--left);\n\t}\n\n\t[aria-orientation='vertical']:not(.reverse) .thumb {\n\t\tleft: 50%;\n\t\tbottom: calc(var(--left) - var(---thumb-size));\n\t}\n\n\t[aria-orientation='horizontal'].reverse .thumb {\n\t\ttop: 50%;\n\t\tright: calc(var(--left) - var(---thumb-size));\n\t}\n\n\t[aria-orientation='vertical'].reverse .thumb {\n\t\tleft: 50%;\n\t\ttop: calc(var(--left));\n\t}\n\n\t.slider:focus-visible {\n\t\toutline: none;\n\t}\n\n\t.slider:focus-visible .track {\n\t\toutline: 2px solid var(--focus-color, red);\n\t\toutline-offset: 2px;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { colord } from 'colord';\n\timport type { Components } from '../type/types.js';\n\timport { Slider } from 'svelte-awesome-slider';\n\timport type { Texts } from '../utils/texts.js';\n\n\tinterface Props {\n\t\t/** customize the ColorPicker component parts. Can be used to display a Chrome variant or an Accessibility Notice */\n\t\tcomponents: Components;\n\t\t/** hue value */\n\t\th: number;\n\t\t/** saturation value */\n\t\ts: number;\n\t\t/** vibrance value */\n\t\tv: number;\n\t\t/** indicator whether the selected color is light or dark */\n\t\tisDark: boolean;\n\t\t/** all translation tokens used in the library; can be partially overridden; see [full object type](https://github.com/Ennoriel/svelte-awesome-color-picker/blob/master/src/lib/utils/texts.ts) */\n\t\ttexts: Texts;\n\t\t/** listener, dispatch an event when the user drags, clicks or tabs at the picker */\n\t\tonInput: (color: { s: number; v: number }) => void;\n\t}\n\n\tlet { components, h, s = $bindable(), v = $bindable(), isDark, texts, onInput }: Props = $props();\n\n\tlet picker: HTMLDivElement | undefined = $state();\n\n\tlet isMouseDown = false;\n\n\tlet pos = $state({ x: 100, y: 0 });\n\tlet pickerColorBg = $derived(colord({ h, s: 100, v: 100, a: 1 }).toHex());\n\n\tfunction clamp(value: number, min: number, max: number): number {\n\t\treturn Math.min(Math.max(min, value), max);\n\t}\n\n\tfunction onClick(e: { clientX: number; clientY: number }) {\n\t\tif (!picker) return;\n\n\t\tconst { width, left, height, top } = picker.getBoundingClientRect();\n\t\tconst mouse = {\n\t\t\tx: clamp(e.clientX - left, 0, width),\n\t\t\ty: clamp(e.clientY - top, 0, height)\n\t\t};\n\n\t\ts = clamp(mouse.x / width, 0, 1) * 100;\n\t\tv = clamp((height - mouse.y) / height, 0, 1) * 100;\n\n\t\tupdateColor();\n\t}\n\n\tfunction pickerMousedown(e: MouseEvent) {\n\t\te.preventDefault();\n\t\tif (e.button === 0) {\n\t\t\tisMouseDown = true;\n\t\t\tonClick(e);\n\t\t}\n\t}\n\n\tfunction mouseUp() {\n\t\tisMouseDown = false;\n\t}\n\n\tfunction mouseMove(e: MouseEvent) {\n\t\tif (isMouseDown) onClick(e);\n\t}\n\n\tfunction touch(e: TouchEvent) {\n\t\te.preventDefault();\n\t\tonClick(e.changedTouches[0]);\n\t}\n\n\t$effect(() => {\n\t\tif (typeof s === 'number' && typeof v === 'number' && picker)\n\t\t\tpos = {\n\t\t\t\tx: s,\n\t\t\t\ty: 100 - v\n\t\t\t};\n\t});\n\n\tfunction updateColor(color: { s?: number; v?: number } = {}) {\n\t\tonInput({ s, v, ...color });\n\t}\n</script>\n\n<svelte:window onmouseup={mouseUp} onmousemove={mouseMove} />\n\n<!-- svelte-ignore a11y_no_static_element_interactions -->\n<div\n\tclass=\"picker\"\n\tbind:this={picker}\n\tonmousedown={pickerMousedown}\n\tontouchstart={touch}\n\tontouchmove={touch}\n\tontouchend={touch}\n\tstyle:--picker-color-bg={pickerColorBg}\n>\n\t<components.pickerIndicator {pos} {isDark} />\n\t<div class=\"s\" style:--pos-y={pos.y}>\n\t\t<Slider\n\t\t\tvalue={s}\n\t\t\tonInput={(s) => updateColor({ s })}\n\t\t\tkeyboardOnly\n\t\t\tariaValueText={(value) => `${value}%`}\n\t\t\tariaLabel={texts.label.s}\n\t\t/>\n\t</div>\n\t<div class=\"v\" style:--pos-x={pos.x}>\n\t\t<Slider\n\t\t\tvalue={v}\n\t\t\tonInput={(v) => updateColor({ v })}\n\t\t\tkeyboardOnly\n\t\t\tariaValueText={(value) => `${value}%`}\n\t\t\tdirection=\"vertical\"\n\t\t\tariaLabel={texts.label.v}\n\t\t/>\n\t</div>\n</div>\n\n<!-- \n@component Picker wrapper containing the mouse and keyboard logic to select the color. _internal component_ \n\n**Import**\nN.A.\n\n**Use**\nN.A.\n\n**Props**\n@prop components: Components — customize the ColorPicker component parts. Can be used to display a Chrome variant or an Accessibility Notice\n@prop h: number — hue value\n@prop s: number — saturation value\n@prop v: number — vibrance value\n@prop isDark: boolean — indicator whether the selected color is light or dark\n@prop texts: Texts — all translation tokens used in the library; can be partially overridden; see [full object type](https://github.com/Ennoriel/svelte-awesome-color-picker/blob/master/src/lib/utils/texts.ts)\n@prop onInput: (color: { s: number; v: number }) =&gt; void — listener, dispatch an event when the user drags, clicks or tabs at the picker\n-->\n<style>\n\t.picker {\n\t\tposition: relative;\n\t\tdisplay: inline-block;\n\t\twidth: var(--picker-width, 200px);\n\t\theight: var(--picker-height, 200px);\n\t\tbackground:\n\t\t\tlinear-gradient(#ffffff00, #000000ff), linear-gradient(0.25turn, #ffffffff, #00000000), var(--picker-color-bg);\n\t\tborder-radius: var(--picker-radius, 8px);\n\t\toutline: none;\n\t\tuser-select: none;\n\t\tcursor: pointer;\n\t}\n\n\t.s,\n\t.v {\n\t\tposition: absolute;\n\t\t--track-background: none;\n\t\t--track-border: none;\n\t\t--thumb-background: none;\n\t\t--thumb-border: none;\n\t\t--thumb-size: 2px;\n\t\t--margin-block: 0;\n\t\t--track-height: var(--picker-indicator-size, 10px);\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t}\n\n\t.s {\n\t\ttop: calc(var(--pos-y) * (var(--picker-height, 200px) - var(--picker-indicator-size, 10px) - 4px) / 100 + 2px);\n\t\tleft: 2px;\n\t\t--track-width: calc(var(--picker-width, 200px) - 4px);\n\t}\n\n\t.v {\n\t\ttop: 2px;\n\t\tleft: calc(var(--pos-x) * (var(--picker-width, 200px) - var(--picker-indicator-size, 10px) - 4px) / 100 + 2px);\n\t\t--track-width: calc(var(--picker-height, 200px) - 4px);\n\t}\n</style>\n","<script lang=\"ts\">\n  // API from the docs\n  export let pos: { x: number; y: number };\n</script>\n\n<div\n  class=\"pointer-events-none absolute z-30 -translate-x-1/2 -translate-y-1/2\n         w-2 h-2 rounded-full shadow-[0_0_0_2px_#fff]\"\n  style=\"left:{pos.x}%; top:{pos.y}%;\"\n></div>","<script lang=\"ts\">\n\timport type { Texts } from '../../../utils/texts.js';\n\timport type { RgbaColor, HsvaColor } from 'colord';\n\n\tinterface Props {\n\t\t/** if set to false, disables the alpha channel */\n\t\tisAlpha: boolean;\n\t\t/** rgb color */\n\t\trgb: RgbaColor;\n\t\t/** hsv color */\n\t\thsv: HsvaColor;\n\t\t/** hex color */\n\t\thex: string;\n\t\t/** configure which hex, rgb and hsv inputs will be visible and in which order. If overridden, it is necessary to provide at least one value */\n\t\ttextInputModes: Array<'hex' | 'rgb' | 'hsv'>;\n\t\t/** all translation tokens used in the library; can be partially overridden; see [full object type](https://github.com/Ennoriel/svelte-awesome-color-picker/blob/master/src/lib/utils/texts.ts) */\n\t\ttexts: Texts;\n\t\t/** listener, dispatch an event when one of the color changes */\n\t\tonInput: (color: { hsv?: HsvaColor; rgb?: RgbaColor; hex?: string }) => void;\n\t}\n\n\tlet {\n\t\tisAlpha,\n\t\trgb = $bindable(),\n\t\thsv = $bindable(),\n\t\thex = $bindable(),\n\t\ttextInputModes,\n\t\ttexts,\n\t\tonInput\n\t}: Props = $props();\n\n\tconst HEX_COLOR_REGEX = /^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;\n\n\tlet mode: 'hex' | 'rgb' | 'hsv' = $state(textInputModes[0] || 'hex');\n\n\tlet nextMode = $derived(textInputModes[(textInputModes.indexOf(mode) + 1) % textInputModes.length]);\n\n\tlet h = $derived(Math.round(hsv.h));\n\tlet s = $derived(Math.round(hsv.s));\n\tlet v = $derived(Math.round(hsv.v));\n\tlet a = $derived(hsv.a === undefined ? 1 : Math.round(hsv.a * 100) / 100);\n\n\ttype InputEvent = Event & { currentTarget: EventTarget & HTMLInputElement };\n\n\tfunction updateHex(e: InputEvent) {\n\t\tconst target = e.target as HTMLInputElement;\n\t\tif (HEX_COLOR_REGEX.test(target.value)) {\n\t\t\thex = target.value;\n\t\t\tonInput({ hex });\n\t\t}\n\t}\n\n\tfunction updateRgb(property: string) {\n\t\treturn function (e: InputEvent) {\n\t\t\trgb = { ...rgb, [property]: parseFloat((e.target as HTMLInputElement).value) };\n\t\t\tonInput({ rgb });\n\t\t};\n\t}\n\n\tfunction updateHsv(property: string) {\n\t\treturn function (e: InputEvent) {\n\t\t\thsv = { ...hsv, [property]: parseFloat((e.target as HTMLInputElement).value) };\n\t\t\tonInput({ hsv });\n\t\t};\n\t}\n</script>\n\n<div class=\"text-input\">\n\t<div class=\"input-container\">\n\t\t{#if mode === 'hex'}\n\t\t\t<input aria-label={texts.label.hex} value={hex} oninput={updateHex} style:flex={3} />\n\t\t{:else if mode === 'rgb'}\n\t\t\t<input aria-label={texts.label.r} value={rgb.r} type=\"number\" min=\"0\" max=\"255\" oninput={updateRgb('r')} />\n\t\t\t<input aria-label={texts.label.g} value={rgb.g} type=\"number\" min=\"0\" max=\"255\" oninput={updateRgb('g')} />\n\t\t\t<input aria-label={texts.label.b} value={rgb.b} type=\"number\" min=\"0\" max=\"255\" oninput={updateRgb('b')} />\n\t\t{:else}\n\t\t\t<input aria-label={texts.label.h} value={h} type=\"number\" min=\"0\" max=\"360\" oninput={updateHsv('h')} />\n\t\t\t<input aria-label={texts.label.s} value={s} type=\"number\" min=\"0\" max=\"100\" oninput={updateHsv('s')} />\n\t\t\t<input aria-label={texts.label.v} value={v} type=\"number\" min=\"0\" max=\"100\" oninput={updateHsv('v')} />\n\t\t{/if}\n\t\t{#if isAlpha}\n\t\t\t<input\n\t\t\t\taria-label={texts.label.a}\n\t\t\t\tvalue={a}\n\t\t\t\ttype=\"number\"\n\t\t\t\tmin=\"0\"\n\t\t\t\tmax=\"1\"\n\t\t\t\tstep=\"0.01\"\n\t\t\t\toninput={mode === 'hsv' ? updateHsv('a') : updateRgb('a')}\n\t\t\t/>\n\t\t{/if}\n\t</div>\n\n\t{#if textInputModes.length > 1}\n\t\t<button type=\"button\" onclick={() => (mode = nextMode)}>\n\t\t\t<span class=\"disappear\" aria-hidden=\"true\">{texts.color[mode]}</span>\n\t\t\t<span class=\"appear\">{texts.changeTo} {texts.color[nextMode]}</span>\n\t\t</button>\n\t{:else}\n\t\t<div class=\"button-like\">{texts.color[mode]}</div>\n\t{/if}\n</div>\n\n<!-- \n@component text inputs for the hex, rgb and hsv colors. This component cannot be imported\ndirectly but can be overridden.\n\n**Import**\n_N.A._\n\n**Use**\n_N.A._\n\n**Props**\n@prop isAlpha: boolean — if set to false, disables the alpha channel\n@prop rgb: RgbaColor — rgb color\n@prop hsv: HsvaColor — hsv color\n@prop hex: string — hex color\n@prop textInputModes: Array&lt;'hex' | 'rgb' | 'hsv'&gt; — configure which hex, rgb and hsv inputs will be visible and in which order. If overridden, it is necessary to provide at least one value\n@prop texts: Texts — all translation tokens used in the library; can be partially overridden; see [full object type](https://github.com/Ennoriel/svelte-awesome-color-picker/blob/master/src/lib/utils/texts.ts)\n@prop onInput: (color: { hsv?: HsvaColor; rgb?: RgbaColor; hex?: string }) =&gt; void — listener, dispatch an event when one of the color changes\n-->\n<style>\n\t.text-input {\n\t\tmargin: var(--text-input-margin, 5px 0 0);\n\t}\n\t.input-container {\n\t\tdisplay: flex;\n\t\tflex: 1;\n\t\tgap: 10px;\n\t}\n\tinput,\n\tbutton,\n\t.button-like {\n\t\tflex: 1;\n\t\tborder: none;\n\t\tbackground-color: var(--cp-input-color, #eee);\n\t\tcolor: var(--cp-text-color, var(--cp-border-color));\n\t\tpadding: 0;\n\t\tborder-radius: 5px;\n\t\theight: 30px;\n\t\tline-height: 30px;\n\t\ttext-align: center;\n\t}\n\tinput {\n\t\twidth: 5px;\n\t\tfont-family: inherit;\n\t}\n\n\tbutton,\n\t.button-like {\n\t\tposition: relative;\n\t\tflex: 1;\n\t\tmargin: 8px 0 0;\n\t\theight: 30px;\n\t\twidth: 100%;\n\t\ttransition: background-color 0.2s;\n\t\tcursor: pointer;\n\t\tfont-family: inherit;\n\t}\n\n\t.button-like {\n\t\tcursor: default;\n\t}\n\n\t.appear,\n\t.disappear {\n\t\tposition: absolute;\n\t\tleft: 50%;\n\t\ttop: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\twidth: 100%;\n\t\ttransition: all 0.5s;\n\t}\n\tbutton:hover .disappear,\n\t.appear {\n\t\topacity: 0;\n\t}\n\n\t.disappear,\n\tbutton:hover .appear {\n\t\topacity: 1;\n\t}\n\n\tbutton:hover {\n\t\tbackground-color: var(--cp-button-hover-color, #ccc);\n\t}\n\n\tinput:focus,\n\tbutton:focus {\n\t\toutline: none;\n\t}\n\n\tinput:focus-visible,\n\tbutton:focus-visible {\n\t\toutline: 2px solid var(--focus-color, red);\n\t\toutline-offset: 2px;\n\t}\n</style>\n","<script lang=\"ts\">\n\tinterface Props {\n\t\t/** DOM element of the label wrapper */\n\t\tlabelElement: HTMLLabelElement | undefined;\n\t\t/** hex color */\n\t\thex: string | null;\n\t\t/** input label */\n\t\tlabel: string;\n\t\t/** input name, useful in a native form */\n\t\tname?: string | undefined;\n\t\t/** directionality left to right, or right to left*/\n\t\tdir: 'ltr' | 'rtl';\n\t}\n\n\tlet { labelElement = $bindable(), hex, label, name = undefined, dir }: Props = $props();\n\n\tfunction preventDefault(e: MouseEvent) {\n\t\te.preventDefault();\n\t\t/* prevent browser color picker from opening unless javascript is broken */\n\t}\n</script>\n\n<!-- svelte-ignore a11y_no_noninteractive_element_interactions, a11y_click_events_have_key_events -->\n<label bind:this={labelElement} onclick={preventDefault} onmousedown={preventDefault} {dir}>\n\t<div class=\"container\">\n\t\t<input\n\t\t\ttype=\"color\"\n\t\t\t{name}\n\t\t\tvalue={hex}\n\t\t\tonclick={preventDefault}\n\t\t\tonmousedown={preventDefault}\n\t\t\taria-haspopup=\"dialog\"\n\t\t/>\n\t\t<div class=\"alpha\"></div>\n\t\t<div class=\"color\" style:background={hex}></div>\n\t</div>\n\t{label}\n</label>\n\n<!-- \n@component button to open the color picker. Also provides a hidden input with the hex value selected by the user\nto fallback to color picker to the default browser one if a problem happens. This component cannot be imported\ndirectly but can be overridden.\n\n**Import**\n_N.A._\n\n**Use**\n_N.A._\n\n**Props**\n@prop labelElement: HTMLLabelElement | undefined — DOM element of the label wrapper\n@prop hex: string | null — hex color\n@prop label: string — input label\n@prop name: string | undefined = undefined — input name, useful in a native form\n@prop dir: 'ltr' | 'rtl' — directionality left to right, or right to left\n-->\n<style>\n\tlabel {\n\t\tdisplay: inline-flex;\n\t\talign-items: center;\n\t\tgap: 8px;\n\t\tcursor: pointer;\n\t\tborder-radius: 3px;\n\t\tmargin: 4px;\n\t\theight: var(--input-size, 25px);\n\t\tuser-select: none;\n\t}\n\n\t.container {\n\t\tposition: relative;\n\t\tdisplay: block;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: var(--input-size, 25px);\n\t}\n\n\tinput {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tborder: none;\n\t\twidth: 1px;\n\t\theight: 1px;\n\t\tflex-shrink: 0;\n\t\topacity: 0;\n\t}\n\n\t.alpha {\n\t\tclip-path: circle(50%);\n\t\tbackground: var(--alpha-grid-bg);\n\t}\n\n\t.alpha,\n\t.color {\n\t\tposition: absolute;\n\t\twidth: var(--input-size, 25px);\n\t\theight: var(--input-size, 25px);\n\t\tborder-radius: 50%;\n\t\tuser-select: none;\n\t}\n\n\tinput:focus-visible ~ .color {\n\t\toutline: 2px solid var(--focus-color, red);\n\t\toutline-offset: 2px;\n\t}\n</style>\n","<script lang=\"ts\">\n\tinterface Props {\n\t\t/** DOM element of the wrapper element */\n\t\twrapper: HTMLElement | undefined;\n\t\t/** indicator of the popup state */\n\t\tisOpen: boolean;\n\t\t/** if set to true, the wrapper should have a dialog role and be absolute. It should be relative otherwise */\n\t\tisDialog: boolean;\n\t\t/** children */\n\t\tchildren: import('svelte').Snippet;\n\t}\n\n\tlet { wrapper = $bindable(), isOpen, isDialog, children }: Props = $props();\n</script>\n\n<div\n\tbind:this={wrapper}\n\tclass=\"wrapper\"\n\tclass:is-open={isOpen}\n\trole={isDialog ? 'dialog' : undefined}\n\taria-label=\"color picker\"\n>\n\t{@render children()}\n</div>\n\n<!-- \n@component Default variant wrapper\n\n**Import**\nthis component is the default variant and cannot be imported\n\n**Use**\nN.A.\n\n**Props**\n@prop wrapper: HTMLElement | undefined — DOM element of the wrapper element\n@prop isOpen: boolean — indicator of the popup state\n@prop isDialog: boolean — if set to true, the wrapper should have a dialog role and be absolute. It should be relative otherwise\n@prop children: import('svelte').Snippet — children\n-->\n<style>\n\tdiv {\n\t\tpadding: 8px;\n\t\tbackground-color: var(--cp-bg-color, white);\n\t\tmargin: 0 10px 10px;\n\t\tborder: 1px solid var(--cp-border-color, black);\n\t\tborder-radius: 12px;\n\t\tdisplay: none;\n\t\twidth: max-content;\n\t}\n\t.is-open {\n\t\tdisplay: inline-block;\n\t}\n\t[role='dialog'] {\n\t\tposition: absolute;\n\t\ttop: calc(var(--input-size, 25px) + 12px);\n\t\tleft: 0;\n\t\tz-index: var(--picker-z-index, 2);\n\t}\n</style>\n","export const defaultTexts = {\n    label: {\n        h: 'hue channel',\n        s: 'saturation channel',\n        v: 'brightness channel',\n        r: 'red channel',\n        g: 'green channel',\n        b: 'blue channel',\n        a: 'alpha channel',\n        hex: 'hex color',\n        withoutColor: 'without color'\n    },\n    color: {\n        rgb: 'rgb',\n        hsv: 'hsv',\n        hex: 'hex'\n    },\n    changeTo: 'change to '\n};\nexport const defaultA11yTexts = {\n    contrast: 'contrast :',\n    nbGradeSummary: (count) => count ? `⚠️ ${count} contrast grade${count && 's'} fail` : 'Contrast grade information',\n    guidelines: `Learn more at <a href=\"https://webaim.org/articles/contrast/\" target=\"_blank\">WebAIM contrast guide</a>`\n};\n","// list taken from https://github.com/nico3333fr/van11y-accessible-modal-tooltip-aria/blob/1a83366c65358222483be849fbb768c31cefaf4d/src/van11y-accessible-modal-tooltip-aria.es6.js#L47\nexport const FOCUSABLE_ELEMENTS = \"a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]\";\n// code adapted from https://gist.github.com/JulienPradet/20dbb7ca06cbd9e2ec499bb2206aab55#file-trapfocus-ts-L1-L44\nfunction trapFocusListener(trapFocusElement) {\n    return function (event) {\n        if (event.target === window) {\n            return;\n        }\n        const eventTarget = event.target;\n        if (!trapFocusElement.contains(eventTarget)) {\n            return;\n        }\n        const focusable = trapFocusElement.querySelectorAll(FOCUSABLE_ELEMENTS);\n        const first = focusable[0];\n        const last = focusable[focusable.length - 1];\n        function isNext(event) {\n            return event.code === 'Tab' && !event.shiftKey;\n        }\n        function isPrevious(event) {\n            return event.code === 'Tab' && event.shiftKey;\n        }\n        if (isNext(event) && event.target === last) {\n            event.preventDefault();\n            first.focus();\n        }\n        else if (isPrevious(event) && event.target === first) {\n            event.preventDefault();\n            last.focus();\n        }\n    };\n}\nexport const trapFocus = (node) => {\n    const first = node.querySelector(FOCUSABLE_ELEMENTS);\n    if (first)\n        first.focus();\n    const listener = trapFocusListener(node);\n    document.addEventListener('keydown', listener);\n    return {\n        destroy() {\n            document.removeEventListener('keydown', listener);\n        }\n    };\n};\n","<script lang=\"ts\">\n\timport type { Texts } from '../../../utils/texts.js';\n\n\tinterface Props {\n\t\t/** whether the color picker is undefined */\n\t\tisUndefined: boolean;\n\t\t/** all translation tokens used in the library; can be partially overridden; see [full object type](https://github.com/Ennoriel/svelte-awesome-color-picker/blob/master/src/lib/utils/texts.ts) */\n\t\ttexts: Texts;\n\t}\n\n\tlet { isUndefined = $bindable(), texts }: Props = $props();\n</script>\n\n<label class=\"nullability-checkbox\">\n\t<div>\n\t\t<input type=\"checkbox\" bind:checked={isUndefined} />\n\t\t<span></span>\n\t</div>\n\t{texts.label.withoutColor}\n</label>\n\n<style>\n\tlabel {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tmargin-bottom: 4px;\n\t\tgrid-area: nullable;\n\t\tuser-select: none;\n\t}\n\tinput {\n\t\tmargin: 0;\n\t}\n\tinput:focus-visible {\n\t\toutline: none;\n\t}\n\tinput:focus-visible + span {\n\t\twidth: 14px;\n\t\theight: 14px;\n\t\tborder-radius: 2px;\n\t\toutline: 2px solid var(--focus-color, red);\n\t\toutline-offset: 2px;\n\t}\n\n\tdiv {\n\t\twidth: 32px;\n\t\taspect-ratio: 2;\n\t\tposition: relative;\n\t}\n\tdiv * {\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { tick } from 'svelte';\n\timport { type RgbaColor, type HsvaColor, type Colord, colord } from 'colord';\n\timport Picker from './Picker.svelte';\n\timport { Slider } from 'svelte-awesome-slider';\n\timport PickerIndicator from './variant/default/PickerIndicator.svelte';\n\timport TextInput from './variant/default/TextInput.svelte';\n\timport Input from './variant/default/Input.svelte';\n\timport Wrapper from './variant/default/Wrapper.svelte';\n\timport type { A11yColor, Components } from '../type/types.js';\n\timport { defaultTexts, type TextsPartial, type A11yTextsPartial } from '../utils/texts.js';\n\timport { trapFocus, type Trap } from '../utils/trapFocus.js';\n\timport NullabilityCheckbox from './variant/default/NullabilityCheckbox.svelte';\n\n\tinterface Props {\n\t\t/** customize the ColorPicker component parts. Can be used to display a Chrome variant or an Accessibility Notice */\n\t\tcomponents?: Partial<Components>;\n\t\t/** input label, hidden when the ColorPicker is always shown (prop `isDialog={false}`) */\n\t\tlabel?: string;\n\t\t/** input name, useful in a native form */\n\t\tname?: string | undefined;\n\t\t/** if set to true, the color picker becomes nullable (rgb, hsv and hex set to undefined) */\n\t\tnullable?: boolean;\n\t\t/** rgb color */\n\t\trgb?: RgbaColor | null;\n\t\t/** hsv color */\n\t\thsv?: HsvaColor | null;\n\t\t/** hex color */\n\t\thex?: string | null;\n\t\t/** Colord color */\n\t\tcolor?: Colord | null;\n\t\t/** indicator whether the selected color is light or dark */\n\t\tisDark?: boolean;\n\t\t/** if set to false, disables the alpha channel */\n\t\tisAlpha?: boolean;\n\t\t/** if set to false, the input and the label will not be displayed and the ColorPicker will always be visible */\n\t\tisDialog?: boolean;\n\t\t/** indicator of the popup state */\n\t\tisOpen?: boolean;\n\t\t/** if set to \"responsive\", the popup will adjust its x and y position depending on the available window space, \"responsive-x\" and \"responsive-y\" limit the behavior to either the x or y axis */\n\t\tposition?: 'fixed' | 'responsive' | 'responsive-x' | 'responsive-y';\n\t\t/** directionality left to right, or right to left*/\n\t\tdir?: 'ltr' | 'rtl';\n\t\t/** if set to false, hide the hex, rgb and hsv text inputs */\n\t\tisTextInput?: boolean;\n\t\t/** configure which hex, rgb and hsv inputs will be visible and in which order. If overridden, it is necessary to provide at least one value */\n\t\ttextInputModes?: Array<'hex' | 'rgb' | 'hsv'>;\n\t\t/** If set to \"horizontal\", the hue and alpha sliders will be displayed horizontally. It is necessary to set this props to \"horizontal\" for the ChromeVariant */\n\t\tsliderDirection?: 'horizontal' | 'vertical';\n\t\t/** If set to true, it will not be possible to close the color picker by clicking outside */\n\t\tdisableCloseClickOutside?: boolean;\n\t\t/** used with the A11yVariant. Define the accessibility examples in the color picker */\n\t\ta11yColors?: Array<A11yColor>;\n\t\t/** required WCAG contrast level */\n\t\ta11yLevel?: 'AA' | 'AAA';\n\t\t/** all translation tokens used in the library; can be partially overridden; see [full object type](https://github.com/Ennoriel/svelte-awesome-color-picker/blob/master/src/lib/utils/texts.ts) */\n\t\ttexts?: TextsPartial | undefined;\n\t\t/** all a11y translation tokens used in the library; override with translations if necessary; see [full object type](https://github.com/Ennoriel/svelte-awesome-color-picker/blob/master/src/lib/utils/texts.ts) */\n\t\ta11yTexts?: A11yTextsPartial | undefined;\n\t\t/** listener, dispatch an event when the color changes */\n\t\tonInput?:\n\t\t\t| ((color: { hsv: HsvaColor | null; rgb: RgbaColor | null; hex: string | null; color: Colord | null }) => void)\n\t\t\t| undefined;\n\t}\n\n\tlet {\n\t\tcomponents = {},\n\t\tlabel = 'Choose a color',\n\t\tname = undefined,\n\t\tnullable = false,\n\t\trgb = $bindable<RgbaColor | null>(nullable ? null : { r: 255, g: 0, b: 0, a: 1 }),\n\t\thsv = $bindable<HsvaColor | null>(nullable ? null : { h: 0, s: 100, v: 100, a: 1 }),\n\t\thex = $bindable<string | null>(nullable ? null : '#ff0000'),\n\t\tcolor = $bindable(null),\n\t\tisDark = $bindable(false),\n\t\tisAlpha = true,\n\t\tisDialog = true,\n\t\tisOpen = $bindable(!isDialog),\n\t\tposition = 'responsive',\n\t\tdir = 'ltr',\n\t\tisTextInput = true,\n\t\ttextInputModes = ['hex', 'rgb', 'hsv'],\n\t\tsliderDirection = 'vertical',\n\t\tdisableCloseClickOutside = false,\n\t\ta11yColors = [{ bgHex: '#ffffff' }],\n\t\ta11yLevel = 'AA',\n\t\ttexts = undefined,\n\t\ta11yTexts = undefined,\n\t\tonInput\n\t}: Props = $props();\n\n\t/**\n\t * Internal old values to trigger color conversion\n\t */\n\tlet _rgb: RgbaColor = $state({ r: 255, g: 0, b: 0, a: 1 });\n\tlet _hsv: HsvaColor = $state({ h: 0, s: 100, v: 100, a: 1 });\n\tlet _hex: string = $state('#ff0000');\n\n\tlet isUndefined = $state(false);\n\t// svelte-ignore state_referenced_locally\n\tlet _isUndefined = $state(isUndefined);\n\n\tlet spanElement: HTMLSpanElement | undefined = $state();\n\tlet labelElement: HTMLLabelElement | undefined = $state();\n\tlet wrapper: HTMLElement | undefined = $state();\n\n\tlet trap: Trap | undefined = undefined;\n\n\tlet innerWidth: number = $state(1080);\n\tlet innerHeight: number = $state(720);\n\tconst wrapperPadding: number = 12;\n\n\tconst default_components: Components = {\n\t\tpickerIndicator: PickerIndicator,\n\t\ttextInput: TextInput,\n\t\tinput: Input,\n\t\tnullabilityCheckbox: NullabilityCheckbox,\n\t\twrapper: Wrapper\n\t};\n\n\tfunction getComponents() {\n\t\treturn {\n\t\t\t...default_components,\n\t\t\t...components\n\t\t};\n\t}\n\n\tfunction getTexts() {\n\t\treturn {\n\t\t\tlabel: {\n\t\t\t\t...defaultTexts.label,\n\t\t\t\t...texts?.label\n\t\t\t},\n\t\t\tcolor: {\n\t\t\t\t...defaultTexts.color,\n\t\t\t\t...texts?.color\n\t\t\t},\n\t\t\tchangeTo: texts?.changeTo ?? defaultTexts.changeTo\n\t\t};\n\t}\n\n\tfunction mousedown({ target }: MouseEvent) {\n\t\tif (isDialog) {\n\t\t\tif (labelElement?.contains(target as Node) || labelElement?.isSameNode(target as Node)) {\n\t\t\t\tisOpen = !isOpen;\n\t\t\t} else if (isOpen && !wrapper?.contains(target as Node) && !disableCloseClickOutside) {\n\t\t\t\tisOpen = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction keyup({ key, target }: KeyboardEvent) {\n\t\tif (!isDialog || !labelElement || !spanElement) {\n\t\t\treturn;\n\t\t} else if (key === 'Enter' && labelElement.contains(target as Node)) {\n\t\t\tisOpen = !isOpen;\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (wrapper) trap = trapFocus(wrapper);\n\t\t\t});\n\t\t} else if (key === 'Escape' && isOpen) {\n\t\t\tisOpen = false;\n\t\t\tif (spanElement.contains(target as Node)) {\n\t\t\t\tlabelElement?.focus();\n\t\t\t\ttrap?.destroy();\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hasColorChanged() {\n\t\treturn !(\n\t\t\thsv &&\n\t\t\trgb &&\n\t\t\thsv.h === _hsv.h &&\n\t\t\thsv.s === _hsv.s &&\n\t\t\thsv.v === _hsv.v &&\n\t\t\thsv.a === _hsv.a &&\n\t\t\trgb.r === _rgb.r &&\n\t\t\trgb.g === _rgb.g &&\n\t\t\trgb.b === _rgb.b &&\n\t\t\trgb.a === _rgb.a &&\n\t\t\thex === _hex\n\t\t);\n\t}\n\n\t/**\n\t * using a function seems to trigger the exported value change only once when all of them has been updated\n\t * and not just after the hsv change\n\t */\n\tfunction updateColor() {\n\t\tif (isUndefined && !_isUndefined) {\n\t\t\t_isUndefined = true;\n\t\t\thsv = null;\n\t\t\trgb = null;\n\t\t\thex = null;\n\t\t\tonInput?.({ color, hsv, rgb, hex });\n\t\t\treturn;\n\t\t} else if (_isUndefined && !isUndefined) {\n\t\t\t_isUndefined = false;\n\t\t\thsv = $state.snapshot(_hsv);\n\t\t\trgb = $state.snapshot(_rgb);\n\t\t\thex = $state.snapshot(_hex);\n\t\t\tonInput?.({ color, hsv, rgb, hex });\n\t\t\treturn;\n\t\t} else if (!hsv && !rgb && !hex) {\n\t\t\tisUndefined = _isUndefined = true;\n\t\t\tonInput?.({ color: null, hsv, rgb, hex });\n\t\t\treturn;\n\t\t} else if (!hasColorChanged()) {\n\t\t\treturn;\n\t\t}\n\n\t\tisUndefined = false;\n\n\t\t// reinitialize empty alpha values\n\t\tif (hsv && hsv.a === undefined) hsv = { ...hsv, a: 1 };\n\t\tif (_hsv.a === undefined) _hsv = { ..._hsv, a: 1 };\n\t\tif (rgb && rgb.a === undefined) rgb = { ...rgb, a: 1 };\n\t\tif (_rgb.a === undefined) _rgb = { ..._rgb, a: 1 };\n\t\tif (hex?.substring(7) === 'ff') hex = hex.substring(0, 7);\n\t\tif (_hex?.substring(7) === 'ff') _hex = _hex.substring(0, 7);\n\n\t\t// triggers color computation from the color that changed or if it is the only color defined\n\t\tif (hsv && (hsv.h !== _hsv.h || hsv.s !== _hsv.s || hsv.v !== _hsv.v || hsv.a !== _hsv.a || (!rgb && !hex))) {\n\t\t\tcolor = colord(hsv);\n\t\t\trgb = color.toRgb();\n\t\t\thex = color.toHex();\n\t\t} else if (\n\t\t\trgb &&\n\t\t\t(rgb.r !== _rgb.r || rgb.g !== _rgb.g || rgb.b !== _rgb.b || rgb.a !== _rgb.a || (!hsv && !hex))\n\t\t) {\n\t\t\tcolor = colord(rgb);\n\t\t\thex = color.toHex();\n\t\t\thsv = color.toHsv();\n\t\t} else if (hex && (hex !== _hex || (!hsv && !rgb))) {\n\t\t\tcolor = colord(hex);\n\t\t\trgb = color.toRgb();\n\t\t\thsv = color.toHsv();\n\t\t}\n\n\t\tif (color) {\n\t\t\tisDark = color.isDark();\n\t\t}\n\n\t\tif (!hex || !hsv || !rgb) return;\n\n\t\t// update old colors\n\t\t_hsv = $state.snapshot(hsv);\n\t\t_rgb = $state.snapshot(rgb);\n\t\t_hex = hex;\n\t\t_isUndefined = isUndefined;\n\n\t\tonInput?.({ color, hsv, rgb, hex });\n\t}\n\n\t$effect(() => {\n\t\tif (hsv || rgb || hex) updateColor();\n\t});\n\n\t$effect(() => {\n\t\tisUndefined;\n\t\tupdateColor();\n\t});\n\n\tfunction updateLetter(letter: 'h' | 'a') {\n\t\treturn (letterValue: number) => {\n\t\t\tif (!hsv) {\n\t\t\t\tisUndefined = false;\n\t\t\t\t_isUndefined = false;\n\t\t\t\thsv = $state.snapshot(_hsv);\n\t\t\t}\n\t\t\thsv = {\n\t\t\t\t...hsv,\n\t\t\t\t[letter]: letterValue\n\t\t\t};\n\t\t};\n\t}\n\n\tfunction updateLetters<T extends Array<'h' | 's' | 'v'>>(letters: T) {\n\t\treturn (color: Pick<HsvaColor, T[number]>) => {\n\t\t\tif (!hsv) {\n\t\t\t\tisUndefined = false;\n\t\t\t\t_isUndefined = false;\n\t\t\t\thsv = $state.snapshot(_hsv);\n\t\t\t}\n\t\t\thsv = {\n\t\t\t\t...hsv,\n\t\t\t\t...Object.fromEntries(letters.map((letter: T[number]) => [letter, color[letter]]))\n\t\t\t};\n\t\t};\n\t}\n\n\tasync function wrapperBoundaryCheck() {\n\t\tawait tick();\n\n\t\tif (position === 'fixed' || !isOpen || !isDialog || !labelElement || !wrapper) return;\n\n\t\tconst wrapperRect = wrapper.getBoundingClientRect();\n\t\tconst labelRect = labelElement.getBoundingClientRect();\n\n\t\tif (position === 'responsive' || position === 'responsive-y') {\n\t\t\tconst isWrapperToLow = labelRect.top + wrapperRect.height + wrapperPadding > innerHeight;\n\t\t\tif (isWrapperToLow) {\n\t\t\t\twrapper.style.top = `-${wrapperRect.height + wrapperPadding}px`;\n\t\t\t} else {\n\t\t\t\twrapper.style.top = `${labelRect.height + wrapperPadding}px`;\n\t\t\t}\n\t\t}\n\n\t\tif (position === 'responsive' || position === 'responsive-x') {\n\t\t\tif (dir === 'rtl') {\n\t\t\t\tconst isWrapperToLeft = labelRect.left + labelRect.width - wrapperRect.width < 0;\n\t\t\t\tconsole.log(isWrapperToLeft, labelRect.left - wrapperRect.width, labelRect.left, wrapperRect.width);\n\t\t\t\tif (isWrapperToLeft) {\n\t\t\t\t\twrapper.style.left = `0px`;\n\t\t\t\t} else {\n\t\t\t\t\twrapper.style.left = `${labelRect.width - wrapperRect.width}px`;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst isWrapperToRight = labelRect.left + wrapperRect.width > innerWidth;\n\t\t\t\tif (isWrapperToRight) {\n\t\t\t\t\twrapper.style.left = `${labelRect.width - wrapperRect.width}px`;\n\t\t\t\t} else {\n\t\t\t\t\twrapper.style.left = `0px`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t$effect(() => {\n\t\tif (innerWidth && innerHeight && isOpen) wrapperBoundaryCheck();\n\t});\n\n\tconst CPComponents = $derived(getComponents());\n</script>\n\n<svelte:window\n\tonmousedown={mousedown}\n\tonkeyup={keyup}\n\tonscroll={wrapperBoundaryCheck}\n\tbind:innerWidth\n\tbind:innerHeight\n/>\n\n<span bind:this={spanElement} class=\"color-picker {sliderDirection}\">\n\t{#if isDialog}\n\t\t<CPComponents.input bind:labelElement {hex} {label} {name} {dir} />\n\t{:else if name}\n\t\t<input type=\"hidden\" value={hex} {name} />\n\t{/if}\n\t<CPComponents.wrapper bind:wrapper {isOpen} {isDialog}>\n\t\t{#if nullable}\n\t\t\t<CPComponents.nullabilityCheckbox bind:isUndefined texts={getTexts()} />\n\t\t{/if}\n\t\t<Picker\n\t\t\tcomponents={getComponents()}\n\t\t\th={hsv?.h ?? _hsv.h}\n\t\t\ts={hsv?.s ?? _hsv.s}\n\t\t\tv={hsv?.v ?? _hsv.v}\n\t\t\tonInput={updateLetters(['s', 'v'])}\n\t\t\t{isDark}\n\t\t\ttexts={getTexts()}\n\t\t/>\n\t\t<div class=\"h\">\n\t\t\t<Slider\n\t\t\t\tmin={0}\n\t\t\t\tmax={360}\n\t\t\t\tstep={1}\n\t\t\t\tvalue={hsv?.h ?? _hsv.h}\n\t\t\t\tonInput={updateLetter('h')}\n\t\t\t\tdirection={sliderDirection}\n\t\t\t\treverse={sliderDirection === 'vertical'}\n\t\t\t\tariaLabel={getTexts().label.h}\n\t\t\t/>\n\t\t</div>\n\t\t{#if isAlpha}\n\t\t\t<div class=\"a\" style:--alphaless-color={(hex ? hex : _hex).substring(0, 7)}>\n\t\t\t\t<Slider\n\t\t\t\t\tmin={0}\n\t\t\t\t\tmax={1}\n\t\t\t\t\tstep={0.01}\n\t\t\t\t\tvalue={hsv?.a ?? _hsv.a}\n\t\t\t\t\tonInput={updateLetter('a')}\n\t\t\t\t\tdirection={sliderDirection}\n\t\t\t\t\treverse={sliderDirection === 'vertical'}\n\t\t\t\t\tariaLabel={getTexts().label.a}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t{/if}\n\t\t{#if isTextInput}\n\t\t\t<CPComponents.textInput\n\t\t\t\thex={hex ?? _hex}\n\t\t\t\trgb={rgb ?? _rgb}\n\t\t\t\thsv={hsv ?? _hsv}\n\t\t\t\tonInput={(color) => {\n\t\t\t\t\tif (color.hsv) {\n\t\t\t\t\t\thsv = color.hsv;\n\t\t\t\t\t} else if (color.rgb) {\n\t\t\t\t\t\trgb = color.rgb;\n\t\t\t\t\t} else if (color.hex) {\n\t\t\t\t\t\thex = color.hex;\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\t{isAlpha}\n\t\t\t\t{textInputModes}\n\t\t\t\ttexts={getTexts()}\n\t\t\t/>\n\t\t{/if}\n\t\t{#if getComponents().a11yNotice}\n\t\t\t<CPComponents.a11yNotice\n\t\t\t\tcomponents={getComponents()}\n\t\t\t\t{a11yColors}\n\t\t\t\thex={hex || '#00000000'}\n\t\t\t\t{a11yTexts}\n\t\t\t\t{a11yLevel}\n\t\t\t/>\n\t\t{/if}\n\t</CPComponents.wrapper>\n</span>\n\n<!-- \n@component Color Picker Component — default export of the library\n\n**Import**\n```js\nimport ColorPicker from 'svelte-awesome-color-picker';\n```\n\n**Use**\n```svelte\n<ColorPicker bind:hex />\n```\n\n**Props**\n@prop components: Partial&lt;Components&gt; = {} — customize the ColorPicker component parts. Can be used to display a Chrome variant or an Accessibility Notice\n@prop label: string = 'Choose a color' — input label, hidden when the ColorPicker is always shown (prop `isDialog={false}`)\n@prop name: string | undefined = undefined — input name, useful in a native form\n@prop nullable: boolean = false — if set to true, the color picker becomes nullable (rgb, hsv and hex set to undefined)\n@prop rgb: RgbaColor | null — rgb color\n@prop hsv: HsvaColor | null — hsv color\n@prop hex: string | null — hex color\n@prop color: Colord | null = null — Colord color\n@prop isDark: boolean = false — indicator whether the selected color is light or dark\n@prop isAlpha: boolean = true — if set to false, disables the alpha channel\n@prop isDialog: boolean = true — if set to false, the input and the label will not be displayed and the ColorPicker will always be visible\n@prop isOpen: boolean = !isDialog — indicator of the popup state\n@prop position: 'fixed' | 'responsive' | 'responsive-x' | 'responsive-y' = 'responsive' — if set to \"responsive\", the popup will adjust its x and y position depending on the available window space, \"responsive-x\" and \"responsive-y\" limit the behavior to either the x or y axis\n@prop dir: 'ltr' | 'rtl' = 'ltr' — directionality left to right, or right to left\n@prop isTextInput: boolean = true — if set to false, hide the hex, rgb and hsv text inputs\n@prop textInputModes: Array&lt;'hex' | 'rgb' | 'hsv'&gt; = ['hex', 'rgb', 'hsv'] — configure which hex, rgb and hsv inputs will be visible and in which order. If overridden, it is necessary to provide at least one value\n@prop sliderDirection: 'horizontal' | 'vertical' = 'vertical' — If set to \"horizontal\", the hue and alpha sliders will be displayed horizontally. It is necessary to set this props to \"horizontal\" for the ChromeVariant\n@prop disableCloseClickOutside: boolean = false — If set to true, it will not be possible to close the color picker by clicking outside\n@prop a11yColors: Array&lt;A11yColor&gt; = [{ bgHex: '#ffffff' }] — used with the A11yVariant. Define the accessibility examples in the color picker\n@prop a11yLevel: 'AA' | 'AAA' = 'AA' — required WCAG contrast level\n@prop texts: TextsPartial | undefined = undefined — all translation tokens used in the library; can be partially overridden; see [full object type](https://github.com/Ennoriel/svelte-awesome-color-picker/blob/master/src/lib/utils/texts.ts)\n@prop a11yTexts: A11yTextsPartial | undefined = undefined — all a11y translation tokens used in the library; override with translations if necessary; see [full object type](https://github.com/Ennoriel/svelte-awesome-color-picker/blob/master/src/lib/utils/texts.ts)\n@prop onInput: ((color: { hsv: HsvaColor | null; rgb: RgbaColor | null; hex: string | null; color: Colord | null }) =&gt; void) | undefined — listener, dispatch an event when the color changes\n-->\n<style>\n\tspan {\n\t\tposition: relative;\n\t\tcolor: var(--cp-text-color, var(--cp-border-color));\n\n\t\t--alpha-grid-bg:\n\t\t\tlinear-gradient(45deg, #eee 25%, #0000 25%, #0000 75%, #eee 75%) 0 0 / 10px 10px,\n\t\t\tlinear-gradient(45deg, #eee 25%, #0000 25%, #0000 75%, #eee 75%) 5px 5px / 10px 10px;\n\t}\n\n\t.h,\n\t.a {\n\t\tdisplay: inline-flex;\n\t\tjustify-content: center;\n\t\t--track-height: var(--slider-width, 10px);\n\t\t--track-width: var(--picker-height, 200px);\n\t\t--track-border: none;\n\t\t--thumb-size: calc(var(--slider-width, 10px) - 3px);\n\t\t--thumb-background: white;\n\t\t--thumb-border: 1px solid black;\n\t\t--margin-block: 0;\n\n\t\t--gradient-direction: 0.5turn;\n\t}\n\t.horizontal .h,\n\t.horizontal .a {\n\t\t--track-width: calc(var(--picker-width, 200px) - 12px);\n\n\t\t--gradient-direction: 0.25turn;\n\t\tmargin: 4px 6px;\n\t}\n\t.horizontal .h {\n\t\tmargin-top: 8px;\n\t}\n\t.vertical .h,\n\t.vertical .a {\n\t\tmargin-left: 3px;\n\t}\n\n\t.h {\n\t\tgrid-area: hue;\n\n\t\t--gradient-hue:\n\t\t\t#ff1500fb, #ffff00 17.2%, #ffff00 18.2%, #00ff00 33.3%, #00ffff 49.5%, #00ffff 51.5%, #0000ff 67.7%,\n\t\t\t#ff00ff 83.3%, #ff0000;\n\t\t--track-background: linear-gradient(var(--gradient-direction), var(--gradient-hue));\n\t}\n\n\t.a {\n\t\tgrid-area: alpha;\n\t\tmargin-top: 2px;\n\n\t\t/* redefine css variable as it may not be available in case of a portal */\n\t\t--alpha-grid-bg:\n\t\t\tlinear-gradient(45deg, #eee 25%, #0000 25%, #0000 75%, #eee 75%) 0 0 / 10px 10px,\n\t\t\tlinear-gradient(45deg, #eee 25%, #0000 25%, #0000 75%, #eee 75%) 5px 5px / 10px 10px;\n\n\t\t--track-background:\n\t\t\tlinear-gradient(var(--gradient-direction), rgba(0, 0, 0, 0), var(--alphaless-color)), var(--alpha-grid-bg);\n\t}\n\n\tspan :global(.sr-only) {\n\t\tposition: absolute;\n\t\twidth: 1px;\n\t\theight: 1px;\n\t\tpadding: 0;\n\t\tmargin: -1px;\n\t\toverflow: hidden;\n\t\tclip: rect(0, 0, 0, 0);\n\t\twhite-space: nowrap;\n\t\tborder-width: 0;\n\t}\n</style>\n","<script lang=\"ts\">\r\n  interface Props {\r\n\t\t/** DOM element of the label wrapper */\r\n\t\tlabelElement: HTMLLabelElement | undefined;\r\n\t\t/** hex color */\r\n\t\thex: string | null;\r\n\t\t/** input label */\r\n\t\tlabel: string;\r\n\t\t/** input name, useful in a native form */\r\n\t\tname?: string | undefined;\r\n\t\t/** directionality left to right, or right to left*/\r\n\t\tdir: 'ltr' | 'rtl';\r\n\t}\r\n\r\n\tlet { labelElement = $bindable(), hex, label, name = undefined, dir }: Props = $props();\r\n\r\n</script>\r\n\r\n<label\r\n  bind:this={labelElement}\r\n  aria-label={label}\r\n  dir={dir}\r\n  class=\"btn inline-flex items-center gap-1 cursor-pointer select-none\"\r\n  title={label}\r\n>\r\n  <span class=\"material-symbols-outlined\">colors</span>\r\n  <input type=\"hidden\" {name} value={hex ?? ''} />\r\n</label>\r\n","<script lang=\"ts\">\r\n  interface Props {\r\n    wrapper: HTMLElement | undefined;\r\n    isOpen: boolean;\r\n    isDialog: boolean;\r\n    children: import('svelte').Snippet;\r\n  }\r\n  let { wrapper = $bindable(), isOpen, isDialog, children }: Props = $props();\r\n</script>\r\n\r\n<div\r\n  bind:this={wrapper}\r\n  role={isDialog ? 'dialog' : undefined}\r\n  aria-label=\"color picker\"\r\n  class={`w-max rounded border p-2  overflow-visible\r\n          ${isOpen ? 'inline-block' : 'hidden'}\r\n          ${isDialog ? 'absolute -mt-2.5 -ml-0.5 z-20' : 'relative'}\r\n          bg-[var(--cp-bg-color)] border-[var(--cp-border-color,black)]`}\r\n>\r\n  {@render children()}\r\n</div>\r\n","<script lang=\"ts\">\n  import { onMount } from \"svelte\";\n  import { SvelteMap } from 'svelte/reactivity';\n  import { \n    getParent, humanTime, humanCount, humanBytes, getOptimalColors, COLORS,\n  } from \"../ts/util\";\n  import { api } from \"../ts/api.svelte\";\n  import { API_URL, State } from \"../ts/store.svelte\";\n  import Svelecte, { addRenderer } from 'svelecte';\n  import ColorPicker from 'svelte-awesome-color-picker';\n  import PickerButton from '../lib/PickerButton.svelte';\n  import PickerWrapper from '../lib/PickerWrapper.svelte';\n  //import PickerIndicator from '../lib/PickerIndicator.svelte';\n\n  //#region state\n  let allColors: string[] = []\n  let path = $state('/');\n  let fullPath = $state('/');\n  let folders = $state<FolderItem[]>([]);\n  let files = $state<ScannedFile[]>([]);\n  let loading = $state(false);\n  let initializing = $state(false);\n  let progress_current = $state(0);\n  let progress_total = $state(0);\n  let progress_percent = $state(0);\n  let history = $state<string[]>(['/']);\n  let histIdx = $state(0);\n  type SortKey = \"disk\" | \"count\";\n  let sortBy = $state<SortKey>(\"disk\");\n  let sortOpen = $state(false);\n  let selectedUser = $state(\"All Users\");\n  let selectedUserColor = $state('#353599')\n  let users = $state<string[]>([]);\n  let userColors = $state(new SvelteMap<string, string>()); // cache: username -> color\n  let userDropdown = $state<{user:string;color:string}[]>([]);\n  let pathInput = $state();\n  let isEditing = $state(false);\n\n  //#endregion\n\n  //#region colors\n\n  function colorRenderer(item, _isSelection, _inputValue) {\n    const icon_base = \"width:16px;height:16px;border:1px solid gray;border-radius:3px;flex:none;\";\n    const a = COLORS[0];\n    const b = COLORS[1] ?? a;\n    const c = COLORS[2] ?? b;\n    const d = COLORS[3] ?? c;\n\n    const icon_bg =\n      item.user === \"All Users\"\n        ? `linear-gradient(90deg, ${a} 0%, ${b} 33%, ${c} 66%, ${d} 100%)`\n        : _isSelection ? selectedUserColor : item.color;\n    const user_css = !State.isAdmin ? \"text-gray-400\" : ''\n    return `<div class=\"flex gap-2 items-center\">\n                <div class=\"border border-gray-500 rounded\"\n                    style=\"${icon_base} background: ${icon_bg};\">\n                </div>\n                <div class=\"${user_css}\">${item.user}</div>              \n            </div>`    \n  }\n  addRenderer('color', colorRenderer);\n\n  // Seed colors for known users (optional)\n  function createUserDropdown(usernames: string[]) {\n    usernames.forEach((uname, index) => {\n      if (!userColors.has(uname)) {\n        userColors.set(uname, allColors[index % allColors.length]);\n      }\n    })\n    userColors.set('All Users', '')\n    userDropdown = Array.from(userColors.entries()).map(([user, color]) => ({user,color}))\n  }\n\n  // Deterministic color for any username (stable + cached)\n  // function colorForUsername(uname: string): string {\n  //   const cached = userColors.get(uname);\n  //   if (cached) return cached;\n  //   let h = 0;\n  //   for (let i = 0; i < uname.length; i++) {\n  //     h = (h * 31 + uname.charCodeAt(i)) >>> 0;\n  //   }\n  //   const color = allColors[h % allColors.length];\n  //   userColors.set(uname, color);\n  //   return color;\n  // }\n  //#endregion\n\n  //#region types\n  type Age = {\n    count: number;\n    disk: number;  // bytes\n    atime: number; // unix seconds\n    mtime: number; // unix seconds\n  }\n  type RawFolder = {\n    path: string;\n    // username -> \"0\"/\"1\"/\"2\" -> Age\n    users: Record<string, Record<string, Age>>;\n  }\n  type UserStatsJson = {\n    username: string;\n    count: number;\n    disk: number; // bytes\n    atime: number;\n    mtime: number;\n  }\n  type FolderItem = {\n    path: string;\n    total_count: number;\n    total_disk: number; // bytes\n    accessed: number;   // unix time\n    modified: number;   // unix time\n    users: Record<string, UserStatsJson>; // keyed by username (aggregated across ages)\n  }\n  // Scanned file from /api/files\n  type ScannedFile = {\n    path: string;\n    size: number;      // bytes\n    accessed: number;  // unix\n    modified: number;  // unix\n    owner: string;     // username\n  }\n  //#endregion\n\n  //#region age filter\n  type AgeFilter = -1 | 0 | 1 | 2;\n  let ageFilter = $state<AgeFilter>(-1);\n  let ageOpen = $state(false);\n  const AGE_LABELS: Record<AgeFilter, string> = {\n    '-1': \"Any Time\",\n    0: \"Recent\",\n    1: \"Not too old\",\n    2: \"Old files\",\n  }\n\n  function displayAgeLabel(a: AgeFilter) { \n    return AGE_LABELS[a]; \n  }\n\n  function chooseAge(a: AgeFilter) {\n    ageFilter = a;\n    ageOpen = false;\n    refresh();\n  }\n  //#endregion\n\n  //#region tooltip\n  type Tip = {\n    show: boolean;\n    x: number;\n    y: number;\n    username?: string;\n    value?: string;\n    percent?: number;\n  }\n  let tip = $state<Tip>({ show: false, x: 0, y: 0 });\n\n  let bubbleEl: HTMLDivElement | null = $state(null);\n  const MARGIN = 8;\n  const ARROW_GAP = 10;\n\n  function clampToViewport(rawX: number, rawY: number) {\n    const ww = window.innerWidth;\n    const wh = window.innerHeight;\n\n    const w = bubbleEl?.offsetWidth ?? 200;\n    const h = bubbleEl?.offsetHeight ?? 60;\n\n    const halfW = w / 2;\n\n    const minX = MARGIN + halfW;\n    const maxX = ww - MARGIN - halfW;\n\n    const minY = MARGIN + h + ARROW_GAP;\n    const maxY = wh - MARGIN;\n\n    return {\n      x: Math.min(maxX, Math.max(minX, rawX)),\n      y: Math.min(maxY, Math.max(minY, rawY)),\n    };\n  }\n\n  function showTip(e: MouseEvent, userData: UserStatsJson, percent: number) {\n    cancelHide(); // keep it open while interacting\n    const { x, y } = clampToViewport(e.clientX, e.clientY);\n    tip = {\n      show: true,\n      x,\n      y,\n      username: userData.username,\n      value: rightValueUser(userData),\n      percent: Math.round(percent * 10) / 10,\n    };\n  }\n  function moveTip(e: MouseEvent) {\n    if (!tip.show) return;\n    cancelHide(); // moving over the target keeps it alive\n    const { x, y } = clampToViewport(e.clientX, e.clientY);\n    tip = { ...tip, x, y };\n  }\n  function hideTip() {\n    cancelHide();\n    tip = { show: false, x: 0, y: 0 };\n  }\n\n  const HIDE_DELAY = 1200; // ms — tweak to taste\n  let hideTimer: number | null = $state(null);\n\n  function scheduleHide(ms = HIDE_DELAY) {\n    if (hideTimer) clearTimeout(hideTimer);\n    hideTimer = window.setTimeout(() => {\n      tip = { show: false, x: 0, y: 0 };\n      hideTimer = null;\n    }, ms);\n  }\n\n  function cancelHide() {\n    if (hideTimer) {\n      clearTimeout(hideTimer);\n      hideTimer = null;\n    }\n  }\n  //#endregion\n\n  //#region folders and files bars\n\n  function transformFolders(raw: RawFolder[], filter: AgeFilter): FolderItem[] {\n    // Ages to include\n    const ages: string[] = filter === -1 ? [\"0\",\"1\",\"2\"] : [String(filter)];\n\n    return (raw ?? [])\n      .map((rf) => {\n        const usersAgg: Record<string, UserStatsJson> = {};\n        let total_count = 0;\n        let total_disk  = 0;\n        let max_atime   = 0;\n        let max_mtime   = 0;\n\n        const userEntries = Object.entries(rf.users ?? {});\n        for (const [uname, agesMap] of userEntries) {\n          let u_count = 0, u_disk = 0, u_atime = 0, u_mtime = 0;\n\n          for (const a of ages) {\n            const s = agesMap?.[a];\n            if (!s) \n              continue;\n            // coerce defensively\n            const c = Number(s.count ?? 0);\n            const dk = Number(s.disk ?? 0);\n            const at = Number(s.mtime ?? 0);\n            const mt = Number(s.mtime ?? 0);\n\n            u_count += Number.isFinite(c) ? c : 0;\n            u_disk  += Number.isFinite(dk) ? dk : 0;\n            if (Number.isFinite(at) && at > u_atime) \n              u_atime = at;\n            if (Number.isFinite(mt) && mt > u_mtime) \n              u_mtime = mt;\n          }\n\n          if (u_count || u_disk) {\n            usersAgg[uname] = {\n              username: uname,\n              count: u_count,\n              disk:  u_disk,\n              atime: u_atime,\n              mtime: u_mtime,\n            };\n            total_count += u_count;\n            total_disk  += u_disk;\n            if (u_atime > max_atime) \n              max_atime = u_atime;\n            if (u_mtime > max_mtime) \n              max_mtime = u_mtime;\n          }\n        }\n\n        return {\n          path: rf.path,\n          total_count,\n          total_disk,\n          accessed: max_atime,\n          modified: max_mtime,\n          users: usersAgg,\n        };\n      })\n      // hide folders with no data after filter\n      .filter(f => Object.keys(f.users).length > 0);\n  }\n  const toNum = (v: any) => {\n    const n = Number(v);\n    return Number.isFinite(n) ? n : 0;\n  }\n  // ---------- Sorting (Folders) ----------\n  const sortedFolders = $derived.by(() => {\n    const key = sortBy;\n    const arr = folders ? [...folders] : [];\n    return arr.sort((a: any, b: any) => {\n      let aVal, bVal;\n      switch (key) {\n        case \"disk\":\n          aVal = toNum(a?.total_disk);\n          bVal = toNum(b?.total_disk);\n          break;\n        case \"count\":\n          aVal = toNum(a?.total_count);\n          bVal = toNum(b?.total_count);\n          break;\n      }\n      return bVal - aVal;\n    });\n  })\n  // Folder progress bar max\n  let maxMetric = $derived.by(() => {\n    const key = sortBy;\n    const vals =\n      folders?.map((f) => {\n        switch (key) {\n          case \"disk\":\n            return toNum(f?.total_disk);\n          case \"count\":\n            return toNum(f?.total_count);\n        }\n      }) ?? [];\n    const max = Math.max(0, ...vals);\n    return max > 0 ? max : 1;\n  })\n  const pct = (n: any) => {\n    const x = toNum(n);\n    const p = (x / maxMetric) * 100;\n    const clamped = Math.max(0, Math.min(100, p));\n    return Math.round(clamped * 10) / 10;\n  }\n  const displaySortBy = (key: string) => {\n    switch (key) {\n      case \"disk\":\n        return 'Disk Usage'\n      case \"count\":\n        return 'Total Files'\n      default:\n        return 'Disk Usage'\n    }\n  }\n  function clickOutside(\n    node: HTMLElement,\n    cb: (() => void) | { close: () => void }\n  ) {\n    let close: (() => void) | undefined =\n      typeof cb === \"function\" ? cb : cb?.close;\n\n    const onPointerDown = (e: PointerEvent) => {\n      if (!node.contains(e.target as Node)) close?.();\n    };\n\n    const onKeyDown = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\" || e.key === \"Esc\") close?.();\n    };\n\n    document.addEventListener(\"pointerdown\", onPointerDown, true);\n    document.addEventListener(\"keydown\", onKeyDown, true);\n\n    return {\n      update(next: typeof cb) {\n        close = typeof next === \"function\" ? next : next?.close;\n      },\n      destroy() {\n        document.removeEventListener(\"pointerdown\", onPointerDown, true);\n        document.removeEventListener(\"keydown\", onKeyDown, true);\n      },\n    };\n  }\n  const metricValue = (file: FolderItem) => {\n    switch (sortBy) {\n      case \"disk\":\n        return toNum(file?.total_disk);\n      case \"count\":\n        return toNum(file?.total_count);\n    }\n  }\n  // Right label (folders) – sizes already in BYTES\n  function rightValueFolder(folder: FolderItem) {\n    switch (sortBy) {\n      case \"disk\":\n        return humanBytes(toNum(folder?.total_disk));\n      case \"count\":\n        return `${humanCount(toNum(folder?.total_count))} Files`;\n    }\n  }\n  function bottomValueFolder(folder: FolderItem) {\n    switch (sortBy) {\n      case \"disk\":\n        return `${humanCount(toNum(folder?.total_count))} Files`;  \n      case \"count\":\n        return humanBytes(toNum(folder?.total_disk));  \n    }\n  }\n  function rightValueFile(f: ScannedFile) {\n    switch (sortBy) {\n      case \"disk\":\n        return humanBytes(toNum(f.size)); // bytes\n      case \"count\":\n        return \"1\";\n    }\n  }\n  // Per-user right label – sizes already in BYTES\n  function rightValueUser(userData: UserStatsJson) {\n    switch (sortBy) {\n      case \"disk\":\n        return humanBytes(toNum(userData?.disk));\n      case \"count\":\n        return humanCount(toNum(userData?.count));\n    }\n  }\n  const userMetricFor = (ud: UserStatsJson) => sortBy === \"disk\" ? Number(ud.disk) : Number(ud.count);\n  function sortedUserEntries(file: FolderItem) {\n    return Object.entries(file?.users ?? {}).sort(([, a], [, b]) => userMetricFor(a) - userMetricFor(b));\n  }\n\n  function aggregatePathTotals(foldersArr: FolderItem[], filesArr: ScannedFile[], p: string): FolderItem {\n    let total_count = 0;\n    let total_disk = 0;\n    let accessed = 0; \n    let modified = 0; \n    const aggUsers: Record<string, UserStatsJson> = {};\n\n    // Aggregate folders (existing logic)\n    for (const f of foldersArr ?? []) {\n      total_count += toNum(f?.total_count);\n      total_disk  += toNum(f?.total_disk);\n      if (f.accessed > accessed) \n        accessed = f.accessed;\n      if (f.modified > modified) \n        modified = f.modified;\n      \n      const u = f?.users ?? {};\n      for (const [uname, data] of Object.entries(u)) {\n        const d = data as UserStatsJson;\n        const prev = aggUsers[uname] ?? { \n          username: uname, count: 0, disk: 0, atime: 0, mtime: 0 };\n        aggUsers[uname] = {\n          username: uname,\n          count: prev.count + toNum(d.count),\n          disk:  prev.disk  + toNum(d.disk),\n          atime: Math.max(prev.atime, toNum(d.atime)),\n          mtime: Math.max(prev.mtime, toNum(d.mtime)),\n        };\n      }\n    }\n\n    // Aggregate files (new logic)\n    for (const file of filesArr ?? []) {\n      total_count += 1;  // Each file counts as 1\n      total_disk += toNum(file?.size);\n      if (file.accessed > accessed) \n        accessed = file.accessed;\n      if (file.modified > modified) \n        modified = file.modified;\n      \n      // Aggregate user stats for this file\n      const owner = file.owner;\n      if (owner) {\n        const prev = aggUsers[owner] ?? { \n          username: owner, count: 0, disk: 0, atime: 0, mtime: 0 };\n        aggUsers[owner] = {\n          username: owner,\n          count: prev.count + 1,\n          disk: prev.disk + toNum(file.size),\n          atime: Math.max(prev.atime, toNum(file.accessed)),\n          mtime: Math.max(prev.mtime, toNum(file.modified)),\n        };\n      }\n    }\n\n    return {\n      path: p,\n      total_count,\n      total_disk,\n      accessed,\n      modified,\n      users: aggUsers,\n    };\n  }\n\n  const pathTotals = $derived.by(() => aggregatePathTotals(folders, files, path));\n  // ---------- Sorting (Files) ----------\n  function fileMetricValue(f: ScannedFile) {\n    switch (sortBy) {\n      case \"disk\":\n        return toNum(f.size); // bytes\n      case \"count\":\n        return 1;\n    }\n  }\n  const sortedfiles = $derived.by(() => {\n    const arr = files ? [...files] : [];\n    return arr.sort((a, b) => fileMetricValue(b) - fileMetricValue(a));\n  });\n  const maxFileMetric = $derived.by(() => {\n    // Use the parent folder's total as the maximum for file bars\n    const parentTotal = sortBy === \"disk\" ? pathTotals.total_disk : pathTotals.total_count;\n    return parentTotal > 0 ? parentTotal : 1;\n  });\n  const filePct = (f: ScannedFile) => Math.round((fileMetricValue(f) / maxFileMetric) * 1000) / 10;\n  \n  //#endregion\n\n  //#region fetch data\n  // single-flight fetch\n  function createDoItAgain<T extends any[]>(fn: (...args: T) => Promise<void>) {\n    let running = false;\n    let nextArgs: T | null = null;\n    return async (...args: T) => {\n      nextArgs = args;\n      if (running) return;\n      running = true;\n      try {\n        while (nextArgs) {\n          const argsNow = nextArgs;\n          nextArgs = null;\n          await fn(...(argsNow as T));\n        }\n      } finally {\n        running = false;\n      }\n    };\n  }\n  const fetchFolders = createDoItAgain(async (_p: string) => {\n    loading = true;\n    try {\n      const userFilter: string[] = selectedUser === 'All Users' ? [] : [selectedUser];\n\n      // Pass age filter to both endpoints\n      const raw: RawFolder[] = await api.getFolders(_p, userFilter, ageFilter);\n      folders = transformFolders(raw, ageFilter);\n      files = await api.getFiles(_p, userFilter, ageFilter);\n    } finally {\n      loading = false;\n    }\n  })\n  //#endregion\n\n  //#region menus\n\n  function pushHistory(p: string) {\n    if (history[histIdx] === p) return;\n    history = history.slice(0, histIdx + 1);\n    history.push(p);\n    histIdx = history.length - 1;\n  }\n  function chooseSort(key: SortKey) {\n    sortBy = key;\n    sortOpen = false;\n  }\n  function navigateTo(p) {\n    setPath(p);\n    pushHistory(fullPath || path);\n    fetchFolders(fullPath || path);\n  }\n  function refresh() {\n    fetchFolders(fullPath || path);\n  }\n  function goHome() {\n    navigateTo('/');\n  }\n  function goUp() {\n    const parent = getParent(fullPath || path);\n    navigateTo(parent);\n  }\n  function goBack() {\n    if (histIdx > 0) {\n      histIdx -= 1;\n      setPath(history[histIdx]);\n      fetchFolders(history[histIdx]);\n    }\n  }\n  function goForward() {\n    if (histIdx < history.length - 1) {\n      histIdx += 1;\n      setPath(history[histIdx]);\n      fetchFolders(history[histIdx]);\n    }\n  }\n  function onUserChanged() {\n    console.log('selected user:',selectedUser)\n    selectedUserColor = userColors.get(selectedUser) ?? '#000000'\n    // if (!selectedUser || selectedUser===null) {\n    //   selectedUser = 'All Users'\n    // }\n    refresh()\n  }\n\n  //#endregion\n\n  //#region path\n\n\tlet copyFeedbackVisible = $state(false);\n\n  function setPath(newPath) {\n    const displayedPath = displayPath(newPath);\n    fullPath = displayedPath;\n\n    if (!isEditing) {\n      path = truncatePathFromStart(displayedPath);\n    } else {\n      path = displayedPath;\n    }\n  }\n  // Function to truncate path from the beginning\n  function truncatePathFromStart(inputPath, maxLength = 50) {\n    if (!inputPath || inputPath.length <= maxLength) return inputPath;\n\n    const parts = inputPath.split('/');\n    let result = parts[parts.length - 1]; // Start with filename\n\n    // Add directories from the end until we approach maxLength\n    for (let i = parts.length - 2; i >= 0; i--) {\n      const potential = parts[i] + '/' + result;\n      if (('...' + potential).length > maxLength) break;\n      result = potential;\n    }\n\n    return '...' + result;\n  }\n  function onPathFocus() {\n    isEditing = true;\n    if (fullPath) {\n      path = fullPath;\n    }\n  }\n  function onPathBlur() {\n    isEditing = false;\n    if (path && !path.startsWith('...')) {\n      fullPath = path;\n    }\n    if (fullPath) {\n      path = truncatePathFromStart(fullPath);\n    }\n  }\n  function displayPath(p: string): string {\n    if (!p) return \"/\";\n    let s = p.replace(/\\\\/g, \"/\");\n    if (s !== \"/\") s = s.replace(/\\/+$/, \"\");\n    if (!s.startsWith(\"/\")) s = \"/\" + s;\n    return s || \"/\";\n  }\n  function onPathKeydown(e: KeyboardEvent) {\n    if (e.key === \"Enter\") {\n      navigateTo(fullPath || path);\n    }\n  }\n\n  // Function to copy text from input/textarea\n\tasync function copyText(e) {\n    let element = e.currentTarget\n    try {\n      const textToCopy = element.value !== undefined \n      ? element.value \n      : (element.textContent || element.innerText || '')\n      await navigator.clipboard.writeText(textToCopy)\n      showCopyFeedback()\n    } catch (err) {\n      console.error('Copy failed:', err);\n    }\n\t}\n\n\t// Show copy feedback notification\n\tfunction showCopyFeedback() {\n\t\tcopyFeedbackVisible = true;\n\t\tsetTimeout(() => {\n\t\t\tcopyFeedbackVisible = false;\n\t\t}, 2000);\n\t}\n\n  //#endregion\n\n  onMount(async () => {\n    console.log(\"api url:\", API_URL)\n    users = await api.getUsers()\n    console.log(\"Users:\", $state.snapshot(users))\n    allColors = getOptimalColors(users.length)\n    console.log(\"Colors:\", allColors)\n    createUserDropdown(users);    \n    \n    if (State.isAdmin) {\n      selectedUser = 'All Users'\n    } else {\n      selectedUser = State.username\n    }\n    \n    fullPath = path;\n    path = truncatePathFromStart(path);\n    refresh();\n  })\n  \n</script>\n\n<div class=\"flex flex-col h-screen min-h-0 gap-2 p-2\">\n  <div class=\"flex gap-2 items-center relative select-none\">\n    <button class=\"btn\" onclick={goHome} title=\"Go to Root Folder\" disabled={histIdx === 0 || fullPath === '/'}>\n      <div class=\"flex items-center\">\n      <span class=\"material-symbols-outlined\">home</span>\n      </div>\n    </button>\n    <button class=\"btn\" onclick={goBack} title=\"Go Back\" disabled={histIdx === 0}>\n      <div class=\"flex items-center\">\n      <span class=\"material-symbols-outlined\">arrow_back</span>\n      </div>\n    </button>\n    <button class=\"btn\" onclick={goForward} title=\"Go Forward\" disabled={histIdx >= history.length - 1}>\n      <div class=\"flex items-center\">\n      <span class=\"material-symbols-outlined\">arrow_forward</span>\n      </div>\n    </button>\n    <button class=\"btn\" onclick={goUp} title=\"Go Up\" disabled={getParent(path) === path}>\n      <div class=\"flex items-center\">\n      <span class=\"material-symbols-outlined\">arrow_upward</span>\n      </div>\n    </button>\n\n    <!-- Sort dropdown -->\n    <div class=\"relative\" use:clickOutside={() => (sortOpen = false)}>\n      <button class=\"btn w-36\" onclick={() => (sortOpen = !sortOpen)}>\n        <div class=\"flex items-center gap-2\">\n          <span class=\"material-symbols-outlined\">sort</span>\n          {displaySortBy(sortBy)}\n        </div>\n      </button>\n      {#if sortOpen}\n        <div\n          class=\"flex flex-col divide-y divide-gray-500 absolute w-36 rounded border\n           border-gray-500 bg-gray-800 shadow-lg z-20 overflow-hidden mt-0.5\"\n        >\n          <button class=\"w-full text-left px-3 py-2 hover:bg-gray-700 text-nowrap\" onclick={() => chooseSort(\"disk\")}>\n            By Disk Usage\n          </button>\n          <button class=\"w-full text-left px-3 py-2 hover:bg-gray-700\" onclick={() => chooseSort(\"count\")}>\n            By Total Files\n          </button>\n        </div>\n      {/if}\n    </div>\n\n    <!-- Age filter dropdown -->\n    <div class=\"relative\"  use:clickOutside={() => (ageOpen = false)}>\n      <button class=\"btn w-36\" onclick={() => (ageOpen = !ageOpen)}>\n        <div class=\"flex items-center gap-2\">\n          <span class=\"material-symbols-outlined\">schedule</span>\n          {displayAgeLabel(ageFilter)}\n        </div>\n      </button>\n      {#if ageOpen}\n        <div\n          class=\"flex flex-col divide-y divide-gray-500 absolute w-48 rounded border\n           border-gray-500 bg-gray-800 shadow-lg z-20 overflow-hidden mt-0.5\"\n        >\n          <button class=\"w-full text-left px-3 py-2 hover:bg-gray-700\" onclick={() => chooseAge(-1)}>\n            Any Time\n          </button>\n          <button class=\"w-full text-left px-3 py-2 hover:bg-gray-700\" onclick={() => chooseAge(0)}>\n            Recent (2 months)\n          </button>\n          <button class=\"w-full text-left px-3 py-2 hover:bg-gray-700\" onclick={() => chooseAge(1)}>\n            Not too old (2 years)\n          </button>\n          <button class=\"w-full text-left px-3 py-2 hover:bg-gray-700\" onclick={() => chooseAge(2)}>\n            Old files\n          </button>\n        </div>\n      {/if}\n    </div>\n\n    <Svelecte\n      disabled={!State.isAdmin}\n      bind:value={selectedUser} \n      options={userDropdown}\n      name=\"user-select\"\n      valueField=\"user\"\n      renderer=\"color\"\n      highlightFirstItem={false}\n      onChange={onUserChanged}\n      closeAfterSelect={true}\n      deselectMode=\"native\"\n      virtualList={true}\n      class=\"z-20 min-w-40 h-10 border rounded\n       border-gray-500 bg-gray-800 text-white\"\n    />\n    {#if !selectedUser || selectedUser === 'All Users'}\n      <button class=\"btn\" disabled={true}>\n        <div class=\"flex items-center\">\n          <span class=\"material-symbols-outlined\">colors</span>\n        </div>\n      </button>\n    {:else}\n      <ColorPicker \n        bind:hex={selectedUserColor} \n        components={{ \n          input: PickerButton,  \n          wrapper: PickerWrapper, \n          //pickerIndicator: PickerIndicator \n        }}\n        label=\"Change User Color\"\n        onInput={(e)=>{\n          userColors.set(selectedUser, selectedUserColor)\n          userDropdown = Array.from(userColors.entries()).map(([user, color]) => ({user,color}))\n        }}\n      />    \n    {/if}\n  </div>\n  <div class=\"flex\">\n    <input \n      bind:this={pathInput}\n      bind:value={path} placeholder=\"Path...\" \n      class=\"w-full truncate text-left cursor-pointer\"\n      onkeydown={onPathKeydown} \n      onblur={onPathBlur}\n      onfocus={onPathFocus}\n      onclick={(e)=>copyText(e)}\n      autocorrect=\"off\" \n      spellcheck=\"false\"\n      autocomplete=\"off\"\n      autocapitalize=\"none\"\n      disabled={loading} />\n  </div>\n  \n  <!-- Path total header item -->\n  <div class=\"relative px-2 bg-gray-700 border border-gray-500 rounded text-sm p-1\">\n      <!-- Total bar background -->\n      <div class=\"absolute left-0 top-0 bottom-0 z-0\" style=\"width: 100%\">\n        {#each sortedUserEntries(pathTotals) as [uname, userData] (uname)}\n          {@const userMetric = sortBy === \"disk\" ? userData.disk : userData.count}\n          {@const totalMetric =\n            sortBy === \"disk\" ? pathTotals.total_disk :  pathTotals.total_count}\n          {@const userPercent = totalMetric > 0 ? (userMetric / totalMetric) * 100 : 0}\n          <!-- svelte-ignore a11y_no_static_element_interactions -->\n          <div\n            class=\"h-full transition-all duration-300 min-w-[0.5px] hover:opacity-90\"\n            style=\"width: {userPercent}%; background-color: {userColors.get(uname)};\"\n            onmouseenter={(e) => showTip(e, userData, userPercent)}\n            onmousemove={moveTip}\n            onmouseleave={hideTip}\n            aria-label={`${userData.username}: ${rightValueUser(userData)}`}\n          ></div>\n        {/each}\n      </div>\n      <!-- Total bar foreground -->\n      <div class=\"relative z-10 pointer-events-none\">        \n        <div class=\"flex items-center justify-end\">\n            {humanCount(pathTotals.total_count)} Files \n            • Changed {humanTime(pathTotals.modified)} \n            • {humanBytes(pathTotals.total_disk)}                            \n        </div>\n      </div>\n    </div>\n  \n  {#if initializing}\n    <div class=\"flex flex-col w-full h-full items-center justify-between font-mono\">\n      <div class=\"w-full bg-gray-700 rounded-full h-1\">\n        <div class=\"bg-orange-500 h-1 rounded-full transition-all duration-300\" style=\"width: {progress_percent}%\"></div>\n      </div>\n      <div class=\"flex flex-col justify-center grow items-center w-64\">\n        <div class=\"flex w-full justify-between\">\n          <div>Progress:</div>\n          <div>{progress_percent}%</div>\n        </div>\n        <div class=\"flex w-full justify-between\">\n          <div>Loaded folders:</div>\n          <div>{progress_current}</div>\n        </div>\n        <div class=\"flex w-full justify-between\">\n          <div>Total:</div>\n          <div>{progress_total}</div>\n        </div>\n      </div>\n    </div>\n  {:else if loading}\n    <!-- Skeleton Loader (UI stays interactive) -->\n    <div class=\"flex flex-col gap-2 overflow-y-auto\">\n      {#each Array(6) as _, i}\n        <div class=\"relative p-3 bg-gray-800 border border-gray-500 rounded-lg animate-pulse min-h-16 h-16\">\n          <div class=\"flex items-center justify-between gap-4\">\n            <div class=\"h-4 bg-gray-700 rounded w-3/4\"></div>\n            <div class=\"h-3 bg-gray-700 rounded w-12\"></div>\n          </div>\n          <div class=\"flex gap-2 mt-2\">\n            <div class=\"h-3 bg-gray-700 rounded w-16\"></div>\n            <div class=\"h-3 bg-gray-700 rounded w-20\"></div>\n            <div class=\"h-3 bg-gray-700 rounded w-24\"></div>\n          </div>\n        </div>\n      {/each}\n    </div>\n  {:else}\n    <div class=\"flex flex-col gap-2 overflow-y-auto transition-opacity duration-200 p-4\">\n      <!-- Folders -->\n      {#each sortedFolders as folder}\n        <!-- svelte-ignore a11y_click_events_have_key_events -->\n        <!-- svelte-ignore a11y_no_static_element_interactions -->\n        <div\n          class=\"relative px-2 py-1 cursor-pointer hover:opacity-95 bg-gray-700 border border-gray-500 rounded-lg overflow-hidden min-h-16\"\n          onclick={() => navigateTo(folder.path)}\n        >\n          <!-- Folder bar background -->\n          <div class=\"absolute left-0 top-0 bottom-0 flex z-0\" style=\"width: {pct(metricValue(folder))}%\">\n            {#each sortedUserEntries(folder) as [uname, userData]}\n              {@const userMetric = sortBy === \"disk\" ? userData.disk : userData.count}\n              {@const totalMetric = sortBy === \"disk\" ? folder.total_disk : folder.total_count}\n              {@const userPercent = totalMetric > 0 ? (userMetric / totalMetric) * 100 : 0}\n              <div\n                class=\"h-full transition-all duration-300 min-w-[0.5px] hover:opacity-90\"\n                style=\"width: {userPercent}%; background-color: {userColors.get(uname)};\"\n                onmouseenter={(e) => showTip(e, userData, userPercent)}\n                onmousemove={moveTip}\n                onmouseleave={hideTip}\n                aria-label={`${userData.username}: ${rightValueUser(userData)}`}\n              ></div>\n            {/each}\n          </div>\n          <!-- Folder bar foreground -->\n          <div class=\"relative flex flex-col gap-2 z-10 pointer-events-none\">\n            <div class=\"flex items-center justify-between gap-4\">\n              <div class=\"w-full overflow-hidden text-ellipsis whitespace-nowrap\">\n                <div>{folder.path}</div>\n              </div>\n              <span class=\"text-nowrap font-bold\">{rightValueFolder(folder)}</span>\n            </div>\n            <div class=\"flex justify-end\">\n              <p class=\"text-sm\">\n                {bottomValueFolder(folder)}  \n                • Updated {humanTime(folder.modified)} \n                {#if humanTime(folder.accessed) > humanTime(folder.modified)}\n                • Last file read {humanTime(folder.accessed)} \n                {/if}                      \n              </p>\n            </div>\n          </div>\n        </div>\n      {/each}\n\n      <!-- Files (after folders) -->\n      {#each sortedfiles as f}\n        {@const color = userColors.get(f.owner)}\n        <!-- svelte-ignore a11y_no_static_element_interactions -->\n        <div class=\"flex\">\n          <span class=\"material-symbols-outlined text-4xl\">subdirectory_arrow_right</span>\n          <div class=\"relative flex grow px-2 py-1 bg-gray-700 border border-gray-500 rounded overflow-hidden text-xs\">\n            <div class=\"flex flex-col w-full\">\n              <!-- File bar background -->\n              <div class=\"absolute left-0 top-0 bottom-0 z-0 opacity-60\" \n                style=\"width: {filePct(f)}%; background-color: {color};\">\n              </div>\n              <div class=\"relative z-10 flex items-center justify-between gap-2\">\n                <div class=\"w-full overflow-hidden\">\n                  <!-- svelte-ignore a11y_click_events_have_key_events -->\n                  <span class=\"cursor-pointer text-ellipsis text-nowrap\"\n                    onclick={(e)=>copyText(e)}>\n                    {f.path}\n                  </span>                  \n                </div>\n                <div class=\"flex items-center gap-4 text-sm font-semibold text-nowrap\">\n                  {rightValueFile(f)}\n                </div>\n              </div>\n              <div class=\"relative z-10 flex justify-between\">\n                <div class=\"\">{f.owner}</div>\n                <div class=\"\">\n                  Updated {humanTime(f.modified)} \n                  {#if humanTime(f.accessed) > humanTime(f.modified)}\n                  • Read {humanTime(f.accessed)}\n                  {/if}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      {/each}\n    </div>\n  {/if}\n  <div class=\"grow\"></div>\n</div>\n\n<!-- Tooltip -->\n{#if tip.show}\n  <div\n    class=\"fixed z-50 pointer-events-none\"\n    style=\"\n      left: {tip.x}px;\n      top: {tip.y}px;\n      transform: translate(-50%, calc(-100% - 10px));\n    \"\n  >\n    <div\n      bind:this={bubbleEl}\n      class=\"relative rounded-xl border border-white/10 bg-black/90 text-white shadow-xl px-3 py-2\"\n    >\n      <div class=\"flex items-center justify-center\">\n        <div class=\"font-medium text-sm truncate max-w-[180px]\">{tip.username}</div>        \n      </div>\n      <div class=\"flex gap-2 items-center justify-between text-xs opacity-90\">\n        <div class=\"text-nowrap\">{tip.value}</div>\n        <div class=\"\">{tip.percent}%</div>\n      </div>\n      <div class=\"absolute left-1/2 top-full -translate-x-1/2 mt-[-4px]\">\n        <div class=\"w-2 h-2 rotate-45 bg-black/90 border border-white/10 border-l-0 border-t-0\"></div>\n      </div>\n    </div>\n  </div>\n{/if}\n\n<!-- Feedback notification -->\n{#if copyFeedbackVisible}\n  <div \n    class=\"fixed top-1 inset-x-0 mx-auto w-max bg-emerald-600 text-white px-4 py-1 \n      rounded-lg font-medium shadow-lg z-50 transform transition-transform duration-300 \n      ease-[cubic-bezier(0.68,-0.55,0.265,1.55)]\"\n    class:translate-x-full={!copyFeedbackVisible}\n    class:translate-x-0={copyFeedbackVisible}\n  >\n    Path copied!\n  </div>\n{/if}"],"names":["empty","snapshot","value","skip_warning","no_tojson","clone","cloned","path","paths","original","unwrapped","is_array","copy","i","element","get_prototype_of","object_prototype","key","html","node","get_value","svg","mathml","anchor","template_effect","effect","active_effect","hydrating","hydrate_next","remove_effect_dom","hydrate_node","next","last","COMMENT_NODE","get_next_sibling","w.hydration_mismatch","HYDRATION_ERROR","assign_nodes","set_hydrate_node","create_fragment_from_html","get_first_child","action","dom","payload","untrack","inited","prev","render_effect","deep_read_state","safe_not_equal","set_class","is_html","hash","prev_classes","next_classes","next_class_name","to_class","is_present","bind_window_size","type","set","listen","without_reactive_context","_SvelteMap","__privateAdd","_SvelteMap_instances","_sources","_version","state","_size","_update_version","update_version","v","__privateGet","sources","s","ret","__privateMethod","source_fn","get","callbackfn","this_arg","read_all_fn","prev_res","res","version","increment","v_reactions","needs_version_increase","_a","r","source","__superGet","SvelteMap","instanceOfAny","object","constructors","c","idbProxyableTypes","cursorAdvanceMethods","getIdbProxyableTypes","getCursorAdvanceMethods","transactionDoneMap","transformCache","reverseTransformCache","promisifyRequest","request","promise","resolve","reject","unlisten","success","error","wrap","cacheDonePromiseForTransaction","tx","done","complete","idbProxyTraps","target","prop","receiver","replaceTraps","callback","wrapFunction","func","args","unwrap","transformCachableValue","newValue","openDB","name","blocked","upgrade","blocking","terminated","openPromise","event","db","readMethods","writeMethods","cachedMethods","getMethod","targetFuncName","useIndex","isWrite","method","storeName","oldTraps","advanceMethodProps","methodMap","advanceResults","ittrProxiedCursorToOriginalProxy","cursorIteratorTraps","cachedFunc","iterate","cursor","proxiedCursor","isIteratorProp","DB_NAME","STORE_NAME","DB_VERSION","EXPIRATION_MS","getDB","setCache","data","getCache","entry","Api","__publicField","API_URL","endpoint","body","use_cache","options","State","url","response","err","users","age","pathParam","userParam","ageParam","api","settings","opts","opt","labelField","count","num","minQuery","inputLength","debounce","fn","delay","timeout","requestFactory","query","parentValue","initial","fetchProps","fetchUrl","arr","controller","props","Sifter","items","respect_word_boundary","start_only","trim","n","regex","letter","tokens","words","escape_regex","DIACRITICS","iterator","search","self","fields","token_count","nesting","scoreValue","token","score","pos","scoreObject","field_count","getattr","sum","field","fields_count","multiplier","multipliers","get_field","implicit_score","sort","result","a","b","cmp","extend","option_fields","option_sort","option_sort_empty","fn_sort","fn_score","item","id","asciifold","k","obj","names","str","chunk","foreignletters","lookup","regexp","foreignletter","itemHtml","highlightSearch","renderInSelection","inputValue","itemRenderer","disableHighlight","itemHtmlText","pattern","w","e","pat","highlight","skip","folded","spannode","middlebit","middleclone","android","onCreate_helper","enteredValue","ch","escapeHtml","cubicOut","t","f","flip","from","to","params","duration","d","easing","style","transform","ox","oy","zoom","get_zoom","sx","sy","fx","fy","ty","dx","dy","dsx","dsy","u","y","current","pixelGetter","styles","unit","floatValue","el","isOutOfViewport","elem","parentBounding","bounding","out","positionDropdown","isOpened","scrollContainer","renderDropdown","outVp","scrollIntoView","container","virtualList","center","dropdownIndex","focusedEl","focusedRect","menuRect","overScroll","centerOffset","createConfig","valueField","optLabel","optItems","initSelection","initialValue","valueAsObject","initialValue_array","ensureObjectArray","arrayValue","flatList","config","flatOpts","_opt","updateOptionProps","getFilterProps","exclude","filterList","excludeSelected","searchProps","idx","sifter","conjunction","word","createSifterSortField","lastPos","prevItems","fieldInit","groupItemsField","isValue","val","firstItem","autoAddItem","guessList","bindItem","selectedObject","itemHeight","resolveItemSize","$.get","ref_contents","prev_itemCount","$$props","prev_scrollToIndex","currentOffset","start","end","top","viewport_height","ref_viewport","itemSize","visibleItems","$.derived","updateScrollIndex","index","maxOffset","minOffset","totalSize","idealOffset","refresh","itemsCount","$.set","tick","handle_scroll","scrollTop","old_start","expected_height","actual_height","onMount","onDestroy","$.user_effect","$.each","svelecte_list_content","row","$.snippet","$.noop","$.bind_this","$$value","svelecte_list_viewport","$.set_style","snippet_collapsedSelection","$$anchor","selectedOptions","i18n","$.template_effect","$0","$.set_text","text","_dropdownShow","defaults","stringFormatters","_noop","_node","addRenderer","rendererFn","on_mouse_down","on_input","__1","multiple","bindItemAction","currentValueField","i18n_actual","currentLabelField","$$render","consequent","$.animation","div","flipDurationMs","snippet_clearIcon","_selectedOptions","_inputValue","consequent_1","snippet_option","isCreating","meta_key","inputId","required","disabled","$.prop","groupLabelField","disabledField","placeholder","searchable","clearable","highlightFirstItem","selectOnTab","resetOnBlur","resetOnSelect","closeAfterSelect","deselectMode","dndzone","strictMode","max","collapseSelection","keepSelectionInList","creatable","creatablePrefix","allowEditing","keepCreated","delimiter","fetch","fetchMode","fetchCallback","fetchResetOnBlur","fetchDebounceTime","lazyDropdown","vlItemSize","className","readSelection","emitValues","onChange","_readSelection","onFocus","_htmlInput","onBlur","onCreateOption","_newObj","onCreateFail","_fail","onEnterKey","_event","onFetch","_data","onFetchError","_err","onInvalidValue","_val","prepend","collapsedSelection","selection","snippet_selection","clearIcon","toggleIcon","snippet_toggleIcon","append","listHeader","option","createRow","snippet_createRow","positionResolver","anchor_element","controlClass","dropdownClass","optionClass","focus","ref_input","setSelection","triggerChangeEvent","watch_value_change","emitChangeEvent","getSelection","onlyValues","compute_selection","refetchWith","fetch_runner","DOM_ID","is_mounted","options_stopgap","prev_value","prev_parent_value","init_only_options","$.state","$.proxy","itemConfig","prev_options","options_flat_override","options_flat","selectedKeys","alreadyCreated","is_focused","focus_by_mouse","is_tainted","is_dropdown_opened","dropdown_show","dropdown_index","render_dropdown","dropdown_scroller","input_value","disable_key_event_bubble","fetch_initOnly","fetch_initValue","$.snapshot","isIOS","doCollapse","isFetchingData","is_dragging","is_fetch_dependent","ref_select_element","ref_container","ref_container_scroll","ref_virtuallist","watch_item_props","maxReached","watch_options","options_filtered_override","options_filtered","resolveExcludedValue","list_length","setDropdownIndex","watch_listMessage","createFilterFn","inputVal","createHandlerFn","prefix","input_mode","placeholder_active","enter_hint","aria_selection","o","aria_context","valueProp","labelProp","clearSelection","ivalue","ilabel","equals","prevValue","passedVal","ifArrayThenNonEmpty","arrValue","newSelectedKeys","_selection","deselectOption","selectOption","asObjects","asValues","selection_formatted","disabled_to_set","updateDropdownState","alreadyRendered","listMessage","objectSelection","valueSelection","onSelect","onDeselect","newObj","onSelectTeardown","previousSelected","backspacePressed","_","on_create","processKeyDown","Tab","ctrlKey","isPageEvent","supressIndexMove","get_dropdown_dimensions","dix","activeDropdownItem","preventCreation","on_click","dropdown_item","focusControl","bound_item","dataId","opt_position","on_key_down","on_key_up","on_focus","on_blur","fetch_controller","on_paste","rx","pasted","matches","on_dnd_event","debouncedFetch","trigger_fetch","watch_fetch_init","_parentValue","initialFetchValue","built","resp","json","fetchAborted","direction","limit","dropdown_list_length","consequent_2","select","text_5","option_1_value","option_1","consequent_3","consequent_4","consequent_6","consequent_5","alternate","input","consequent_7","consequent_8","node_16","consequent_9","consequent_10","text_6","classes_11","consequent_11","alternate_1","node_26","text_7","classes_12","consequent_13","alternate_2","consequent_14","consequent_12","alternate_3","consequent_15","div_10","div_9","node_31","consequent_16","consequent_17","classes_2","$.set_attribute","span_6","classes_8","$5","$.bind_value","h","g","l","p","m","N","x","M","H","$","j","keyHandler","_step","_min","_max","bound","inc","min","step","ariaValueText","reverse","keyboardOnly","slider","isDragging","ratio","rounded","updateValue","clientWidth","sliderOffsetX","_b","offsetX","jump","drag","endDrag","touch","position","$$args","onClick","picker","isMouseDown","pickerColorBg","colord","clamp","width","left","height","mouse","updateColor","pickerMousedown","mouseUp","mouseMove","color","$.untrack","updateHex","HEX_COLOR_REGEX","hex","mode","nextMode","rgb","hsv","updateRgb","property","updateHsv","event_handler","event_handler_1","event_handler_2","input_1","$.set_value","input_2","input_3","event_handler_3","event_handler_4","event_handler_5","input_4","input_5","input_6","input_7","text_2","preventDefault","labelElement","label_1","wrapper","defaultTexts","FOCUSABLE_ELEMENTS","trapFocusListener","trapFocusElement","eventTarget","focusable","first","isNext","isPrevious","trapFocus","listener","isUndefined","components","label","nullable","isDark","isAlpha","isDialog","isOpen","dir","isTextInput","textInputModes","sliderDirection","disableCloseClickOutside","a11yColors","a11yLevel","texts","a11yTexts","_rgb","_hsv","_hex","_isUndefined","spanElement","trap","innerWidth","innerHeight","wrapperPadding","default_components","PickerIndicator","TextInput","Input","NullabilityCheckbox","Wrapper","getComponents","getTexts","_c","mousedown","keyup","hasColorChanged","_d","_f","updateLetter","letterValue","updateLetters","letters","wrapperBoundaryCheck","wrapperRect","labelRect","isWrapperToLeft","CPComponents","$1","$2","$3","span","moveTip","tip","cancelHide","clampToViewport","goHome","navigateTo","goUp","__2","fullPath","parent","getParent","goBack","__3","histIdx","setPath","history","fetchFolders","goForward","__4","onPathKeydown","__5","sortOpen","on_click_1","__6","chooseSort","on_click_2","__7","on_click_3","__8","ageOpen","on_click_4","__9","chooseAge","on_click_5","__10","on_click_6","__11","on_click_7","__12","copyText","folder","allColors","folders","files","loading","sortBy","selectedUser","selectedUserColor","userColors","userDropdown","pathInput","isEditing","colorRenderer","_isSelection","icon_base","COLORS","icon_bg","user_css","createUserDropdown","usernames","uname","user","ageFilter","AGE_LABELS","displayAgeLabel","bubbleEl","MARGIN","ARROW_GAP","rawX","rawY","ww","wh","halfW","minX","maxX","minY","maxY","showTip","userData","percent","rightValueUser","hideTip","hideTimer","transformFolders","raw","filter","ages","rf","usersAgg","total_count","total_disk","max_atime","max_mtime","userEntries","agesMap","u_count","u_disk","u_atime","u_mtime","dk","at","mt","toNum","sortedFolders","aVal","bVal","maxMetric","vals","pct","clamped","displaySortBy","clickOutside","cb","close","onPointerDown","onKeyDown","metricValue","file","rightValueFolder","humanBytes","humanCount","bottomValueFolder","rightValueFile","userMetricFor","ud","sortedUserEntries","aggregatePathTotals","foldersArr","filesArr","accessed","modified","aggUsers","owner","pathTotals","fileMetricValue","sortedfiles","maxFileMetric","parentTotal","filePct","createDoItAgain","running","nextArgs","argsNow","_p","userFilter","pushHistory","onUserChanged","copyFeedbackVisible","newPath","displayedPath","displayPath","truncatePathFromStart","inputPath","maxLength","parts","potential","onPathFocus","onPathBlur","textToCopy","showCopyFeedback","getOptimalColors","$.action","div_2","$$node","$$action_arg","div_5","PickerButton","PickerWrapper","$$item","$$array","userMetric","totalMetric","userPercent","$.event","div_11","$.index","node_7","div_28","$$array_1","div_29","humanTime","text_3","node_9","text_9","div_46","text_12","text_13","text_14","button","button_1","button_2"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]}