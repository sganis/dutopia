var Za=Object.defineProperty;var $a=Object.getPrototypeOf;var es=Reflect.get;var zi=n=>{throw TypeError(n)};var ts=(n,e,r)=>e in n?Za(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var ti=(n,e,r)=>ts(n,typeof e!="symbol"?e+"":e,r),Bi=(n,e,r)=>e.has(n)||zi("Cannot "+r);var Re=(n,e,r)=>(Bi(n,e,"read from private field"),r?r.call(n):e.get(n)),Wn=(n,e,r)=>e.has(n)?zi("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,r);var mn=(n,e,r)=>(Bi(n,e,"access private method"),r);var Ui=(n,e,r)=>es($a(n),r,e);import"../chunks/Bzak7iHL.js";import{o as wi,a as ns}from"../chunks/Bz4faya2.js";import{q as rs,as as is,at as as,V as X,h as zr,a as ji,ab as ss,au as ls,k as qi,av as os,aw as us,ax as cs,ay as ds,az as Gi,c as fs,aA as vs,aB as Tr,a0 as hs,w as vi,a1 as gs,O as hi,aC as ms,aD as _s,aE as bs,ak as D,aF as Wi,aG as ps,N as t,a9 as v,aH as dr,R as St,a8 as He,u as It,S as B,Y as p,ar as wt,aI as _t,Z as b,W as S,am as E,X as Ct,I as Tt,aq as Xn,_ as A,ap as $e,$ as _e,al as We,T as Se,aJ as ha,ao as Br,aK as Dn,aL as Ki,an as Vi}from"../chunks/CZTrrgyc.js";import{i as te}from"../chunks/CXUUFbzq.js";import{c as ys,A as ga,S as Vn,e as un,s as vt,b as ma,d as xs,a as Z,r as ft,f as ws,i as hr,h as Ft,j as ks,k as Fr,l as sn,m as fr,n as _a,g as Is,C as Dr}from"../chunks/DnbAJzvI.js";import{p as g,b as ut,c as Kn}from"../chunks/DUucJmbl.js";import{i as Ss}from"../chunks/BHfBZ93M.js";const Cs=[];function Bt(n,e=!1,r=!1){return Hr(n,new Map,"",Cs,null,r)}function Hr(n,e,r,i,a=null,l=!1){if(typeof n=="object"&&n!==null){var o=e.get(n);if(o!==void 0)return o;if(n instanceof Map)return new Map(n);if(n instanceof Set)return new Set(n);if(rs(n)){var c=Array(n.length);e.set(n,c),a!==null&&e.set(a,c);for(var d=0;d<n.length;d+=1){var h=n[d];d in n&&(c[d]=Hr(h,e,r,i,null,l))}return c}if(is(n)===as){c={},e.set(n,c),a!==null&&e.set(a,c);for(var y in n)c[y]=Hr(n[y],e,r,i,null,l);return c}if(n instanceof Date)return structuredClone(n);if(typeof n.toJSON=="function"&&!l)return Hr(n.toJSON(),e,r,i,n)}if(n instanceof EventTarget)return n;try{return structuredClone(n)}catch{return n}}function Xi(n,e,r=!1,i=!1,a=!1){var l=n,o="";X(()=>{var c=ss;if(o===(o=e()??"")){zr&&ji();return}if(c.nodes_start!==null&&(ls(c.nodes_start,c.nodes_end),c.nodes_start=c.nodes_end=null),o!==""){if(zr){qi.data;for(var d=ji(),h=d;d!==null&&(d.nodeType!==os||d.data!=="");)h=d,d=us(d);if(d===null)throw cs(),ds;Gi(qi,h),l=fs(d);return}var y=o+"";r?y=`<svg>${y}</svg>`:i&&(y=`<math>${y}</math>`);var C=vs(y);if((r||i)&&(C=Tr(C)),Gi(Tr(C),C.lastChild),r||i)for(;Tr(C);)l.before(Tr(C));else l.before(C)}})}function mr(n,e,r){hs(()=>{var i=vi(()=>e(n,r==null?void 0:r())||{});if(r&&(i!=null&&i.update)){var a=!1,l={};gs(()=>{var o=r();hi(o),a&&ms(l,o)&&(l=o,i.update(o))}),a=!0}if(i!=null&&i.destroy)return()=>i.destroy()})}function Oe(n,e,r,i,a,l){var o=n.__className;if(zr||o!==r||o===void 0){var c=ys(r,i,l);(!zr||c!==n.getAttribute("class"))&&(c==null?n.removeAttribute("class"):n.className=c),n.__className=r}else if(l&&a!==l)for(var d in l){var h=!!l[d];(a==null||h!==!!a[d])&&n.classList.toggle(d,h)}return l}function Yi(n,e){_s(window,["resize"],()=>bs(()=>e(window[n])))}var Jt,Zt,on,qr,Ut,gr,Pr;const ki=class ki extends Map{constructor(r){super();Wn(this,Ut);Wn(this,Jt,new Map);Wn(this,Zt,D(0));Wn(this,on,D(0));Wn(this,qr,Wi||-1);if(r){for(var[i,a]of r)super.set(i,a);Re(this,on).v=super.size}}has(r){var i=Re(this,Jt),a=i.get(r);if(a===void 0){var l=super.get(r);if(l!==void 0)a=mn(this,Ut,gr).call(this,0),i.set(r,a);else return t(Re(this,Zt)),!1}return t(a),!0}forEach(r,i){mn(this,Ut,Pr).call(this),super.forEach(r,i)}get(r){var i=Re(this,Jt),a=i.get(r);if(a===void 0){var l=super.get(r);if(l!==void 0)a=mn(this,Ut,gr).call(this,0),i.set(r,a);else{t(Re(this,Zt));return}}return t(a),super.get(r)}set(r,i){var C;var a=Re(this,Jt),l=a.get(r),o=super.get(r),c=super.set(r,i),d=Re(this,Zt);if(l===void 0)l=mn(this,Ut,gr).call(this,0),a.set(r,l),v(Re(this,on),super.size),dr(d);else if(o!==i){dr(l);var h=d.reactions===null?null:new Set(d.reactions),y=h===null||!((C=l.reactions)!=null&&C.every(T=>h.has(T)));y&&dr(d)}return c}delete(r){var i=Re(this,Jt),a=i.get(r),l=super.delete(r);return a!==void 0&&(i.delete(r),v(Re(this,on),super.size),v(a,-1),dr(Re(this,Zt))),l}clear(){if(super.size!==0){super.clear();var r=Re(this,Jt);v(Re(this,on),0);for(var i of r.values())v(i,-1);dr(Re(this,Zt)),r.clear()}}keys(){return t(Re(this,Zt)),super.keys()}values(){return mn(this,Ut,Pr).call(this),super.values()}entries(){return mn(this,Ut,Pr).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return t(Re(this,on)),super.size}};Jt=new WeakMap,Zt=new WeakMap,on=new WeakMap,qr=new WeakMap,Ut=new WeakSet,gr=function(r){return Wi===Re(this,qr)?D(r):ps(r)},Pr=function(){t(Re(this,Zt));var r=Re(this,Jt);if(Re(this,on).v!==r.size){for(var i of Ui(ki.prototype,this,"keys").call(this))if(!r.has(i)){var a=mn(this,Ut,gr).call(this,0);r.set(i,a)}}for([,a]of Re(this,Jt))t(a)};let gi=ki;const mi=(n,e)=>e.some(r=>n instanceof r);let Qi,Ji;function Es(){return Qi||(Qi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function As(){return Ji||(Ji=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _i=new WeakMap,ni=new WeakMap,Gr=new WeakMap;function Ts(n){const e=new Promise((r,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",o)},l=()=>{r(Mn(n.result)),a()},o=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",o)});return Gr.set(e,n),e}function Fs(n){if(_i.has(n))return;const e=new Promise((r,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",o),n.removeEventListener("abort",o)},l=()=>{r(),a()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",o),n.addEventListener("abort",o)});_i.set(n,e)}let bi={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return _i.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Mn(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ba(n){bi=n(bi)}function Ds(n){return As().includes(n)?function(...e){return n.apply(pi(this),e),Mn(this.request)}:function(...e){return Mn(n.apply(pi(this),e))}}function Ms(n){return typeof n=="function"?Ds(n):(n instanceof IDBTransaction&&Fs(n),mi(n,Es())?new Proxy(n,bi):n)}function Mn(n){if(n instanceof IDBRequest)return Ts(n);if(ni.has(n))return ni.get(n);const e=Ms(n);return e!==n&&(ni.set(n,e),Gr.set(e,n)),e}const pi=n=>Gr.get(n);function Os(n,e,{blocked:r,upgrade:i,blocking:a,terminated:l}={}){const o=indexedDB.open(n,e),c=Mn(o);return i&&o.addEventListener("upgradeneeded",d=>{i(Mn(o.result),d.oldVersion,d.newVersion,Mn(o.transaction),d)}),r&&o.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const Ls=["get","getKey","getAll","getAllKeys","count"],Ns=["put","add","delete","clear"],ri=new Map;function Zi(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ri.get(e))return ri.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,a=Ns.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Ls.includes(r)))return;const l=async function(o,...c){const d=this.transaction(o,a?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(c.shift())),(await Promise.all([h[r](...c),a&&d.done]))[0]};return ri.set(e,l),l}ba(n=>({...n,get:(e,r,i)=>Zi(e,r)||n.get(e,r,i),has:(e,r)=>!!Zi(e,r)||n.has(e,r)}));const Rs=["continue","continuePrimaryKey","advance"],$i={},yi=new WeakMap,pa=new WeakMap,Hs={get(n,e){if(!Rs.includes(e))return n[e];let r=$i[e];return r||(r=$i[e]=function(...i){yi.set(this,pa.get(this)[e](...i))}),r}};async function*Ps(...n){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...n)),!e)return;e=e;const r=new Proxy(e,Hs);for(pa.set(r,e),Gr.set(r,pi(e));e;)yield r,e=await(yi.get(r)||e.continue()),yi.delete(r)}function ea(n,e){return e===Symbol.asyncIterator&&mi(n,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&mi(n,[IDBIndex,IDBObjectStore])}ba(n=>({...n,get(e,r,i){return ea(e,r)?Ps:n.get(e,r,i)},has(e,r){return ea(e,r)||n.has(e,r)}}));const zs="ApCacheDB",pr="ap",Bs=2,Us=60*1e3;async function ya(){return Os(zs,Bs,{upgrade(n){n.objectStoreNames.contains(pr)||n.createObjectStore(pr)}})}async function js(n,e){await(await ya()).put(pr,{data:e,timestamp:Date.now()},n)}async function qs(n){const e=await ya(),r=await e.get(pr,n);return r?Date.now()-r.timestamp>Us?(await e.delete(pr,n),null):r.data:null}class Gs{constructor(){ti(this,"baseUrl",`${ga}/`);ti(this,"error","")}async request(e="",r="GET",i,a){try{this.error="";const l={method:r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${Vn.token}`}};if(i&&(l.body=JSON.stringify(i)),a){let h=await qs(e);if(h)return h}const o=`${this.baseUrl}${e}`;console.log("fetching url:",o,l);const c=await fetch(o,l),d=await c.json();return c.ok?(await js(e,d),d):(Vn.token=null,c.status===401&&console.log("authentication failed."),this.error=d.detail||"Unknown API error",console.log(`API Error: ${this.error}`),null)}catch(l){return console.log("Fetch error:",l),this.error="API: Error in fetching data.",null}finally{}}async getUsers(){return await this.request("users","GET",void 0,!0)??[]}async getFolders(e,r,i){const a=`path=${encodeURIComponent(e)}`,l=r.length>0?`&users=${encodeURIComponent(r.join(","))}`:"",o=i!==void 0&&i!==-1?`&age=${i}`:"",c=`folders?${a}${l}${o}`;return console.log("api url:",c),await this.request(c,"GET",void 0,!0)??[]}async getFiles(e,r,i){const a=`path=${encodeURIComponent(e)}`,l=r.length>0?`&users=${encodeURIComponent(r.join(","))}`:"",o=i!==void 0&&i!==-1?`&age=${i}`:"",c=`files?${a}${l}${o}`;return console.log("api url:",c),await this.request(c,"GET",void 0,!0)??[]}}const ii=new Gs,ue={valueField:null,labelField:null,groupLabelField:"label",groupItemsField:"options",disabledField:"$disabled",placeholder:"Select",valueAsObject:!1,searchable:!0,clearable:!1,highlightFirstItem:!0,selectOnTab:!1,resetOnBlur:!0,resetOnSelect:!0,fetchProps:{},fetchResetOnBlur:!0,fetchDebounceTime:300,multiple:!1,closeAfterSelect:"auto",deselectMode:"toggle",max:0,collapseSelection:null,keepSelectionInList:"auto",creatable:!1,creatablePrefix:"*",keepCreated:!0,allowEditing:!1,delimiter:",",fetchCallback:void 0,minQuery:1,lazyDropdown:!0,virtualList:!1,vlItemSize:void 0,i18n:{aria_label:"",aria_describedby:"",aria_selected:n=>n.length?`Option${n.length>1?"s":""} ${n.join(", ")} selected.`:"",aria_listActive:(n,e,r)=>`You are currently focused on option ${n[e]}. ${r} result${r>1?"s":""} available.`,aria_inputFocused:()=>"Select is focused, type to refine list, press down to scroll through the list",aria_removeItemLabel:(n,e)=>"Remove item",empty:"No options",nomatch:"No matching options",max:n=>`Maximum items ${n} selected`,fetchBefore:"Type to start searching",fetchQuery:(n,e)=>`Type at least ${n} character${n>1?"s":""} to start searching`,fetchInit:"Fetching data, please wait...",fetchEmpty:"No data related to your search",collapsedSelection:n=>`${n} selected`,createRowLabel:n=>`Add '${n}'`,emptyCreatable:"Add new by typing"},requestFactory:void 0};function Ws(n,e){let r;return(...i)=>{clearTimeout(r),r=setTimeout(()=>{n.apply(this,i)},e)}}function Ks(n,{url:e,parentValue:r,initial:i},a){r&&(e=e.replace("[parent]",encodeURIComponent(r))),n&&(e=e.replace("[query]",encodeURIComponent(n))),Array.isArray(i)&&i.length===0&&(i=null),i&&(e=e.replace("[query]","init"));const l=e[0]==="/"?new URL(e,window.location.origin):new URL(e);if(i){const d=Array.isArray(i)?i:[i];l.searchParams.append("init",d.join(","))}const o=new AbortController,c=Object.assign({},a,{signal:o.signal});return{request:new Request(l,c),controller:o}}var On=function(n,e){this.items=n,this.settings=e||{diacritics:!0}};On.prototype.tokenize=function(n,e,r){if(n=Xs(String(n||"").toLowerCase()),!n||!n.length)return[];var i,a,l,o,c=[],d=n.split(/ +/);for(i=0,a=d.length;i<a;i++){if(l=Ys(d[i]),this.settings.diacritics)for(o in Fn)Fn.hasOwnProperty(o)&&(l=l.replace(new RegExp(o,"g"),Fn[o]));e?l="\\b"+l:r&&(l="\\b^"+l),c.push({string:d[i],regex:new RegExp(l,"i")})}return c};On.prototype.iterator=function(n,e){var r;Array.isArray(n)?r=Array.prototype.forEach||function(i){for(var a=0,l=this.length;a<l;a++)i(this[a],a,this)}:r=function(i){for(var a in this)this.hasOwnProperty(a)&&i(this[a],a,this)},r.apply(n,[e])};On.prototype.getScoreFunction=function(n,e){var r,i,a,l,o;r=this,n=r.prepareSearch(n,e),a=n.tokens,i=n.options.fields,l=a.length,o=n.options.nesting;var c=function(h,y){var C,T;return!h||(h=String(h||""),T=h.search(y.regex),T===-1)?0:(C=y.string.length/h.length,T===0&&(C+=.5),C)},d=(function(){var h=i.length;return h?h===1?function(y,C){return c(xi(C,i[0],o),y)}:function(y,C){for(var T=0,M=0;T<h;T++)M+=c(xi(C,i[T],o),y);return M/h}:function(){return 0}})();return l?l===1?function(h){return d(a[0],h)}:n.options.conjunction==="and"?function(h){for(var y,C=0,T=0;C<l;C++){if(y=d(a[C],h),y<=0)return 0;T+=y}return T/l}:function(h){for(var y=0,C=0;y<l;y++)C+=d(a[y],h);return C/l}:function(){return 0}};On.prototype.getSortFunction=function(n,e){var r,i,a,l,o,c,d,h,y,C,T;if(a=this,n=a.prepareSearch(n,e),T=!n.query&&e.sort_empty||e.sort,y=function(M,U){return M==="$score"?U.score:xi(a.items[U.id],M,e.nesting)},o=[],T)for(r=0,i=T.length;r<i;r++)(n.query||T[r].field!=="$score")&&o.push(T[r]);if(n.query){for(C=!0,r=0,i=o.length;r<i;r++)if(o[r].field==="$score"){C=!1;break}C&&o.unshift({field:"$score",direction:"desc"})}else for(r=0,i=o.length;r<i;r++)if(o[r].field==="$score"){o.splice(r,1);break}for(h=[],r=0,i=o.length;r<i;r++)h.push(o[r].direction==="desc"?-1:1);return c=o.length,c?c===1?(l=o[0].field,d=h[0],function(M,U){return d*ta(y(l,M),y(l,U))}):function(M,U){var ne,Ae,xe;for(ne=0;ne<c;ne++)if(xe=o[ne].field,Ae=h[ne]*ta(y(xe,M),y(xe,U)),Ae)return Ae;return 0}:null};On.prototype.prepareSearch=function(n,e){if(typeof n=="object")return n;e=Vs({},e);var r=e.fields,i=e.sort,a=e.sort_empty;return r&&!Array.isArray(r)&&(e.fields=[r]),i&&!Array.isArray(i)&&(e.sort=[i]),a&&!Array.isArray(a)&&(e.sort_empty=[a]),{options:e,query:String(n||"").toLowerCase(),tokens:this.tokenize(n,e.wordsOnly,e.startOnly),total:0,items:[]}};On.prototype.search=function(n,e){var r=this,i,a,l,o;return a=this.prepareSearch(n,e),e=a.options,n=a.query,o=e.score||r.getScoreFunction(a),n.length?r.iterator(r.items,function(c,d){i=o(c),(e.filter===!1||i>0)&&a.items.push({score:i,id:d})}):r.iterator(r.items,function(c,d){a.items.push({score:1,id:d})}),l=r.getSortFunction(a,e),l&&a.items.sort(l),a.total=a.items.length,typeof e.limit=="number"&&(a.items=a.items.slice(0,e.limit)),a};var ta=function(n,e){return typeof n=="number"&&typeof e=="number"?n>e?1:n<e?-1:0:(n=Ur(String(n||"")),e=Ur(String(e||"")),n>e?1:e>n?-1:0)},Vs=function(n,e){var r,i,a,l;for(r=1,i=arguments.length;r<i;r++)if(l=arguments[r],!!l)for(a in l)l.hasOwnProperty(a)&&(n[a]=l[a]);return n},xi=function(n,e,r){if(!(!n||!e)){if(!r)return n[e];for(var i=e.split(".");i.length&&(n=n[i.shift()]););return n}},Xs=function(n){return(n+"").replace(/^\s+|\s+$|/g,"")},Ys=function(n){return(n+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},Fn={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"};const Ur=(function(){var n,e,r,i,a="",l={};for(r in Fn)if(Fn.hasOwnProperty(r))for(i=Fn[r].substring(2,Fn[r].length-1),a+=i,n=0,e=i.length;n<e;n++)l[i.charAt(n)]=r;var o=new RegExp("["+a+"]","g");return function(c){return c.replace(o,function(d){return l[d]}).toLowerCase()}})();let vr;function Qs(n,e,r,i,a){const l=i(n,e,r);if(r==""||n.isSelected||a)return l;vr||(vr=document.createElement("div")),vr.innerHTML=l;const o=Ur(r);return(o.includes("|")?o.split("|").map(c=>c.trim()):o.split(" ")).filter(c=>c).forEach(c=>{xa(vr,c)}),vr.innerHTML}function xa(n,e){let r=0;if(n.nodeType===3){const a=Ur(n.data);let l=a.indexOf(e);if(l-=a.substr(0,l).toUpperCase().length-a.substr(0,l).length,l>=0){const o=document.createElement("span");o.className="highlight";const c=n.splitText(l);c.splitText(e.length);const d=c.cloneNode(!0);o.appendChild(d),c.parentNode.replaceChild(o,c),r=1}}else if(n.nodeType===1&&n.childNodes&&!/(script|style)/i.test(n.tagName)&&(n.className!=="highlight"||n.tagName!=="SPAN"))for(var i=0;i<n.childNodes.length;++i)i+=xa(n.childNodes[i],e);return r}function Js(){return navigator.userAgent.toLowerCase().includes("android")}function ai(n){return(n||"").replace(/\t/g," ").trim().split(" ").filter(e=>e).join(" ")}function Zs(n){return`${n}`.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function $s(n){const e=n-1;return e*e*e+1}function el(n,{from:e,to:r},i={}){var{delay:a=0,duration:l=L=>Math.sqrt(L)*120,easing:o=$s}=i,c=getComputedStyle(n),d=c.transform==="none"?"":c.transform,[h,y]=c.transformOrigin.split(" ").map(parseFloat);h/=n.clientWidth,y/=n.clientHeight;var C=tl(n),T=n.clientWidth/r.width/C,M=n.clientHeight/r.height/C,U=e.left+e.width*h,ne=e.top+e.height*y,Ae=r.left+r.width*h,xe=r.top+r.height*y,we=(U-Ae)*T,et=(ne-xe)*M,Te=e.width/r.width,ke=e.height/r.height;return{delay:a,duration:typeof l=="function"?l(Math.sqrt(we*we+et*et)):l,easing:o,css:(L,P)=>{var x=P*we,k=P*et,W=L+P*Te,re=L+P*ke;return`transform: ${d} translate(${x}px, ${k}px) scale(${W}, ${re});`}}}function tl(n){if("currentCSSZoom"in n)return n.currentCSSZoom;for(var e=n,r=1;e!==null;)r*=+getComputedStyle(e).zoom,e=e.parentElement;return r}function si(n,e){const r=window.getComputedStyle(n);let{groups:{value:i,unit:a}}=r[e].match(/(?<value>\d+)(?<unit>[a-zA-Z]+)/),l=parseFloat(i);if(a!=="px"){const o=a==="rem"?document.documentElement:n.parentElement.parentElement;l=parseFloat(window.getComputedStyle(o).fontSize.match(/\d+/).shift())*l}return l}function nl(n){const e=n.parentElement.parentElement.getBoundingClientRect(),r=n.getBoundingClientRect(),i={};return i.top=e.top<0,i.left=e.left<0,i.bottom=e.bottom+r.height>(window.innerHeight||document.documentElement.clientHeight)&&e.top>r.height&&(window.innerHeight||document.documentElement.clientHeight)>r.height+50,i.right=e.right>(window.innerWidth||document.documentElement.clientWidth),i.any=i.top||i.left||i.bottom||i.right,i}function na(n,e,r){if(!e)return;const i=nl(e);i.bottom&&!i.top?e.parentElement.style.bottom=e.parentElement.parentElement.clientHeight+1+"px":(!n||i.top||e.parentElement.style.bottom!=="")&&(e.parentElement.style.bottom="")}function Mr({container:n,scrollContainer:e,virtualList:r,center:i},a){if(r||!n)return;const l=n.querySelector(`[data-pos="${a}"]`);if(!l)return;const o=l.getBoundingClientRect(),c=e.getBoundingClientRect(),d=l.offsetHeight/3,h=0;switch(!0){case l.offsetTop<e.scrollTop:e.scrollTop=l.offsetTop-d+h;break;case l.offsetTop+o.height>e.scrollTop+c.height:e.scrollTop=l.offsetTop+o.height-e.offsetHeight+d+h;break}}function rl(n,e,r,i){return{optionProps:[],optionsWithGroups:!1,valueField:n,labelField:e,optLabel:r,optItems:i}}function il(n,e,r,i){let a=Array.isArray(e)?e:[e];return r&&(a=a.map(o=>o[i])),n.reduce((o,c)=>(a.includes(c[i])&&(c.$selected=!0,o.push(c)),o),[]).sort((o,c)=>a.indexOf(o[i])<a.indexOf(c[i])?-1:1)}function ra(n,e,r){return typeof n[0]=="object"?JSON.parse(JSON.stringify(n)):n.map(i=>({[e||"value"]:i,[r||"text"]:i}))}function li(n,e){const r=n.reduce((i,a,l)=>a[e.optItems]?(a[e.optItems].length===0||(e.optionsWithGroups=!0,i.push({label:a[e.optLabel],$isGroupHeader:!0}),i.push(...a[e.optItems].map(o=>(o.$isGroupItem=!0,o)))),i):(i.push(a),i),[]);return al(r,e),r}function al(n,e){n.some(r=>r.$isGroupHeader?!1:(e.optionProps=sl(r),!0))}function sl(n){const e=["$disabled","$isGroupHeader","$isGroupItem","$created","$selected"];return Object.keys(n).filter(r=>!e.includes(r))}function ll(n,e,r,i,a={}){if(!a.keepSelectionInList&&r&&(n=n.filter(h=>!r.has(h[i.valueField])).filter((h,y,C)=>!(h.$isGroupHeader&&(C[y+1]&&C[y+1].$isGroupHeader||C.length<=1||C.length-1===y)))),a.disabled||!e)return n;const l=new On(n);(i.optionsWithGroups||a.skipSort)&&(l.getSortFunction=()=>null);let o="and";e.includes("|")&&(o="or",e=e.split("|").map(h=>h.trim()).join(" "));const c=l.search(e,{fields:a.fields||i.optionProps,sort:a.sort||ol(i.labelField),conjunction:a.conjunction||o,nesting:a.nesting||!1,wordsOnly:a.wordsOnly||!1,startOnly:a.startOnly||!1});return i.optionsWithGroups?c.items.reduce((h,y)=>{const C=n[y.id];if(r&&C.isSelected)return h;const T=h.push(C);if(C.$isGroupItem){const M=n.slice(0,y.id);let U=null;do U=M.pop(),U&&U.$isGroupHeader&&!h.includes(U)&&h.splice(T-1,0,U);while(U&&!U.$isGroupHeader)}return h},[]):c.items.map(h=>n[h.id])}function ol(n){return[{field:n,direction:"asc"}]}function Or(n,e,r){const i=n==="value";let a=i?"value":"text";if(e&&e.length){const l=e[0][r]?e[0][r][0]:e[0];if(!l||typeof l=="string")return a;const o=i?0:1,c=i?["id","value","ID"]:["name","title","label"];a=Object.keys(l).filter(d=>c.includes(d)).concat([Object.keys(l)[o]]).shift()}return a}function ul(n,e){return n.bound_item=e,{destroy:()=>{}}}var cl=B("<svelecte-list-row><!></svelecte-list-row>",2),dl=B("<svelecte-list-viewport><svelecte-list-content></svelecte-list-content></svelecte-list-viewport>",2);function fl(n,e){St(e,!0);const r=g(e,"itemHeight",3,null);function i(){const L=t(T).firstElementChild;return(L==null?void 0:L.offsetHeight)||0}let a=e.itemCount,l=e.scrollToIndex,o=0,c=D(0),d=D(0),h=D(0),y=D(0),C=D(null),T=D(null),M=D(He(r())),U=E(()=>`height:${t(y)}px;width:100%`),ne=E(()=>{const L=[];for(let P=t(c);P<t(d);P++)L.push({index:P});return L});function Ae(L){if(l=L,(L<0||L>e.itemCount)&&(L=0),t(c)<L&&L<t(d)-1)return;const P=L*t(M),x=P-t(C).clientHeight+t(M),k=e.itemCount*t(M),W=Math.max(x,Math.min(P,o));o=Math.max(0,Math.min(k-t(C).clientHeight,W)),t(C).scroll({top:o,behavior:"auto"})}async function xe(L){!t(M)&&L&&t(d)===0&&(v(d,1),await Tt(),v(M,i(),!0)),a=L,v(y,Math.min(e.maxHeight,L*t(M)),!0),v(d,Math.min(L,Math.round(e.maxHeight/t(M))),!0),await Tt(),we()}async function we(){const{scrollTop:L}=t(C),P=t(c);let x=0,k=0;for(;x<e.itemCount;){if(k+t(M)>L){v(c,x,!0),v(h,k,!0);break}k+=t(M),x+=1}for(;x<e.itemCount&&(k+=t(M),x+=1,!(k>L+t(y))););if(v(d,x,!0),t(c)<P){let W=0,re=0;for(let R=t(c);R<P;R+=1){const z=R-t(c);t(c)<=z&&z<t(d)&&(W+=t(M),re+=t(M))}const O=re-W;t(C).scrollTo(0,L+O)}}wi(()=>{var L;xe(e.itemCount),(L=t(C))==null||L.addEventListener("scroll",we,{passive:!0})}),ns(()=>{var L;(L=t(C))==null||L.removeEventListener("scroll",we)}),It(()=>{a!==e.itemCount&&xe(e.itemCount)}),It(()=>{l!==e.scrollToIndex&&Ae(e.scrollToIndex)});var et={resolveItemSize:i},Te=dl();Oe(Te,1,"svelte-1gwee35");var ke=p(Te);return Oe(ke,1,"svelte-1gwee35"),un(ke,21,()=>t(ne),L=>L.index,(L,P)=>{var x=cl();Oe(x,1,"svelte-1gwee35");var k=p(x);wt(k,()=>e.children??_t,()=>t(P).index),b(x),S(L,x)}),b(ke),ut(ke,L=>v(T,L),()=>t(T)),b(Te),ut(Te,L=>v(C,L),()=>t(C)),X(()=>{vt(Te,t(U)),vt(ke,`padding-top: ${t(h)??""}px; height: ${e.itemCount*t(M)}px;`)}),S(n,Te),Ct(et)}const vl=(n,e=_t,r=_t)=>{var i=bl(),a=p(i,!0);b(i),X(l=>_e(a,l),[()=>r().collapsedSelection(e().length)]),S(n,i)},hl=(n,e=_t)=>{var r=kl();S(n,r)};ue.requestFactory=Ks;const _r={default(n){return Zs(n[this.label])},html(n){return n[this.label]}},Lr=n=>({destroy:()=>{}});function gl(n,e){if(n instanceof Object)for(let r in n)_r[r]=n[r];else _r[n]=e}const ml=ue;function ia(n){n.preventDefault()}function _l(n,e,r){t(e).length===1&&r()}var bl=B("<span> </span>"),pl=n=>n.preventDefault(),yl=B('<button class="sv-item--btn" tabindex="-1" type="button" data-action="deselect"><svg height="16" width="16" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg></button>'),xl=B('<div class="sv-item--container"><div><div class="sv-item--content"><!></div></div> <!></div>'),wl=ha('<svg class="indicator-icon svelte-dxe3k7" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg>'),kl=ha('<svg class="indicator-icon svelte-dxe3k7" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"></path></svg>'),Il=B('<div class="sv-item--content"><!></div>'),Sl=B('<span> </span> <span class="shortcut svelte-dxe3k7"><kbd class="svelte-dxe3k7"> </kbd>+<kbd class="svelte-dxe3k7">Enter</kbd></span>',1),Cl=B('<span id="aria-selection"> </span> <span id="aria-context"> </span>',1),El=B("<option selected> </option>"),Al=B('<select size="1" class="sv-hidden-element" tabindex="-1" aria-hidden="true"></select>'),Tl=B('<button type="button" data-action="deselect" tabindex="-1"><!></button>'),Fl=B('<span class="sv-btn-separator svelte-dxe3k7"></span>'),Dl=B('<div class="sv-optgroup-header"><b> </b></div>'),Ml=B("<div><!></div>"),Ol=B('<div class="sv-optgroup-header"><b> </b></div>'),Ll=B("<div><!></div>"),Nl=B('<div class="is-dropdown-row svelte-dxe3k7"><div><div class="sv-item--content"> </div></div></div>'),Rl=n=>n.preventDefault(),Hl=B('<div class="is-dropdown-row svelte-dxe3k7"><button type="button"><!></button></div>'),Pl=B('<!> <div tabindex="-1"><div><!> <!></div></div> <!>',1),zl=B('<div role="none"><span aria-live="polite" aria-atomic="false" aria-relevant="additions text" class="a11y-text svelte-dxe3k7"><!></span> <!>  <div><!> <div><!> <span class="sv-input--sizer svelte-dxe3k7"><input type="text" size="1" autocapitalize="none" autocomplete="off" autocorrect="off" spellcheck="false" aria-autocomplete="list" tabindex="0"/></span></div>  <div><!> <!> <button type="button" data-action="toggle" tabindex="-1"><!></button></div> <!></div>  <div><!></div></div>');function Bl(n,e){St(e,!0);const r=(s,f=_t,w=_t)=>{var H=We(),I=Se(H);un(I,25,f,ee=>ee[t(Q)],(ee,Ie)=>{var fe=xl();fe.__mousedown=[pl];var Me=p(fe);let je;var an=p(Me),or=p(an);Xi(or,()=>t(dn)(t(Ie),!0)),b(an),b(Me);var ur=A(Me,2);{var $r=En=>{var ye=yl();mr(ye,(ze,Je)=>{var At;return(At=w())==null?void 0:At(ze,Je)},()=>t(Ie)),X(ze=>Z(ye,"aria-label",ze),[()=>t(m).aria_removeItemLabel(t(Ie),t(st))]),S(En,ye)};te(ur,En=>{O()&&En($r)})}b(fe),X(En=>je=Oe(Me,1,"sv-item--wrap in-selection",null,je,En),[()=>({"is-multi":O()})]),ws(fe,()=>el,()=>({duration:t(he)})),S(ee,fe)}),S(s,H)},i=(s,f=_t,w=_t)=>{var H=We(),I=Se(H);{var ee=Ie=>{var fe=wl();S(Ie,fe)};te(I,Ie=>{t(j).length&&Ie(ee)})}S(s,H)},a=(s,f=_t,w=_t)=>{var H=Il(),I=p(H);Xi(I,()=>Qs(f(),!1,w(),t(dn),et())),b(H),S(s,H)},l=(s,f=_t,w=_t,H=_t)=>{var I=Sl(),ee=Se(I);let Ie;var fe=p(ee,!0);b(ee);var Me=A(ee,2),je=p(Me),an=p(je,!0);b(je),Br(2),b(Me),X((or,ur)=>{Ie=Oe(ee,1,"svelte-dxe3k7",null,Ie,or),_e(fe,ur),_e(an,t(xr))},[()=>({"is-loading":f()}),()=>H().createRowLabel(w())]),S(s,I)};let o=g(e,"name",3,""),c=g(e,"inputId",7,""),d=g(e,"required",3,!1),h=g(e,"disabled",7,!1),y=g(e,"options",23,()=>[]),C=g(e,"valueField",19,()=>ue.valueField),T=g(e,"labelField",19,()=>ue.labelField),M=g(e,"groupLabelField",19,()=>ue.groupLabelField),U=g(e,"groupItemsField",19,()=>ue.groupItemsField),ne=g(e,"disabledField",19,()=>ue.disabledField),Ae=g(e,"placeholder",19,()=>ue.placeholder),xe=g(e,"searchable",19,()=>ue.searchable),we=g(e,"clearable",19,()=>ue.clearable),et=g(e,"disableHighlight",3,!1),Te=g(e,"highlightFirstItem",19,()=>ue.highlightFirstItem),ke=g(e,"selectOnTab",19,()=>ue.selectOnTab),L=g(e,"resetOnBlur",19,()=>ue.resetOnBlur),P=g(e,"resetOnSelect",19,()=>ue.resetOnSelect),x=g(e,"closeAfterSelect",19,()=>ue.closeAfterSelect),k=g(e,"deselectMode",19,()=>ue.deselectMode),W=g(e,"dndzone",3,Lr),re=g(e,"strictMode",3,!0),O=g(e,"multiple",19,()=>ue.multiple),R=g(e,"max",19,()=>ue.max),z=g(e,"collapseSelection",19,()=>ue.collapseSelection),$=g(e,"keepSelectionInList",19,()=>ue.keepSelectionInList),ce=g(e,"creatable",19,()=>ue.creatable),Ce=g(e,"creatablePrefix",19,()=>ue.creatablePrefix),tt=g(e,"allowEditing",19,()=>ue.allowEditing),Le=g(e,"keepCreated",19,()=>ue.keepCreated),ie=g(e,"delimiter",19,()=>ue.delimiter),ae=g(e,"fetch",3,null),ve=g(e,"fetchProps",19,()=>ue.fetchProps),Yn=g(e,"fetchMode",3,"auto"),Ln=g(e,"fetchCallback",19,()=>ue.fetchCallback),nt=g(e,"fetchResetOnBlur",7,!0),Nn=g(e,"fetchDebounceTime",19,()=>ue.fetchDebounceTime),Ke=g(e,"minQuery",19,()=>ue.minQuery),Qn=g(e,"lazyDropdown",19,()=>ue.lazyDropdown),ht=g(e,"virtualList",19,()=>ue.virtualList),Mt=g(e,"vlItemSize",19,()=>ue.vlItemSize),jt=g(e,"searchProps",3,null),_n=g(e,"class",3,"svelecte-control"),Jn=g(e,"i18n",3,null),be=g(e,"value",15),$t=g(e,"readSelection",15),Y=g(e,"emitValues",3,!1),K=g(e,"valueAsObject",19,()=>ue.valueAsObject),J=g(e,"parentValue",3,void 0),gt=g(e,"onChange",3,s=>{}),Ve=g(e,"onFocus",3,s=>{}),ot=g(e,"onBlur",3,s=>{}),Rn=g(e,"onCreateOption",3,s=>{}),en=g(e,"onCreateFail",3,s=>{}),qt=g(e,"onEnterKey",3,s=>{}),Zn=g(e,"onFetch",3,s=>{}),Ot=g(e,"onFetchError",3,s=>{}),bn=g(e,"onInvalidValue",3,s=>{}),tn=g(e,"prepend",3,void 0),$n=g(e,"collapsedSelection",3,vl),er=g(e,"selection",3,r),tr=g(e,"clearIcon",3,i),Fe=g(e,"toggleIcon",3,hl),Ne=g(e,"append",3,void 0),Xe=g(e,"listHeader",3,void 0),qe=g(e,"option",3,a),rt=g(e,"createRow",3,l),it=g(e,"positionResolver",3,Lr),De=g(e,"anchor_element",3,void 0),Gt=g(e,"controlClass",3,void 0),pn=g(e,"dropdownClass",3,void 0),ct=g(e,"optionClass",3,void 0);function Hn(){ge.focus()}function yr(s,f){Xt(s),f&&Sn()}function Wr(s){return In(!s)}function Kr(s){ae()&&(Xr({init:!0,initValue:s,storedValue:nt()}),nt(!1))}const nr=o()?`sv-${o()}-select-${`${Math.random()}`.substring(2,6)}`:null;d()&&!o()&&console.warn("[Svelecte]: 'required' prop has no effect when 'name' prop is NOT set"),ae()&&be()&&K()&&!re()&&(!y()||y()&&y().length===0)&&y(Array.isArray(be())?be():[be()]),c()||c(nr?nr.replace("-select-","-input-"):`svelecte-input-${`${Math.random()}`.substring(2,12)}`);let cn=D(!1),yn=y(),at,rr,Pn=e.optionResolver?e.optionResolver(y(),new Set):ra(y(),C(),T()),Q=D(He(C()||Or("value",Pn,U()))),st=D(He(T()||Or("label",Pn,U())));const Wt=rl(t(Q),t(st),M(),U());let lt=D(He(li(Pn,Wt))),zn=D(!1),Et=E(()=>t(zn)?[]:t(lt));Pn=void 0;let j=D(He(be()?il(t(Et),be(),K(),t(Q)):[]));const pe=t(j).reduce((s,f)=>(s.add(f[t(Q)]),s),new Set);let Lt=t(j).filter(s=>s.$created),Kt=D(!1),nn=D(!1),ir=D(!1),Ye=D(!1),xn=D(!1),de=D(He(Te()?0:-1)),Bn=D(!Qn()),ar=null,xr=D(void 0),u=D(""),_=!1,m=E(()=>Object.assign({},ml.i18n,Jn()||{})),F=E(()=>Yn()==="init"||ae()&&ae().includes("[query]")===!1),N=ae()&&(be()||O()&&be()&&be().length)?K()?re()===!1?Bt(be()):null:JSON.parse(JSON.stringify(be())):null,q=null,le=D(z()!==null),se=D(!1),G=D(!1),he=D(100),V=!1,Be=!1,ge,me,Ue,Ee=D(null),mt;It(()=>{kn(C(),T())});let Pe=E(()=>R()!==0&&t(j).length==R());It(()=>{yt(y())}),It(()=>{be()!==void 0&&Xt(be())});let dt=null,oe=E(()=>(t(j).length,t(Et).length,!t(u)&&ae()&&!t(F)&&nt()?[]:dt||(t(Pe)?[]:ll(t(Et),t(u),Na(t(u)),Wt,jt()||{}))));It(()=>{let s=t(oe).length;ce()&&t(u)&&s++,s<=t(de)&&rn(0,{asc:!ce(),desc:ce()}),sr(t(Pe),t(oe))}),Te()&&rn(0,{asc:!0});let bt=E(()=>e.createFilter||(s=>Lt.includes(s))),Nt=E(()=>e.createHandler||(({inputValue:s,labelField:f,valueField:w,prefix:H})=>({[w]:s,[f]:`${H}${s}`}))),dn=E(()=>typeof e.renderer=="function"?e.renderer:(_r[e.renderer]?_r[e.renderer]:_r.default).bind({label:t(st)})),wn=E(()=>xe()?"text":"none"),Un=E(()=>t(j).length?"":Ae()),pt=E(()=>t(j).length>0&&O()===!1?null:"enter"),Rt=E(()=>t(m).aria_selected(t(j).map(s=>s[t(st)]))),Vt=E(()=>{if(t(j).length&&t(j).length===R())return t(m).max(R());const s=Math.min(t(de),t(oe).length-1);return ae()?t(se)?t(m).fetchInit:t(oe).length?t(de)!==-1?t(m).aria_inputFocused():t(oe)[t(de)]?t(m).aria_listActive(t(oe)[s],t(st),t(oe).filter(f=>!f.$isGroupHeader).length):"N/A."+t(de):Ke()>1?t(m).fetchQuery(Ke(),t(u).length):t(m).fetchBefore:t(oe).length?t(Ye)&&t(de)!==-1&&!isNaN(t(de))?t(m).aria_listActive(t(oe)[s],t(st),t(oe).filter(f=>!f.$isGroupHeader).length):t(m).aria_inputFocused():t(u).length?t(m).nomatch:t(m).empty});function kn(s,f){t(cn)&&(s&&t(Q)!==s&&(Wt.valueField=v(Q,s,!0),pe.size>0&&jn()),f&&(Wt.labelField=v(st,f,!0)))}function yt(s){if(yn!==s){if(s=li(ra(s,t(Q),t(st)),Wt),!C()){const f=Or("value",s||null,U());!C()&&t(Q)!==f&&(Wt.valueField=v(Q,f,!0),pe.size>0&&jn())}if(!T()){const f=Or("label",s||null,U());!T()&&t(st)!==f&&(Wt.labelField=f,v(st,f,!0))}yn=s,v(lt,e.optionResolver?e.optionResolver(s,pe):s,!0)}}function fn(s,f){if(O()){if(s&&(f==null?void 0:f.length)===s.length&&s.length>0)return K()?s.every((w,H)=>w[t(Q)]===f[H][t(Q)]):s.every((w,H)=>w===f[H])}else if(f&&s)return K()?f[t(Q)]===s[t(Q)]:f===s;return!1}function Xt(s,f){if(fn(at,s)&&!(f!=null&&f.skipEqualityCheck))return;const w=Array.isArray(s)&&s.length||O()===!1;if(s!==null&&w){if((O()&&!Array.isArray(s)||!O()&&Array.isArray(s))&&console.warn(`[Svelecte]: Passed 'value' property should ${O()?"be":"NOT be"} an array`),N&&(!Array.isArray(N)||N.length))return;const H=Array.isArray(s)?s:[s],I=[],ee=H.reduce((fe,Me)=>{if(K()&&(!re()||ce()&&Me.$created))return fe.push(Object.fromEntries(Object.entries(Me))),fe;let je=t(Et).find(an=>K()?an[t(Q)]==Me[t(Q)]:an[t(Q)]==Me);return!je&&!re()&&(je=e.createHandler?t(Nt)({inputValue:Me,valueField:t(Q),labelField:t(st),prefix:Ce()}):{[t(Q)]:Me,[t(st)]:Me}),je&&(pe.has(je[t(Q)])||fe.push(je),I.push(je[t(Q)])),fe},[]);if(t(j).forEach(fe=>!I.includes(fe[t(Q)])&&Si(fe)),!(ee.every(Vr)&&(O()?pe.size===H.length:pe.size===1))){console.warn('[Svelecte]: provided "value" property is invalid',s),K()&&re()&&ae()&&console.warn("[Svelecte]: with 'fetch' and 'valueAsObject' set make sure 'strictMode' is set to false to be to set initial value"),jn(),at=O()?[]:null,be(at),$t(at),bn()(s);return}}else jn();at=Bt(s),O()&&!Array.isArray(s)&&(at=[],be(at)),$t(In(!0))}function In(s){const f=s!==!0,w=t(j).map(H=>{if(f)return H[t(Q)];const I={};for(let[ee,Ie]of Object.entries(H))ee[0]!=="$"&&(I[ee]=Ie);return I});return O()?w:w.length?w.shift():null}It(()=>{if(J()!==void 0&&rr!==J()||J()===void 0&&rr!==J()){const s=J()===void 0?!1:!J();jn(),be(O()?[]:null),h(s)}rr=J(),Be=J()!==void 0});function Ge(s){s&&!t(nn)&&v(nn,!0);const f=t(Bn);!t(Bn)&&s&&v(Bn,!0),v(Ye,s,!0),Tt().then(()=>{if(!f&&ht())return Tt()}).then(()=>{it()===Lr&&na(s,t(Ee)),s&&(Te()&&(t(j).length===0||O())&&rn(0,{asc:!0}),!O()&&t(j).length&&v(de,t(Et).findIndex(w=>w[t(Q)]===t(j)[0][t(Q)]),!0),Mr({container:Ue,scrollContainer:t(Ee),virtualList:ht(),center:!1},t(de))),Tt().then(()=>v(xn,s,!0))}),ar||(ar=()=>it()===Lr&&na(s,t(Ee))),document[s?"addEventListener":"removeEventListener"]("scroll",ar,{passive:!0})}function sr(s,f){if(!(ae()&&!t(F))){if(s){v(vn,t(m).max(R()),!0);return}v(vn,f.length!==t(Et).length&&t(j).length!==t(Et).length?ce()?t(m).emptyCreatable:t(m).nomatch:ce()?t(m).emptyCreatable:t(m).empty,!0)}}function Sn(){const s=In(!0),f=In(!1);at=K()?s:f,be(at),$t(s),Tt().then(()=>{gt()(Y()?f:s),me&&me.dispatchEvent(new Event("change"))})}function lr(s,f){if(f=f||s.detail,!(h()||f[ne()]||f.$isGroupHeader)){if(!f||O()&&t(Pe))return!1;if(pe.has(f[t(Q)]))return!O()&&k()!=="toggle"?void 0:wr(f);if(typeof f=="string"){if(!ce()||(f=ai(f),Lt.includes(f)||pe.has(f)))return;v(G,!0),Promise.resolve().then(()=>t(Nt)({inputValue:f,valueField:t(Q),labelField:t(st),prefix:Ce()})).then(w=>{v(G,!1),!ae()&&Lt.push(f),w.$created=!0,Le()&&(t(lt).push(w),w=t(lt)[t(lt).length-1]),Rn()(w),Vr(w),Ii(),Sn()}).catch(w=>{v(G,!1),en()({input:f,error:w})});return}Vr(f),Ii(),Sn()}}function Ii(){(O()&&P()||!O())&&v(u,""),(x()===!0||x()==="auto"&&!O())&&Ge(!1),R()&&t(j).length==R()&&v(de,0)}function Vr(s){if(s.$selected=!0,O())t(j).push(s),pe.add(s[t(Q)]);else{const f=t(j).shift();f&&(f.$selected=!1),v(j,[s],!0),pe.clear(),pe.add(s[t(Q)]),Tt().then(()=>{const w=t(Et).indexOf(s);v(de,w<0?0:w,!0)})}return e.optionResolver&&Tt().then(()=>{v(lt,e.optionResolver(y(),pe),!0)}),!0}function wr(s=null,f){h()||(s?(Si(s,f),$()!==!0&&Tt().then(()=>Mr({scrollContainer:t(Ee),container:Ue,virtualList:ht(),center:!1},t(de)))):jn(),Sn())}function Si(s,f){if(s.$created){if(!Le()){Lt.splice(Lt.findIndex(I=>I===s[t(Q)]),1);const H=t(lt).findIndex(I=>I[t(Q)]===s[t(Q)]);H!==-1&&t(lt).splice(H,1),v(lt,t(lt),!0)}f&&tt()&&v(u,s[t(st)].replace(Ce(),""),!0)}s.$selected=!1;const w=s[t(Q)];if(pe.delete(w),t(j).splice(t(j).findIndex(H=>H[t(Q)]==w),1),e.optionResolver){v(lt,e.optionResolver(y(),pe),!0);return}ae()&&!t(F)&&nt()&&v(zn,!0)}function jn(){if(!(pe.size===0||!O()&&k()==="none")){if(pe.clear(),v(j,t(j).reduce((s,f)=>(f.$selected=!1,[]),[]),!0),Le()||(Lt=[]),t(u)&&v(u,""),e.optionResolver){v(lt,e.optionResolver(y(),pe),!0);return}ae()&&!t(F)&&nt()&&v(zn,!0)}}function Ca(s){s.preventDefault(),!Lt.includes(t(u))&&lr(null,t(u))}function Ea(s){if(ce()&&ie().indexOf(s.key)>-1){t(u).length>0&&lr(null,t(u)),s.preventDefault();return}const f=ke()&&t(Ye)&&!s.shiftKey?"Tab":"No-tab";let w=q?s.metaKey:s.ctrlKey,H=["PageUp","PageDown"].includes(s.key),I=!1,ee=!1;switch(s.key){case"End":if(t(u).length!==0)return;rn(t(oe).length,{desc:!0});case"PageDown":if(H){const[Me,je]=Yr();v(de,Math.min(Math.ceil((je*t(de)+Me)/je),t(oe).length+(ce()&&t(u)?1:0)),!0)}case"ArrowUp":if(s.preventDefault(),!t(Ye)){Ge(!0);return}rn(t(de)-1,{desc:!0}),Tt().then(()=>Mr({scrollContainer:t(Ee),container:Ue,virtualList:ht(),center:!1},t(de)));break;case"Home":if(ee=!0,t(u).length!==0||t(u).length===0&&t(oe).length===0)return;rn(0,{asc:!0});case"PageUp":if(H){const[Me,je]=Yr();v(de,Math.floor((je*t(de)-Me)/je),!0)}case"ArrowDown":if(s.preventDefault(),!t(Ye)){Ge(!0);return}const Ie=t(de)===null?-1:t(de);!ee&&rn(Ie+1,{asc:!0}),Tt().then(()=>Mr({scrollContainer:t(Ee),container:Ue,virtualList:ht(),center:!1},t(de)));break;case"Escape":t(Ye)&&(s.preventDefault(),s.stopPropagation()),t(u)||Ge(!1),v(u,"");break;case f:case"Enter":if(!t(Ye)){s.key!==f&&qt()(s);return}let fe=w?null:t(oe)[t(de)];if(ce()&&!fe&&t(u)){const Me=t(bt)(ai(t(u)));fe=!fe||w?ai(t(u)):fe,w=Me}if(!w&&fe&&lr(null,fe),t(oe).length<=t(de)&&rn(t(oe).length-1),!fe&&t(j).length){Ge(!1),s.key!==f&&qt()(s);return}(s.key!==f||s.key===f&&ke()!=="select-navigate")&&s.preventDefault();break;case" ":!ae()&&!t(Ye)&&(Ge(!0),s.preventDefault());break;case"Backspace":if(z()==="always")return;I=!0;case"Delete":if(t(u)===""&&t(j).length){if(!O()&&k()==="none")return;w?wr():wr(t(j)[t(j).length-1],I),s.preventDefault()}default:!w&&!["Tab","Shift"].includes(s.key)&&!t(Ye)&&!t(se)&&Ge(!0)}}function Ci(s){if(h())return;const f=s.target.closest("[data-action]");if(t(nn)||v(nn,!0),(f==null?void 0:f.dataset.action)==="default")return;s.preventDefault();const w=s.target.closest("[data-pos]");if(!f&&!w)return Ra(s.target);switch((f==null?void 0:f.dataset.action)||"select"){case"deselect":let I=f.bound_item;if(!I){const Ie=f.dataset.id;I=t(j).filter(fe=>fe[t(Q)]==Ie).shift()}wr(I),I&&!t(Kt)&&ge.focus();break;case"select":const ee=parseInt(w.dataset.pos);lr(null,t(oe)[ee]);break;case"toggle":Ge(!t(Ye));break}}function Aa(s){if(Js()&&!t(pt)&&s.key==="Enter")return!0;_=["Enter","Escape"].includes(s.key)&&t(Ye),Ea(s)}function Ta(s){_&&(s.stopImmediatePropagation(),s.preventDefault()),_=!1}function Fa(){v(Kt,!0),Ge(t(nn)),t(ir)||v(ir,!0),z()==="blur"&&!V&&setTimeout(()=>{v(le,!1)},100),Ve()(ge)}function Da(){v(Kt,!1),Ge(!1),v(nn,!1),L()?v(u,""):xt&&!t(F)&&xt.abort("blur"),z()==="blur"&&!V&&setTimeout(()=>{v(le,!0)},100),ot()(ge)}function Ma(s){if(ce()){s.preventDefault();const f=new RegExp("([^"+ie()+"\\n]+)","g"),w=s.clipboardData.getData("text/plain").replace(/\//g,"/").replace(/\t/g," "),H=w.match(f);H.length===1&&w.indexOf(",")===-1&&v(u,H.pop().trim(),!0),H.forEach(I=>lr(null,I.trim()))}}function Ei(s){V=s.type==="consider",v(j,s.detail.items,!0),V||(Sn(),z()==="blur"&&setTimeout(()=>{v(le,!0)},200))}let xt,kr;It(()=>{La(t(u))}),It(()=>{Oa(ae(),J())});let vn=D(He(ae()?t(F)?t(m).fetchInit:Ke()>1?t(m).fetchQuery(Ke(),0):t(m).fetchBefore:ce()?t(m).emptyCreatable:t(m).empty));function Oa(s,f){if(!s){kr=null;return}(t(F)||N)&&(v(se,!0),Xr({init:!0})),kr=Ws(Xr,Nn())}function La(s){if(t(F)||t(Pe)){v(vn,t(Pe)?t(m).max(R()):t(m).fetchInit,!0);return}kr&&(xt==null||xt.abort(),v(se,!0),t(u).length<Ke()&&v(se,!1),!e.optionResolver&&nt()&&(dt=[]),v(xn,s.length>=Ke()?ce():!0,!0),v(vn,t(Pe)?t(m).max(R()):Ke()<=1?t(m).fetchBefore:t(m).fetchQuery(Ke(),s.length),!0),kr())}function Xr(s={}){if(xt==null||xt.abort(),s.init!==!0&&!t(u).length||Be&&!J()){v(se,!1),nt()&&v(lt,e.optionResolver?e.optionResolver(y(),pe):[],!0);return}if(t(u)&&t(u).length<Ke()){v(se,!1);return}t(F)&&at&&(!O()||(at==null?void 0:at.length)>0)&&(N=at);const f=Bt(N||s.initValue);let w;if(f&&(w=K()?O()?f.map(I=>I[t(Q)]):f[t(Q)]:f),t(F))v(vn,t(m).fetchInit,!0);else if(f&&e.optionResolver){N=null,v(vn,Ke()>1?t(m).fetchQuery(Ke(),t(u).length):t(m).fetchBefore,!0);return}const H=ue.requestFactory(t(u),{parentValue:J(),url:ae(),initial:w},typeof ve()=="function"?ve()():ve());xt==null||xt.abort(),xt=H.controller,window.fetch(H.request).then(I=>I.json()).then(I=>(!Array.isArray(I)&&(I!=null&&I.error)&&Ot()(I.error),Promise.resolve(Ln()?Ln()(I):I.data||I.items||I.options||I).then(ee=>{Array.isArray(ee)||(console.warn("[Svelecte]:Fetch - array expected, invalid property provided:",ee),ee=[]),v(zn,!1),dt=null,v(lt,li(ee,Wt),!0),Zn()(ee),f&&(N=null,Xt(f,{skipEqualityCheck:!0}),"storedValue"in s&&nt(s.storedValue))}))).catch(I=>{if(I instanceof DOMException&&I.name==="AbortError")return!0;dt=null,v(lt,[],!0),Ot()(I),console.warn("[Svelecte] Fetch Error:",I)}).then(I=>{I!==!0&&(v(vn,t(F)?t(m).empty:f?Ke()>1?t(m).fetchQuery(Ke(),0):t(m).fetchBefore:t(m).fetchEmpty,!0),xt=null,v(se,!1),t(Kt)&&Ge(!0),t(Ye)&&!t(xn)&&v(xn,!0))})}function Na(s){return $()?$()===!0?s?pe:null:s||O()?pe:null:pe}function rn(s,f={},w=0){var I;const H=ce()&&t(u)?t(oe).length+1:t(oe).length;if(!(w>=2)){if(s<0&&(s=f.desc?H-1:0),(t(de)===null&&Te()||s>=H)&&(s=0),(I=t(oe)[s])!=null&&I.$isGroupHeader){rn(f.asc?s+1:s-1,f,++w);return}v(de,s,!0)}}function Ra(s){if(!h()){if(!t(Kt)){ge.focus();return}s.tagName==="INPUT"&&t(u)||Ge(!t(Ye))}}function Yr(){return ht()?[si(t(Ee),"maxHeight")-si(t(Ee),"paddingTop")-si(t(Ee),"paddingBottom"),mt==null?void 0:mt.resolveItemSize()]:[t(Ee).offsetHeight,Ue.firstElementChild.offsetHeight]}wi(()=>{v(cn,!0),q=navigator.platform.indexOf("Mac")===0||navigator.platform==="iPhone",v(xr,q?"⌘":"Ctrl",!0),De()&&(me=document.getElementById(De()),me.className="sv-hidden-element",me.innerHTML="",me.tabIndex=-1,me.disabled=h(),me.required=d(),me.multiple=O(),!O()&&me.insertAdjacentHTML("beforeend",'<option value="" selected>Empty</option>'),pe.forEach(s=>{me.insertAdjacentHTML("beforeend",`<option value=${s} selected>${s}</option>`)})),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&v(he,0)});var Ha={focus:Hn,setSelection:yr,getSelection:Wr,refetchWith:Kr},Ir=zl();let Ai;var Qr=p(Ir),Pa=p(Qr);{var za=s=>{var f=Cl(),w=Se(f),H=p(w,!0);b(w);var I=A(w,2),ee=p(I,!0);b(I),X(()=>{_e(H,t(Rt)),_e(ee,t(Vt))}),S(s,f)};te(Pa,s=>{t(Kt)&&s(za)})}b(Qr);var Ti=A(Qr,2);{var Ba=s=>{var f=Al();un(f,21,()=>t(j),w=>w[t(Q)],(w,H)=>{var I=El(),ee=p(I,!0);b(I);var Ie={};X(()=>{_e(ee,t(H)[t(Q)]),Ie!==(Ie=t(H)[t(Q)])&&(I.value=(I.__value=t(H)[t(Q)])??"")}),S(w,I)}),b(f),ut(f,w=>me=w,()=>me),X(()=>{Z(f,"name",o()),f.required=d(),f.multiple=O(),f.disabled=h(),Z(f,"id",nr)}),S(s,f)};te(Ti,s=>{o()&&!De()&&s(Ba)})}var qn=A(Ti,2);qn.__mousedown=[ia],qn.__click=Ci;var Fi=p(qn);{var Ua=s=>{var f=We(),w=Se(f);wt(w,tn),S(s,f)};te(Fi,s=>{tn()&&s(Ua)})}var Cn=A(Fi,2);let Di;var Mi=p(Cn);{var ja=s=>{var f=We(),w=Se(f);wt(w,$n,()=>t(j),()=>t(m)),S(s,f)},qa=s=>{var f=We(),w=Se(f);{var H=I=>{var ee=We(),Ie=Se(ee);wt(Ie,er,()=>t(j),()=>ul),S(I,ee)};te(w,I=>{t(j).length&&I(H)},!0)}S(s,f)};te(Mi,s=>{t(j).length&&O()&&t(le)?s(ja):s(qa,!1)})}var Jr=A(Mi,2),Qe=p(Jr);ft(Qe);let Oi;Qe.__keydown=Aa,Qe.__keyup=Ta,Qe.__input=[_l,j,O],ut(Qe,s=>ge=s,()=>ge),b(Jr),b(Cn),mr(Cn,(s,f)=>{var w;return(w=W())==null?void 0:w(s,f)},()=>({items:t(j),flipDurationMs:t(he),type:c(),dragDisabled:t(le)}));var Sr=A(Cn,2);let Li;var Ni=p(Sr);{var Ga=s=>{var f=Tl();let w;var H=p(f);wt(H,tr,()=>t(j),()=>t(u)),b(f),X(I=>w=Oe(f,1,"sv-btn-indicator svelte-dxe3k7",null,w,I),[()=>({"sv-has-selection":t(j).length})]),S(s,f)};te(Ni,s=>{we()&&!h()&&s(Ga)})}var Ri=A(Ni,2);{var Wa=s=>{var f=Fl();S(s,f)};te(Ri,s=>{we()&&s(Wa)})}var Zr=A(Ri,2);let Hi;var Ka=p(Zr);wt(Ka,Fe,()=>t(Ye)),b(Zr),b(Sr);var Va=A(Sr,2);{var Xa=s=>{var f=We(),w=Se(f);wt(w,Ne),S(s,f)};te(Va,s=>{Ne()&&s(Xa)})}b(qn);var Gn=A(qn,2);let Pi;Gn.__mousedown=[ia],Gn.__click=Ci;var Ya=p(Gn);{var Qa=s=>{var f=Pl(),w=Se(f);{var H=ye=>{var ze=We(),Je=Se(ze);wt(Je,Xe),S(ye,ze)};te(w,ye=>{Xe()&&ye(H)})}var I=A(w,2);let ee;var Ie=p(I);let fe;var Me=p(Ie);{var je=ye=>{{const ze=(Ht,hn=_t)=>{const Yt=E(()=>t(oe)[hn()]||{});var Cr=We(),An=Se(Cr);{var Er=gn=>{var Pt=Dl(),Tn=p(Pt),Qt=p(Tn,!0);b(Tn),b(Pt),X(()=>_e(Qt,t(Yt).label)),S(gn,Pt)},Ar=gn=>{var Pt=Ml();let Tn;var Qt=p(Pt);wt(Qt,qe,()=>t(Yt),()=>t(u)),b(Pt),X(zt=>{Z(Pt,"data-pos",hn()),Tn=Oe(Pt,1,`sv-item--wrap in-dropdown ${ct()??""}`,"svelte-dxe3k7",Tn,zt)},[()=>({"sv-dd-item-active":t(de)===hn(),"is-selected":t(Yt).$selected||pe.has(t(Yt)[t(Q)]),"is-disabled":t(Yt)[ne()]})]),S(gn,Pt)};te(An,gn=>{t(Yt).$isGroupHeader?gn(Er):gn(Ar,!1)})}S(Ht,Cr)};let Je=E(()=>Yr().shift()),At=E(()=>t(oe).length||0);ut(fl(ye,{get maxHeight(){return t(Je)},get itemHeight(){return Mt()},get itemCount(){return t(At)},get scrollToIndex(){return t(de)},children:ze,$$slots:{default:!0}}),Ht=>mt=Ht,()=>mt)}},an=ye=>{var ze=We(),Je=Se(ze);{var At=Ht=>{var hn=We(),Yt=Se(hn);un(Yt,17,()=>t(oe),hr,(Cr,An,Er)=>{var Ar=We(),gn=Se(Ar);{var Pt=Qt=>{var zt=Ol(),cr=p(zt),ei=p(cr,!0);b(cr),b(zt),X(()=>_e(ei,t(An).label)),S(Qt,zt)},Tn=Qt=>{var zt=Ll();Z(zt,"data-pos",Er);let cr;var ei=p(zt);wt(ei,qe,()=>t(An),()=>t(u)),b(zt),X(Ja=>cr=Oe(zt,1,`sv-item--wrap in-dropdown ${ct()??""}`,"svelte-dxe3k7",cr,Ja),[()=>({"sv-dd-item-active":t(de)===Er,"is-selected":t(An).$selected,"is-disabled":t(An)[ne()]})]),S(Qt,zt)};te(gn,Qt=>{t(An).$isGroupHeader?Qt(Pt):Qt(Tn,!1)})}S(Cr,Ar)}),S(Ht,hn)};te(Je,Ht=>{ht()===!1&&Ht(At)},!0)}S(ye,ze)};te(Me,ye=>{ht()&&t(Ee)?ye(je):ye(an,!1)})}var or=A(Me,2);{var ur=ye=>{var ze=Nl(),Je=p(ze),At=p(Je),Ht=p(At,!0);b(At),b(Je),b(ze),X(()=>{Oe(Je,1,`sv-item--wrap in-dropdown ${ct()??""}`,"svelte-dxe3k7"),_e(Ht,t(vn))}),S(ye,ze)};te(or,ye=>{(t(oe).length===0&&(!ce()||!t(u))||t(Pe))&&ye(ur)})}b(Ie),ut(Ie,ye=>Ue=ye,()=>Ue),b(I),ut(I,ye=>v(Ee,ye),()=>t(Ee));var $r=A(I,2);{var En=ye=>{var ze=Hl(),Je=p(ze);let At;Je.__click=Ca,Je.__mousedown=[Rl];var Ht=p(Je);wt(Ht,rt,()=>t(G),()=>t(u),()=>t(m)),b(Je),b(ze),X((hn,Yt)=>{At=Oe(Je,1,"creatable-row svelte-dxe3k7",null,At,hn),Je.disabled=Yt},[()=>({active:(t(oe).length?t(oe).length:0)===t(de),"is-disabled":t(bt)(t(u))}),()=>t(bt)(t(u))]),S(ye,ze)};te($r,ye=>{ce()&&t(u)&&!t(Pe)&&ye(En)})}X((ye,ze)=>{ee=Oe(I,1,"sv-dropdown-scroll svelte-dxe3k7",null,ee,ye),fe=Oe(Ie,1,"sv-dropdown-content",null,fe,ze)},[()=>({"has-items":t(oe).length>0,"is-virtual":ht()}),()=>({"max-reached":t(Pe)})]),S(s,f)};te(Ya,s=>{t(cn)&&t(Bn)&&s(Qa)})}return b(Gn),mr(Gn,s=>{var f;return(f=it())==null?void 0:f(s)}),b(Ir),X((s,f,w,H,I,ee)=>{Ai=Oe(Ir,1,xs(["svelecte",_n()]),"svelte-dxe3k7",Ai,s),Oe(qn,1,`sv-control ${Gt()??""}`,"svelte-dxe3k7"),Di=Oe(Cn,1,"sv-control--selection svelte-dxe3k7",null,Di,f),Z(Jr,"data-value",t(u)||t(Un)),Oi=Oe(Qe,1,"sv-input--text svelte-dxe3k7",null,Oi,w),Z(Qe,"id",c()),Z(Qe,"placeholder",t(u)?"":t(Un)),Z(Qe,"inputmode",t(wn)),Qe.readOnly=!xe(),Z(Qe,"enterkeyhint",t(pt)),Qe.disabled=h(),Z(Qe,"aria-label",t(m).aria_label),Z(Qe,"aria-describedby",t(m).aria_describedby),Li=Oe(Sr,1,"sv-buttons svelte-dxe3k7",null,Li,H),Hi=Oe(Zr,1,"sv-btn-indicator svelte-dxe3k7",null,Hi,I),Pi=Oe(Gn,1,`sv_dropdown ${pn()??""} `,"svelte-dxe3k7",Pi,ee)},[()=>({"is-required":d(),"is-empty":t(j).length===0,"is-invalid":d()&&t(j).length===0,"is-tainted":t(ir),"is-valid":d()?t(j).length>0:!0,"is-focused":t(Kt),"is-open":t(Ye),"is-disabled":h()}),()=>({"is-single":O()===!1,"has-items":t(j).length>0,"has-input":t(u).length}),()=>({"keep-value":!L()}),()=>({"is-loading":t(se)}),()=>({"sv-dropdown-opened":t(Ye)}),()=>({"is-open":t(xn)})]),$e("consider",Cn,Ei),$e("finalize",Cn,Ei),$e("focus",Qe,Fa),$e("blur",Qe,Da),$e("paste",Qe,Ma),ma(Qe,()=>t(u),s=>v(u,s)),S(n,Ir),Ct(Ha)}Xn(["mousedown","click","keydown","keyup","input"]);var Ul={grad:.9,turn:360,rad:360/(2*Math.PI)},ln=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Ze=function(n,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*n)/r+0},Dt=function(n,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),n>r?r:n>e?n:e},wa=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},aa=function(n){return{r:Dt(n.r,0,255),g:Dt(n.g,0,255),b:Dt(n.b,0,255),a:Dt(n.a)}},oi=function(n){return{r:Ze(n.r),g:Ze(n.g),b:Ze(n.b),a:Ze(n.a,3)}},jl=/^#([0-9a-f]{3,8})$/i,Nr=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},ka=function(n){var e=n.r,r=n.g,i=n.b,a=n.a,l=Math.max(e,r,i),o=l-Math.min(e,r,i),c=o?l===e?(r-i)/o:l===r?2+(i-e)/o:4+(e-r)/o:0;return{h:60*(c<0?c+6:c),s:l?o/l*100:0,v:l/255*100,a}},Ia=function(n){var e=n.h,r=n.s,i=n.v,a=n.a;e=e/360*6,r/=100,i/=100;var l=Math.floor(e),o=i*(1-r),c=i*(1-(e-l)*r),d=i*(1-(1-e+l)*r),h=l%6;return{r:255*[i,c,o,o,d,i][h],g:255*[d,i,i,c,o,o][h],b:255*[o,o,d,i,i,c][h],a}},sa=function(n){return{h:wa(n.h),s:Dt(n.s,0,100),l:Dt(n.l,0,100),a:Dt(n.a)}},la=function(n){return{h:Ze(n.h),s:Ze(n.s),l:Ze(n.l),a:Ze(n.a,3)}},oa=function(n){return Ia((r=(e=n).s,{h:e.h,s:(r*=((i=e.l)<50?i:100-i)/100)>0?2*r/(i+r)*100:0,v:i+r,a:e.a}));var e,r,i},br=function(n){return{h:(e=ka(n)).h,s:(a=(200-(r=e.s))*(i=e.v)/100)>0&&a<200?r*i/100/(a<=100?a:200-a)*100:0,l:a/2,a:e.a};var e,r,i,a},ql=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Gl=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Wl=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Kl=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ua={string:[[function(n){var e=jl.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Ze(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Ze(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=Wl.exec(n)||Kl.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:aa({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=ql.exec(n)||Gl.exec(n);if(!e)return null;var r,i,a=sa({h:(r=e[1],i=e[2],i===void 0&&(i="deg"),Number(r)*(Ul[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return oa(a)},"hsl"]],object:[[function(n){var e=n.r,r=n.g,i=n.b,a=n.a,l=a===void 0?1:a;return ln(e)&&ln(r)&&ln(i)?aa({r:Number(e),g:Number(r),b:Number(i),a:Number(l)}):null},"rgb"],[function(n){var e=n.h,r=n.s,i=n.l,a=n.a,l=a===void 0?1:a;if(!ln(e)||!ln(r)||!ln(i))return null;var o=sa({h:Number(e),s:Number(r),l:Number(i),a:Number(l)});return oa(o)},"hsl"],[function(n){var e=n.h,r=n.s,i=n.v,a=n.a,l=a===void 0?1:a;if(!ln(e)||!ln(r)||!ln(i))return null;var o=(function(c){return{h:wa(c.h),s:Dt(c.s,0,100),v:Dt(c.v,0,100),a:Dt(c.a)}})({h:Number(e),s:Number(r),v:Number(i),a:Number(l)});return Ia(o)},"hsv"]]},ca=function(n,e){for(var r=0;r<e.length;r++){var i=e[r][0](n);if(i)return[i,e[r][1]]}return[null,void 0]},Vl=function(n){return typeof n=="string"?ca(n.trim(),ua.string):typeof n=="object"&&n!==null?ca(n,ua.object):[null,void 0]},ui=function(n,e){var r=br(n);return{h:r.h,s:Dt(r.s+100*e,0,100),l:r.l,a:r.a}},ci=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},da=function(n,e){var r=br(n);return{h:r.h,s:r.s,l:Dt(r.l+100*e,0,100),a:r.a}},fa=(function(){function n(e){this.parsed=Vl(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Ze(ci(this.rgba),2)},n.prototype.isDark=function(){return ci(this.rgba)<.5},n.prototype.isLight=function(){return ci(this.rgba)>=.5},n.prototype.toHex=function(){return e=oi(this.rgba),r=e.r,i=e.g,a=e.b,o=(l=e.a)<1?Nr(Ze(255*l)):"","#"+Nr(r)+Nr(i)+Nr(a)+o;var e,r,i,a,l,o},n.prototype.toRgb=function(){return oi(this.rgba)},n.prototype.toRgbString=function(){return e=oi(this.rgba),r=e.r,i=e.g,a=e.b,(l=e.a)<1?"rgba("+r+", "+i+", "+a+", "+l+")":"rgb("+r+", "+i+", "+a+")";var e,r,i,a,l},n.prototype.toHsl=function(){return la(br(this.rgba))},n.prototype.toHslString=function(){return e=la(br(this.rgba)),r=e.h,i=e.s,a=e.l,(l=e.a)<1?"hsla("+r+", "+i+"%, "+a+"%, "+l+")":"hsl("+r+", "+i+"%, "+a+"%)";var e,r,i,a,l},n.prototype.toHsv=function(){return e=ka(this.rgba),{h:Ze(e.h),s:Ze(e.s),v:Ze(e.v),a:Ze(e.a,3)};var e},n.prototype.invert=function(){return kt({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),kt(ui(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),kt(ui(this.rgba,-e))},n.prototype.grayscale=function(){return kt(ui(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),kt(da(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),kt(da(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?kt({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Ze(this.rgba.a,3);var r},n.prototype.hue=function(e){var r=br(this.rgba);return typeof e=="number"?kt({h:e,s:r.s,l:r.l,a:r.a}):Ze(r.h)},n.prototype.isEqual=function(e){return this.toHex()===kt(e).toHex()},n})(),kt=function(n){return n instanceof fa?n:new fa(n)};function Xl(n,e,r,i,a,l,o){var d;const c=n.shiftKey?t(e)*10:t(e);n.key==="ArrowUp"||n.key==="ArrowRight"?(r(r()+c),n.preventDefault()):n.key==="ArrowDown"||n.key==="ArrowLeft"?(r(r()-c),n.preventDefault()):n.key==="Home"?(r(t(i)),n.preventDefault()):n.key==="End"?(r(t(a)),n.preventDefault()):n.key==="PageUp"?(r(r()+t(e)*10),n.preventDefault()):n.key==="PageDown"&&(r(r()-t(e)*10),n.preventDefault()),r(l(r())),(d=o.onInput)==null||d.call(o,r())}var Yl=B('<input type="hidden"/>'),Ql=B('<div role="slider" tabindex="0"><div class="track svelte-1ai9ren"></div> <div class="thumb svelte-1ai9ren"></div></div> <!>',1);function jr(n,e){St(e,!0);let r=g(e,"min",3,0),i=g(e,"max",3,100),a=g(e,"step",3,1),l=g(e,"value",15,50),o=g(e,"ariaValueText",3,R=>R.toString()),c=g(e,"direction",3,"horizontal"),d=g(e,"reverse",3,!1),h=g(e,"keyboardOnly",3,!1),y=g(e,"slider",7),C=g(e,"isDragging",7,!1);const T=E(()=>typeof r()=="string"?parseFloat(r()):r()),M=E(()=>typeof i()=="string"?parseFloat(i()):i()),U=E(()=>typeof a()=="string"?parseFloat(a()):a());function ne(R){const z=1/t(U),$=Math.round(R*z)/z;return Math.max(t(T),Math.min(t(M),$))}const Ae={horizontal:{clientSize:"clientWidth",offset:"left",client:"clientX"},vertical:{clientSize:"clientHeight",offset:"top",client:"clientY"}};function xe(R){var Ce,tt,Le;const z=((Ce=y())==null?void 0:Ce[Ae[c()].clientSize])||120,$=((tt=y())==null?void 0:tt.getBoundingClientRect()[Ae[c()].offset])||0;let ce=R[Ae[c()].client]-$;c()==="vertical"&&(ce=-1*ce+z),d()?l(t(M)-ce/z*(t(M)-t(T))):l(ce/z*(t(M)-t(T))+t(T)),l(ne(l())),(Le=e.onInput)==null||Le.call(e,l())}function we(R){xe(R),C(!0)}function et(R){C()&&xe(R)}function Te(){C(!1)}function ke(R){R.preventDefault(),xe({clientX:R.changedTouches[0].clientX,clientY:R.changedTouches[0].clientY})}const L=E(()=>((l()-t(T))/(t(M)-t(T))*1).toFixed(4));var P=Ql();$e("mousemove",Dn,et),$e("mouseup",Dn,Te);var x=Se(P);let k;x.__keydown=[Xl,U,l,T,M,ne,e],x.__mousedown=function(...R){var z;(z=h()?void 0:we)==null||z.apply(this,R)},x.__touchstart=function(...R){var z;(z=h()?void 0:ke)==null||z.apply(this,R)},x.__touchmove=function(...R){var z;(z=h()?void 0:ke)==null||z.apply(this,R)},x.__touchend=function(...R){var z;(z=h()?void 0:ke)==null||z.apply(this,R)};let W;ut(x,R=>y(R),()=>y());var re=A(x,2);{var O=R=>{var z=Yl();ft(z),X(()=>{Z(z,"name",e.name),Ft(z,l())}),S(R,z)};te(re,R=>{e.name&&R(O)})}X((R,z,$)=>{k=Oe(x,1,"slider svelte-1ai9ren",null,k,R),Z(x,"aria-orientation",c()),Z(x,"aria-valuemax",t(M)),Z(x,"aria-valuemin",t(T)),Z(x,"aria-valuenow",l()),Z(x,"aria-valuetext",z),Z(x,"aria-label",e.ariaLabel),Z(x,"aria-labelledby",e.ariaLabelledBy),Z(x,"aria-controls",e.ariaControls),W=vt(x,"",W,$)},[()=>({reverse:d()}),()=>o()(l()),()=>({"--position":t(L)})]),S(n,P),Ct()}Xn(["keydown","mousedown","touchstart","touchmove","touchend"]);function di(n,e){n.preventDefault(),e(n.changedTouches[0])}var Jl=B('<div class="picker svelte-ngcc0s"><!> <div class="s svelte-ngcc0s"><!></div> <div class="v svelte-ngcc0s"><!></div></div>');function Zl(n,e){St(e,!0);let r=g(e,"s",15),i=g(e,"v",15),a=D(void 0),l=!1,o=D(He({x:100,y:0})),c=E(()=>kt({h:e.h,s:100,v:100,a:1}).toHex());function d(P,x,k){return Math.min(Math.max(x,P),k)}function h(P){if(!t(a))return;const{width:x,left:k,height:W,top:re}=t(a).getBoundingClientRect(),O={x:d(P.clientX-k,0,x),y:d(P.clientY-re,0,W)};r(d(O.x/x,0,1)*100),i(d((W-O.y)/W,0,1)*100),M()}function y(P){P.preventDefault(),P.button===0&&(l=!0,h(P))}function C(){l=!1}function T(P){l&&h(P)}It(()=>{typeof r()=="number"&&typeof i()=="number"&&t(a)&&v(o,{x:r(),y:100-i()},!0)});function M(P={}){e.onInput({s:r(),v:i(),...P})}var U=Jl();$e("mouseup",Dn,C),$e("mousemove",Dn,T),U.__mousedown=y,U.__touchstart=[di,h],U.__touchmove=[di,h],U.__touchend=[di,h];let ne;var Ae=p(U);Kn(Ae,()=>e.components.pickerIndicator,(P,x)=>{x(P,{get pos(){return t(o)},get isDark(){return e.isDark}})});var xe=A(Ae,2);let we;var et=p(xe);jr(et,{get value(){return r()},onInput:P=>M({s:P}),keyboardOnly:!0,ariaValueText:P=>`${P}%`,get ariaLabel(){return e.texts.label.s}}),b(xe);var Te=A(xe,2);let ke;var L=p(Te);jr(L,{get value(){return i()},onInput:P=>M({v:P}),keyboardOnly:!0,ariaValueText:P=>`${P}%`,direction:"vertical",get ariaLabel(){return e.texts.label.v}}),b(Te),b(U),ut(U,P=>v(a,P),()=>t(a)),X((P,x,k)=>{ne=vt(U,"",ne,P),we=vt(xe,"",we,x),ke=vt(Te,"",ke,k)},[()=>({"--picker-color-bg":t(c)}),()=>({"--pos-y":t(o).y}),()=>({"--pos-x":t(o).x})]),S(n,U),Ct()}Xn(["mousedown","touchstart","touchmove","touchend"]);var $l=B(`<div class="pointer-events-none absolute z-30 -translate-x-1/2 -translate-y-1/2
         w-2 h-2 rounded-full shadow-[0_0_0_2px_#fff]"></div>`);function eo(n,e){St(e,!1);let r=g(e,"pos",8);Ss();var i=$l();X(()=>vt(i,`left:${hi(r()),vi(()=>r().x)??""}%; top:${hi(r()),vi(()=>r().y)??""}%;`)),S(n,i),Ct()}function to(n,e,r,i){const a=n.target;e.test(a.value)&&(r(a.value),i.onInput({hex:r()}))}var no=B('<input class="svelte-5q694h"/>'),ro=B('<input type="number" min="0" max="255" class="svelte-5q694h"/> <input type="number" min="0" max="255" class="svelte-5q694h"/> <input type="number" min="0" max="255" class="svelte-5q694h"/>',1),io=B('<input type="number" min="0" max="360" class="svelte-5q694h"/> <input type="number" min="0" max="100" class="svelte-5q694h"/> <input type="number" min="0" max="100" class="svelte-5q694h"/>',1),ao=B('<input type="number" min="0" max="1" step="0.01" class="svelte-5q694h"/>'),so=(n,e,r)=>v(e,t(r),!0),lo=B('<button type="button" class="svelte-5q694h"><span class="disappear svelte-5q694h" aria-hidden="true"> </span> <span class="appear svelte-5q694h"> </span></button>'),oo=B('<div class="button-like svelte-5q694h"> </div>'),uo=B('<div class="text-input svelte-5q694h"><div class="input-container svelte-5q694h"><!> <!></div> <!></div>');function co(n,e){St(e,!0);let r=g(e,"rgb",15),i=g(e,"hsv",15),a=g(e,"hex",15);const l=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;let o=D(He(e.textInputModes[0]||"hex")),c=E(()=>e.textInputModes[(e.textInputModes.indexOf(t(o))+1)%e.textInputModes.length]),d=E(()=>Math.round(i().h)),h=E(()=>Math.round(i().s)),y=E(()=>Math.round(i().v)),C=E(()=>i().a===void 0?1:Math.round(i().a*100)/100);function T(x){return function(k){r({...r(),[x]:parseFloat(k.target.value)}),e.onInput({rgb:r()})}}function M(x){return function(k){i({...i(),[x]:parseFloat(k.target.value)}),e.onInput({hsv:i()})}}var U=uo(),ne=p(U),Ae=p(ne);{var xe=x=>{var k=no();ft(k),k.__input=[to,l,a,e],vt(k,"",{},{flex:3}),X(()=>{Z(k,"aria-label",e.texts.label.hex),Ft(k,a())}),S(x,k)},we=x=>{var k=We(),W=Se(k);{var re=R=>{var z=ro(),$=Se(z);ft($);var ce=E(()=>T("r"));$.__input=function(...ae){var ve;(ve=t(ce))==null||ve.apply(this,ae)};var Ce=A($,2);ft(Ce);var tt=E(()=>T("g"));Ce.__input=function(...ae){var ve;(ve=t(tt))==null||ve.apply(this,ae)};var Le=A(Ce,2);ft(Le);var ie=E(()=>T("b"));Le.__input=function(...ae){var ve;(ve=t(ie))==null||ve.apply(this,ae)},X(()=>{Z($,"aria-label",e.texts.label.r),Ft($,r().r),Z(Ce,"aria-label",e.texts.label.g),Ft(Ce,r().g),Z(Le,"aria-label",e.texts.label.b),Ft(Le,r().b)}),S(R,z)},O=R=>{var z=io(),$=Se(z);ft($);var ce=E(()=>M("h"));$.__input=function(...ae){var ve;(ve=t(ce))==null||ve.apply(this,ae)};var Ce=A($,2);ft(Ce);var tt=E(()=>M("s"));Ce.__input=function(...ae){var ve;(ve=t(tt))==null||ve.apply(this,ae)};var Le=A(Ce,2);ft(Le);var ie=E(()=>M("v"));Le.__input=function(...ae){var ve;(ve=t(ie))==null||ve.apply(this,ae)},X(()=>{Z($,"aria-label",e.texts.label.h),Ft($,t(d)),Z(Ce,"aria-label",e.texts.label.s),Ft(Ce,t(h)),Z(Le,"aria-label",e.texts.label.v),Ft(Le,t(y))}),S(R,z)};te(W,R=>{t(o)==="rgb"?R(re):R(O,!1)},!0)}S(x,k)};te(Ae,x=>{t(o)==="hex"?x(xe):x(we,!1)})}var et=A(Ae,2);{var Te=x=>{var k=ao();ft(k);var W=E(()=>t(o)==="hsv"?M("a"):T("a"));k.__input=function(...re){var O;(O=t(W))==null||O.apply(this,re)},X(()=>{Z(k,"aria-label",e.texts.label.a),Ft(k,t(C))}),S(x,k)};te(et,x=>{e.isAlpha&&x(Te)})}b(ne);var ke=A(ne,2);{var L=x=>{var k=lo();k.__click=[so,o,c];var W=p(k),re=p(W,!0);b(W);var O=A(W,2),R=p(O);b(O),b(k),X(()=>{_e(re,e.texts.color[t(o)]),_e(R,`${e.texts.changeTo??""} ${e.texts.color[t(c)]??""}`)}),S(x,k)},P=x=>{var k=oo(),W=p(k,!0);b(k),X(()=>_e(W,e.texts.color[t(o)])),S(x,k)};te(ke,x=>{e.textInputModes.length>1?x(L):x(P,!1)})}b(U),S(n,U),Ct()}Xn(["input","click"]);function Rr(n){n.preventDefault()}var fo=B('<label class="svelte-1d4f8vm"><div class="container svelte-1d4f8vm"><input type="color" aria-haspopup="dialog" class="svelte-1d4f8vm"/> <div class="alpha svelte-1d4f8vm"></div> <div class="color svelte-1d4f8vm"></div></div> </label>');function vo(n,e){St(e,!0);let r=g(e,"labelElement",15),i=g(e,"name",3,void 0);var a=fo();a.__click=[Rr],a.__mousedown=[Rr];var l=p(a),o=p(l);ft(o),o.__click=[Rr],o.__mousedown=[Rr];var c=A(o,4);let d;b(l);var h=A(l);b(a),ut(a,y=>r(y),()=>r()),X(y=>{Z(a,"dir",e.dir),Z(o,"name",i()),Ft(o,e.hex),d=vt(c,"",d,y),_e(h,` ${e.label??""}`),a.dir=a.dir},[()=>({background:e.hex})]),S(n,a),Ct()}Xn(["click","mousedown"]);var ho=B('<div aria-label="color picker"><!></div>');function go(n,e){St(e,!0);let r=g(e,"wrapper",15);var i=ho();let a;var l=p(i);wt(l,()=>e.children),b(i),ut(i,o=>r(o),()=>r()),X(o=>{a=Oe(i,1,"wrapper svelte-n509z7",null,a,o),Z(i,"role",e.isDialog?"dialog":void 0)},[()=>({"is-open":e.isOpen})]),S(n,i),Ct()}const fi={label:{h:"hue channel",s:"saturation channel",v:"brightness channel",r:"red channel",g:"green channel",b:"blue channel",a:"alpha channel",hex:"hex color",withoutColor:"without color"},color:{rgb:"rgb",hsv:"hsv",hex:"hex"},changeTo:"change to "},Sa="a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function mo(n){return function(e){if(e.target===window)return;const r=e.target;if(!n.contains(r))return;const i=n.querySelectorAll(Sa),a=i[0],l=i[i.length-1];function o(d){return d.code==="Tab"&&!d.shiftKey}function c(d){return d.code==="Tab"&&d.shiftKey}o(e)&&e.target===l?(e.preventDefault(),a.focus()):c(e)&&e.target===a&&(e.preventDefault(),l.focus())}}const _o=n=>{const e=n.querySelector(Sa);e&&e.focus();const r=mo(n);return document.addEventListener("keydown",r),{destroy(){document.removeEventListener("keydown",r)}}};var bo=B('<label class="nullability-checkbox svelte-9ns7ai"><div class="svelte-9ns7ai"><input type="checkbox" class="svelte-9ns7ai"/> <span class="svelte-9ns7ai"></span></div> </label>');function po(n,e){St(e,!0);let r=g(e,"isUndefined",15);var i=bo(),a=p(i),l=p(a);ft(l),Br(2),b(a);var o=A(a);b(i),X(()=>_e(o,` ${e.texts.label.withoutColor??""}`)),ks(l,r),S(n,i),Ct()}var yo=B('<input type="hidden"/>'),xo=B('<div class="a svelte-1nlmqx9"><!></div>'),wo=B('<!> <!> <div class="h svelte-1nlmqx9"><!></div> <!> <!> <!>',1),ko=B("<span><!> <!></span>");function Io(n,e){St(e,!0);let r=g(e,"components",19,()=>({})),i=g(e,"label",3,"Choose a color"),a=g(e,"name",3,void 0),l=g(e,"nullable",3,!1),o=g(e,"rgb",31,()=>He(l()?null:{r:255,g:0,b:0,a:1})),c=g(e,"hsv",31,()=>He(l()?null:{h:0,s:100,v:100,a:1})),d=g(e,"hex",31,()=>He(l()?null:"#ff0000")),h=g(e,"color",15,null),y=g(e,"isDark",15,!1),C=g(e,"isAlpha",3,!0),T=g(e,"isDialog",3,!0),M=g(e,"isOpen",31,()=>!T()),U=g(e,"position",3,"responsive"),ne=g(e,"dir",3,"ltr"),Ae=g(e,"isTextInput",3,!0),xe=g(e,"textInputModes",19,()=>["hex","rgb","hsv"]),we=g(e,"sliderDirection",3,"vertical"),et=g(e,"disableCloseClickOutside",3,!1),Te=g(e,"a11yColors",19,()=>[{bgHex:"#ffffff"}]),ke=g(e,"a11yLevel",3,"AA"),L=g(e,"texts",3,void 0),P=g(e,"a11yTexts",3,void 0),x=D(He({r:255,g:0,b:0,a:1})),k=D(He({h:0,s:100,v:100,a:1})),W=D("#ff0000"),re=D(!1),O=D(He(t(re))),R=D(void 0),z=D(void 0),$=D(void 0),ce,Ce=D(1080),tt=D(720);const Le=12,ie={pickerIndicator:eo,textInput:co,input:vo,nullabilityCheckbox:po,wrapper:go};function ae(){return{...ie,...r()}}function ve(){var Y,K,J;return{label:{...fi.label,...(Y=L())==null?void 0:Y.label},color:{...fi.color,...(K=L())==null?void 0:K.color},changeTo:((J=L())==null?void 0:J.changeTo)??fi.changeTo}}function Yn({target:Y}){var K,J,gt;T()&&((K=t(z))!=null&&K.contains(Y)||(J=t(z))!=null&&J.isSameNode(Y)?M(!M()):M()&&!((gt=t($))!=null&&gt.contains(Y))&&!et()&&M(!1))}function Ln({key:Y,target:K}){var J;!T()||!t(z)||!t(R)||(Y==="Enter"&&t(z).contains(K)?(M(!M()),setTimeout(()=>{t($)&&(ce=_o(t($)))})):Y==="Escape"&&M()&&(M(!1),t(R).contains(K)&&((J=t(z))==null||J.focus(),ce==null||ce.destroy())))}function nt(){return!(c()&&o()&&c().h===t(k).h&&c().s===t(k).s&&c().v===t(k).v&&c().a===t(k).a&&o().r===t(x).r&&o().g===t(x).g&&o().b===t(x).b&&o().a===t(x).a&&d()===t(W))}function Nn(){var Y,K,J,gt,Ve,ot;if(t(re)&&!t(O)){v(O,!0),c(null),o(null),d(null),(Y=e.onInput)==null||Y.call(e,{color:h(),hsv:c(),rgb:o(),hex:d()});return}else if(t(O)&&!t(re)){v(O,!1),c(Bt(t(k))),o(Bt(t(x))),d(Bt(t(W))),(K=e.onInput)==null||K.call(e,{color:h(),hsv:c(),rgb:o(),hex:d()});return}else if(!c()&&!o()&&!d()){v(re,v(O,!0),!0),(J=e.onInput)==null||J.call(e,{color:null,hsv:c(),rgb:o(),hex:d()});return}else if(!nt())return;v(re,!1),c()&&c().a===void 0&&c({...c(),a:1}),t(k).a===void 0&&v(k,{...t(k),a:1},!0),o()&&o().a===void 0&&o({...o(),a:1}),t(x).a===void 0&&v(x,{...t(x),a:1},!0),((gt=d())==null?void 0:gt.substring(7))==="ff"&&d(d().substring(0,7)),((Ve=t(W))==null?void 0:Ve.substring(7))==="ff"&&v(W,t(W).substring(0,7),!0),c()&&(c().h!==t(k).h||c().s!==t(k).s||c().v!==t(k).v||c().a!==t(k).a||!o()&&!d())?(h(kt(c())),o(h().toRgb()),d(h().toHex())):o()&&(o().r!==t(x).r||o().g!==t(x).g||o().b!==t(x).b||o().a!==t(x).a||!c()&&!d())?(h(kt(o())),d(h().toHex()),c(h().toHsv())):d()&&(d()!==t(W)||!c()&&!o())&&(h(kt(d())),o(h().toRgb()),c(h().toHsv())),h()&&y(h().isDark()),!(!d()||!c()||!o())&&(v(k,Bt(c()),!0),v(x,Bt(o()),!0),v(W,d(),!0),v(O,t(re),!0),(ot=e.onInput)==null||ot.call(e,{color:h(),hsv:c(),rgb:o(),hex:d()}))}It(()=>{(c()||o()||d())&&Nn()}),It(()=>{t(re),Nn()});function Ke(Y){return K=>{c()||(v(re,!1),v(O,!1),c(Bt(t(k)))),c({...c(),[Y]:K})}}function Qn(Y){return K=>{c()||(v(re,!1),v(O,!1),c(Bt(t(k)))),c({...c(),...Object.fromEntries(Y.map(J=>[J,K[J]]))})}}async function ht(){if(await Tt(),U()==="fixed"||!M()||!T()||!t(z)||!t($))return;const Y=t($).getBoundingClientRect(),K=t(z).getBoundingClientRect();if((U()==="responsive"||U()==="responsive-y")&&(K.top+Y.height+Le>t(tt)?t($).style.top=`-${Y.height+Le}px`:t($).style.top=`${K.height+Le}px`),U()==="responsive"||U()==="responsive-x")if(ne()==="rtl"){const J=K.left+K.width-Y.width<0;console.log(J,K.left-Y.width,K.left,Y.width),J?t($).style.left="0px":t($).style.left=`${K.width-Y.width}px`}else K.left+Y.width>t(Ce)?t($).style.left=`${K.width-Y.width}px`:t($).style.left="0px"}It(()=>{t(Ce)&&t(tt)&&M()&&ht()});const Mt=E(ae);var jt=ko();$e("mousedown",Dn,Yn),$e("keyup",Dn,Ln),$e("scroll",Dn,ht);var _n=p(jt);{var Jn=Y=>{var K=We(),J=Se(K);Kn(J,()=>t(Mt).input,(gt,Ve)=>{Ve(gt,{get hex(){return d()},get label(){return i()},get name(){return a()},get dir(){return ne()},get labelElement(){return t(z)},set labelElement(ot){v(z,ot,!0)}})}),S(Y,K)},be=Y=>{var K=We(),J=Se(K);{var gt=Ve=>{var ot=yo();ft(ot),X(()=>{Ft(ot,d()),Z(ot,"name",a())}),S(Ve,ot)};te(J,Ve=>{a()&&Ve(gt)},!0)}S(Y,K)};te(_n,Y=>{T()?Y(Jn):Y(be,!1)})}var $t=A(_n,2);Kn($t,()=>t(Mt).wrapper,(Y,K)=>{K(Y,{get isOpen(){return M()},get isDialog(){return T()},get wrapper(){return t($)},set wrapper(J){v($,J,!0)},children:(J,gt)=>{var Ve=wo(),ot=Se(Ve);{var Rn=Fe=>{var Ne=We(),Xe=Se(Ne);{let qe=E(ve);Kn(Xe,()=>t(Mt).nullabilityCheckbox,(rt,it)=>{it(rt,{get texts(){return t(qe)},get isUndefined(){return t(re)},set isUndefined(De){v(re,De,!0)}})})}S(Fe,Ne)};te(ot,Fe=>{l()&&Fe(Rn)})}var en=A(ot,2);{let Fe=E(ae),Ne=E(()=>{var De;return((De=c())==null?void 0:De.h)??t(k).h}),Xe=E(()=>{var De;return((De=c())==null?void 0:De.s)??t(k).s}),qe=E(()=>{var De;return((De=c())==null?void 0:De.v)??t(k).v}),rt=E(()=>Qn(["s","v"])),it=E(ve);Zl(en,{get components(){return t(Fe)},get h(){return t(Ne)},get s(){return t(Xe)},get v(){return t(qe)},get onInput(){return t(rt)},get isDark(){return y()},get texts(){return t(it)}})}var qt=A(en,2),Zn=p(qt);{let Fe=E(()=>{var qe;return((qe=c())==null?void 0:qe.h)??t(k).h}),Ne=E(()=>Ke("h")),Xe=E(()=>we()==="vertical");jr(Zn,{min:0,max:360,step:1,get value(){return t(Fe)},get onInput(){return t(Ne)},get direction(){return we()},get reverse(){return t(Xe)},get ariaLabel(){return ve().label.h}})}b(qt);var Ot=A(qt,2);{var bn=Fe=>{var Ne=xo();let Xe;var qe=p(Ne);{let rt=E(()=>{var Gt;return((Gt=c())==null?void 0:Gt.a)??t(k).a}),it=E(()=>Ke("a")),De=E(()=>we()==="vertical");jr(qe,{min:0,max:1,step:.01,get value(){return t(rt)},get onInput(){return t(it)},get direction(){return we()},get reverse(){return t(De)},get ariaLabel(){return ve().label.a}})}b(Ne),X(rt=>Xe=vt(Ne,"",Xe,rt),[()=>({"--alphaless-color":(d()?d():t(W)).substring(0,7)})]),S(Fe,Ne)};te(Ot,Fe=>{C()&&Fe(bn)})}var tn=A(Ot,2);{var $n=Fe=>{var Ne=We(),Xe=Se(Ne);{let qe=E(()=>d()??t(W)),rt=E(()=>o()??t(x)),it=E(()=>c()??t(k)),De=E(ve);Kn(Xe,()=>t(Mt).textInput,(Gt,pn)=>{pn(Gt,{get hex(){return t(qe)},get rgb(){return t(rt)},get hsv(){return t(it)},onInput:ct=>{ct.hsv?c(ct.hsv):ct.rgb?o(ct.rgb):ct.hex&&d(ct.hex)},get isAlpha(){return C()},get textInputModes(){return xe()},get texts(){return t(De)}})})}S(Fe,Ne)};te(tn,Fe=>{Ae()&&Fe($n)})}var er=A(tn,2);{var tr=Fe=>{var Ne=We(),Xe=Se(Ne);{let qe=E(ae),rt=E(()=>d()||"#00000000");Kn(Xe,()=>t(Mt).a11yNotice,(it,De)=>{De(it,{get components(){return t(qe)},get a11yColors(){return Te()},get hex(){return t(rt)},get a11yTexts(){return P()},get a11yLevel(){return ke()}})})}S(Fe,Ne)};te(er,Fe=>{ae().a11yNotice&&Fe(tr)})}S(J,Ve)},$$slots:{default:!0}})}),b(jt),ut(jt,Y=>v(R,Y),()=>t(R)),X(()=>Oe(jt,1,`color-picker ${we()??""}`,"svelte-1nlmqx9")),Yi("innerWidth",Y=>v(Ce,Y,!0)),Yi("innerHeight",Y=>v(tt,Y,!0)),S(n,jt),Ct()}var So=B('<label class="btn inline-flex items-center gap-1 cursor-pointer select-none"><span class="material-symbols-outlined">colors</span> <input type="hidden"/></label>');function Co(n,e){St(e,!0);let r=g(e,"labelElement",15),i=g(e,"name",3,void 0);var a=So(),l=A(p(a),2);ft(l),b(a),ut(a,o=>r(o),()=>r()),X(()=>{Z(a,"aria-label",e.label),Z(a,"dir",e.dir),Z(a,"title",e.label),Z(l,"name",i()),Ft(l,e.hex??""),a.dir=a.dir}),S(n,a),Ct()}var Eo=B('<div aria-label="color picker"><!></div>');function Ao(n,e){St(e,!0);let r=g(e,"wrapper",15);var i=Eo(),a=p(i);wt(a,()=>e.children),b(i),ut(i,l=>r(l),()=>r()),X(()=>{Z(i,"role",e.isDialog?"dialog":void 0),Oe(i,1,`w-max rounded border p-2  overflow-visible
          ${e.isOpen?"inline-block":"hidden"}
          ${e.isDialog?"absolute -mt-2.5 -ml-0.5 z-20":"relative"}
          bg-[var(--cp-bg-color)] border-[var(--cp-border-color,black)]`)}),S(n,i),Ct()}function va(n,e,r,i){if(!t(e).show)return;r();const{x:a,y:l}=i(n.clientX,n.clientY);v(e,{...t(e),x:a,y:l},!0)}function To(n,e){e("/")}function Fo(n,e,r,i){const a=_a(t(e)||t(r));i(a)}function Do(n,e,r,i,a){t(e)>0&&(v(e,t(e)-1),r(t(i)[t(e)]),a(t(i)[t(e)]))}function Mo(n,e,r,i,a){t(e)<t(r).length-1&&(v(e,t(e)+1),i(t(r)[t(e)]),a(t(r)[t(e)]))}function Oo(n,e,r,i){n.key==="Enter"&&e(t(r)||t(i))}var Lo=(n,e)=>v(e,!t(e)),No=(n,e)=>e("disk"),Ro=(n,e)=>e("count"),Ho=B(`<div class="flex flex-col divide-y divide-gray-500 absolute w-36 rounded border
           border-gray-500 bg-gray-800 shadow-lg z-20 overflow-hidden mt-0.5"><button class="w-full text-left px-3 py-2 hover:bg-gray-700 text-nowrap">By Disk Usage</button> <button class="w-full text-left px-3 py-2 hover:bg-gray-700">By Total Files</button></div>`),Po=(n,e)=>v(e,!t(e)),zo=(n,e)=>e(-1),Bo=(n,e)=>e(0),Uo=(n,e)=>e(1),jo=(n,e)=>e(2),qo=B(`<div class="flex flex-col divide-y divide-gray-500 absolute w-48 rounded border
           border-gray-500 bg-gray-800 shadow-lg z-20 overflow-hidden mt-0.5"><button class="w-full text-left px-3 py-2 hover:bg-gray-700">Any Time</button> <button class="w-full text-left px-3 py-2 hover:bg-gray-700">Recent (2 months)</button> <button class="w-full text-left px-3 py-2 hover:bg-gray-700">Not too old (2 years)</button> <button class="w-full text-left px-3 py-2 hover:bg-gray-700">Old files</button></div>`),Go=B('<button class="btn"><div class="flex items-center"><span class="material-symbols-outlined">colors</span></div></button>'),Wo=(n,e)=>e(n),Ko=B('<div class="h-full transition-all duration-300 min-w-[0.5px] hover:opacity-90"></div>'),Vo=B('<div class="relative p-3 bg-gray-800 border border-gray-500 rounded-lg animate-pulse min-h-16 h-16"><div class="flex items-center justify-between gap-4"><div class="h-4 bg-gray-700 rounded w-3/4"></div> <div class="h-3 bg-gray-700 rounded w-12"></div></div> <div class="flex gap-2 mt-2"><div class="h-3 bg-gray-700 rounded w-16"></div> <div class="h-3 bg-gray-700 rounded w-20"></div> <div class="h-3 bg-gray-700 rounded w-24"></div></div></div>'),Xo=B('<div class="flex flex-col gap-2 overflow-y-auto"></div>'),Yo=(n,e,r)=>e(t(r).path),Qo=B('<div class="h-full transition-all duration-300 min-w-[0.5px] hover:opacity-90"></div>'),Jo=B('<div class="relative px-2 py-1 cursor-pointer hover:opacity-95 bg-gray-700 border border-gray-500 rounded-lg overflow-hidden min-h-16"><div class="absolute left-0 top-0 bottom-0 flex z-0"></div> <div class="relative flex flex-col gap-2 z-10 pointer-events-none"><div class="flex items-center justify-between gap-4"><div class="w-full overflow-hidden text-ellipsis whitespace-nowrap"><div> </div></div> <span class="text-nowrap font-bold"> </span></div> <div class="flex justify-end"><p class="text-sm"> <!></p></div></div></div>'),Zo=(n,e)=>e(n),$o=B('<div class="flex"><span class="material-symbols-outlined text-4xl">subdirectory_arrow_right</span> <div class="relative flex grow px-2 py-1 bg-gray-700 border border-gray-500 rounded overflow-hidden text-xs"><div class="flex flex-col w-full"><div class="absolute left-0 top-0 bottom-0 z-0 opacity-60"></div> <div class="relative z-10 flex items-center justify-between gap-2"><div class="w-full overflow-hidden"><span class="cursor-pointer text-ellipsis text-nowrap"> </span></div> <div class="flex items-center gap-4 text-sm font-semibold text-nowrap"> </div></div> <div class="relative z-10 flex justify-between"><div> </div> <div> <!></div></div></div></div></div>'),eu=B('<div class="flex flex-col gap-2 overflow-y-auto transition-opacity duration-200 p-4"><!> <!></div>'),tu=B('<div class="fixed z-50 pointer-events-none"><div class="relative rounded-xl border border-white/10 bg-black/90 text-white shadow-xl px-3 py-2"><div class="flex items-center justify-center"><div class="font-medium text-sm truncate max-w-[180px]"> </div></div> <div class="flex gap-2 items-center justify-between text-xs opacity-90"><div class="text-nowrap"> </div> <div> </div></div> <div class="absolute left-1/2 top-full -translate-x-1/2 mt-[-4px]"><div class="w-2 h-2 rotate-45 bg-black/90 border border-white/10 border-l-0 border-t-0"></div></div></div></div>'),nu=B("<div>Path copied!</div>"),ru=B('<div class="flex flex-col h-screen min-h-0 gap-2 p-2"><div class="flex gap-2 items-center relative select-none"><button class="btn" title="Go to Root Folder"><div class="flex items-center"><span class="material-symbols-outlined">home</span></div></button> <button class="btn" title="Go Back"><div class="flex items-center"><span class="material-symbols-outlined">arrow_back</span></div></button> <button class="btn" title="Go Forward"><div class="flex items-center"><span class="material-symbols-outlined">arrow_forward</span></div></button> <button class="btn" title="Go Up"><div class="flex items-center"><span class="material-symbols-outlined">arrow_upward</span></div></button> <div class="relative"><button class="btn w-36"><div class="flex items-center gap-2"><span class="material-symbols-outlined">sort</span> </div></button> <!></div> <div class="relative"><button class="btn w-36"><div class="flex items-center gap-2"><span class="material-symbols-outlined">schedule</span> </div></button> <!></div> <!> <!></div> <div class="flex"><input placeholder="Path..." class="w-full truncate text-left cursor-pointer" autocorrect="off" spellcheck="false" autocomplete="off" autocapitalize="none"/></div> <div class="relative px-2 bg-gray-700 border border-gray-500 rounded text-sm p-1"><div class="absolute left-0 top-0 bottom-0 z-0" style="width: 100%"></div> <div class="relative z-10 pointer-events-none"><div class="flex items-center justify-end"> </div></div></div> <!> <div class="grow"></div></div> <!> <!>',1);function fu(n,e){St(e,!0);let r=[],i=D("/"),a=D("/"),l=D(He([])),o=D(He([])),c=D(!1),d=D(He(["/"])),h=D(0),y=D("disk"),C=D(!1),T=D("All Users"),M=D("#353599"),U=D(He([])),ne=He(new gi),Ae=D(He([])),xe=D(void 0),we=D(!1);function et(u,_,m){const F="width:16px;height:16px;border:1px solid gray;border-radius:3px;flex:none;",N=Dr[0],q=Dr[1]??N,le=Dr[2]??q,se=Dr[3]??le,G=u.user==="All Users"?`linear-gradient(90deg, ${N} 0%, ${q} 33%, ${le} 66%, ${se} 100%)`:_?t(M):u.color,he=Vn.isAdmin?"":"text-gray-400";return`<div class="flex gap-2 items-center">
                <div class="border border-gray-500 rounded"
                    style="${F} background: ${G};">
                </div>
                <div class="${he}">${u.user}</div>              
            </div>`}gl("color",et);function Te(u){u.forEach((_,m)=>{ne.has(_)||ne.set(_,r[m%r.length])}),ne.set("All Users",""),v(Ae,Array.from(ne.entries()).map(([_,m])=>({user:_,color:m})),!0)}let ke=D(-1),L=D(!1);const P={"-1":"Any Time",0:"Recent",1:"Not too old",2:"Old files"};function x(u){return P[u]}function k(u){v(ke,u,!0),v(L,!1),qt()}let W=D(He({show:!1,x:0,y:0})),re=D(null);const O=8,R=10;function z(u,_){var Be,ge;const m=window.innerWidth,F=window.innerHeight,N=((Be=t(re))==null?void 0:Be.offsetWidth)??200,q=((ge=t(re))==null?void 0:ge.offsetHeight)??60,le=N/2,se=O+le,G=m-O-le,he=O+q+R,V=F-O;return{x:Math.min(G,Math.max(se,u)),y:Math.min(V,Math.max(he,_))}}function $(u,_,m){tt();const{x:F,y:N}=z(u.clientX,u.clientY);v(W,{show:!0,x:F,y:N,username:_.username,value:Mt(_),percent:Math.round(m*10)/10},!0)}function ce(){tt(),v(W,{show:!1,x:0,y:0},!0)}let Ce=D(null);function tt(){t(Ce)&&(clearTimeout(t(Ce)),v(Ce,null))}function Le(u,_){const m=_===-1?["0","1","2"]:[String(_)];return(u??[]).map(F=>{const N={};let q=0,le=0,se=0,G=0;const he=Object.entries(F.users??{});for(const[V,Be]of he){let ge=0,me=0,Ue=0,Ee=0;for(const mt of m){const Pe=Be==null?void 0:Be[mt];if(!Pe)continue;const dt=Number(Pe.count??0),oe=Number(Pe.disk??0),bt=Number(Pe.mtime??0),Nt=Number(Pe.mtime??0);ge+=Number.isFinite(dt)?dt:0,me+=Number.isFinite(oe)?oe:0,Number.isFinite(bt)&&bt>Ue&&(Ue=bt),Number.isFinite(Nt)&&Nt>Ee&&(Ee=Nt)}(ge||me)&&(N[V]={username:V,count:ge,disk:me,atime:Ue,mtime:Ee},q+=ge,le+=me,Ue>se&&(se=Ue),Ee>G&&(G=Ee))}return{path:F.path,total_count:q,total_disk:le,accessed:se,modified:G,users:N}}).filter(F=>Object.keys(F.users).length>0)}const ie=u=>{const _=Number(u);return Number.isFinite(_)?_:0},ae=E(()=>{const u=t(y);return(t(l)?[...t(l)]:[]).sort((m,F)=>{let N,q;switch(u){case"disk":N=ie(m==null?void 0:m.total_disk),q=ie(F==null?void 0:F.total_disk);break;case"count":N=ie(m==null?void 0:m.total_count),q=ie(F==null?void 0:F.total_count);break}return q-N})});let ve=E(()=>{var F;const u=t(y),_=((F=t(l))==null?void 0:F.map(N=>{switch(u){case"disk":return ie(N==null?void 0:N.total_disk);case"count":return ie(N==null?void 0:N.total_count)}}))??[],m=Math.max(0,..._);return m>0?m:1});const Yn=u=>{const m=ie(u)/t(ve)*100,F=Math.max(0,Math.min(100,m));return Math.round(F*10)/10},Ln=u=>{switch(u){case"disk":return"Disk Usage";case"count":return"Total Files";default:return"Disk Usage"}};function nt(u,_){let m=typeof _=="function"?_:_==null?void 0:_.close;const F=q=>{u.contains(q.target)||m==null||m()},N=q=>{(q.key==="Escape"||q.key==="Esc")&&(m==null||m())};return document.addEventListener("pointerdown",F,!0),document.addEventListener("keydown",N,!0),{update(q){m=typeof q=="function"?q:q==null?void 0:q.close},destroy(){document.removeEventListener("pointerdown",F,!0),document.removeEventListener("keydown",N,!0)}}}const Nn=u=>{switch(t(y)){case"disk":return ie(u==null?void 0:u.total_disk);case"count":return ie(u==null?void 0:u.total_count)}};function Ke(u){switch(t(y)){case"disk":return fr(ie(u==null?void 0:u.total_disk));case"count":return`${Fr(ie(u==null?void 0:u.total_count))} Files`}}function Qn(u){switch(t(y)){case"disk":return`${Fr(ie(u==null?void 0:u.total_count))} Files`;case"count":return fr(ie(u==null?void 0:u.total_disk))}}function ht(u){switch(t(y)){case"disk":return fr(ie(u.size));case"count":return"1"}}function Mt(u){switch(t(y)){case"disk":return fr(ie(u==null?void 0:u.disk));case"count":return Fr(ie(u==null?void 0:u.count))}}const jt=u=>t(y)==="disk"?Number(u.disk):Number(u.count);function _n(u){return Object.entries((u==null?void 0:u.users)??{}).sort(([,_],[,m])=>jt(_)-jt(m))}function Jn(u,_,m){let F=0,N=0,q=0,le=0;const se={};for(const G of u??[]){F+=ie(G==null?void 0:G.total_count),N+=ie(G==null?void 0:G.total_disk),G.accessed>q&&(q=G.accessed),G.modified>le&&(le=G.modified);const he=(G==null?void 0:G.users)??{};for(const[V,Be]of Object.entries(he)){const ge=Be,me=se[V]??{count:0,disk:0,atime:0,mtime:0};se[V]={username:V,count:me.count+ie(ge.count),disk:me.disk+ie(ge.disk),atime:Math.max(me.atime,ie(ge.atime)),mtime:Math.max(me.mtime,ie(ge.mtime))}}}for(const G of _??[]){F+=1,N+=ie(G==null?void 0:G.size),G.accessed>q&&(q=G.accessed),G.modified>le&&(le=G.modified);const he=G.owner;if(he){const V=se[he]??{count:0,disk:0,atime:0,mtime:0};se[he]={username:he,count:V.count+1,disk:V.disk+ie(G.size),atime:Math.max(V.atime,ie(G.accessed)),mtime:Math.max(V.mtime,ie(G.modified))}}}return{path:m,total_count:F,total_disk:N,accessed:q,modified:le,users:se}}const be=E(()=>Jn(t(l),t(o),t(i)));function $t(u){switch(t(y)){case"disk":return ie(u.size);case"count":return 1}}const Y=E(()=>(t(o)?[...t(o)]:[]).sort((_,m)=>$t(m)-$t(_))),K=E(()=>{const u=t(y)==="disk"?t(be).total_disk:t(be).total_count;return u>0?u:1}),J=u=>Math.round($t(u)/t(K)*1e3)/10;function gt(u){let _=!1,m=null;return async(...F)=>{if(m=F,!_){_=!0;try{for(;m;){const N=m;m=null,await u(...N)}}finally{_=!1}}}}const Ve=gt(async u=>{v(c,!0);try{const _=t(T)==="All Users"?[]:[t(T)],m=await ii.getFolders(u,_,t(ke));v(l,Le(m,t(ke)),!0),v(o,await ii.getFiles(u,_,t(ke)),!0)}finally{v(c,!1)}});function ot(u){t(d)[t(h)]!==u&&(v(d,t(d).slice(0,t(h)+1),!0),t(d).push(u),v(h,t(d).length-1))}function Rn(u){v(y,u,!0),v(C,!1)}function en(u){bn(u),ot(t(a)||t(i)),Ve(t(a)||t(i))}function qt(){Ve(t(a)||t(i))}function Zn(){console.log("selected user:",t(T)),v(M,ne.get(t(T))??"#000000",!0),qt()}let Ot=D(!1);function bn(u){const _=tr(u);v(a,_,!0),t(we)?v(i,_,!0):v(i,tn(_),!0)}function tn(u,_=50){if(!u||u.length<=_)return u;const m=u.split("/");let F=m[m.length-1];for(let N=m.length-2;N>=0;N--){const q=m[N]+"/"+F;if(("..."+q).length>_)break;F=q}return"..."+F}function $n(){v(we,!0),t(a)&&v(i,t(a),!0)}function er(){v(we,!1),t(i)&&!t(i).startsWith("...")&&v(a,t(i),!0),t(a)&&v(i,tn(t(a)),!0)}function tr(u){if(!u)return"/";let _=u.replace(/\\/g,"/");return _!=="/"&&(_=_.replace(/\/+$/,"")),_.startsWith("/")||(_="/"+_),_||"/"}async function Fe(u){let _=u.currentTarget;try{const m=_.value!==void 0?_.value:_.textContent||_.innerText||"";await navigator.clipboard.writeText(m),Ne()}catch(m){console.error("Copy failed:",m)}}function Ne(){v(Ot,!0),setTimeout(()=>{v(Ot,!1)},2e3)}wi(async()=>{console.log("api url:",ga),v(U,await ii.getUsers(),!0),console.log("Users:",Bt(t(U))),r=Is(t(U).length),console.log("Colors:",r),Te(t(U)),Vn.isAdmin?v(T,"All Users"):v(T,Vn.username,!0),v(a,t(i),!0),v(i,tn(t(i)),!0),qt()});var Xe=ru(),qe=Se(Xe),rt=p(qe),it=p(rt);it.__click=[To,en];var De=A(it,2);De.__click=[Do,h,bn,d,Ve];var Gt=A(De,2);Gt.__click=[Mo,h,d,bn,Ve];var pn=A(Gt,2);pn.__click=[Fo,a,i,en];var ct=A(pn,2),Hn=p(ct);Hn.__click=[Lo,C];var yr=p(Hn),Wr=A(p(yr));b(yr),b(Hn);var Kr=A(Hn,2);{var nr=u=>{var _=Ho(),m=p(_);m.__click=[No,Rn];var F=A(m,2);F.__click=[Ro,Rn],b(_),S(u,_)};te(Kr,u=>{t(C)&&u(nr)})}b(ct),mr(ct,(u,_)=>nt==null?void 0:nt(u,_),()=>()=>v(C,!1));var cn=A(ct,2),yn=p(cn);yn.__click=[Po,L];var at=p(yn),rr=A(p(at));b(at),b(yn);var Pn=A(yn,2);{var Q=u=>{var _=qo(),m=p(_);m.__click=[zo,k];var F=A(m,2);F.__click=[Bo,k];var N=A(F,2);N.__click=[Uo,k];var q=A(N,2);q.__click=[jo,k],b(_),S(u,_)};te(Pn,u=>{t(L)&&u(Q)})}b(cn),mr(cn,(u,_)=>nt==null?void 0:nt(u,_),()=>()=>v(L,!1));var st=A(cn,2);{let u=E(()=>!Vn.isAdmin);Bl(st,{get disabled(){return t(u)},get options(){return t(Ae)},name:"user-select",valueField:"user",renderer:"color",highlightFirstItem:!1,onChange:Zn,closeAfterSelect:!0,deselectMode:"native",virtualList:!0,class:`z-20 min-w-40 h-10 border rounded
       border-gray-500 bg-gray-800 text-white`,get value(){return t(T)},set value(_){v(T,_,!0)}})}var Wt=A(st,2);{var lt=u=>{var _=Go();_.disabled=!0,S(u,_)},zn=u=>{{let _=E(()=>({input:Co,wrapper:Ao}));Io(u,{get components(){return t(_)},label:"Change User Color",onInput:m=>{ne.set(t(T),t(M)),v(Ae,Array.from(ne.entries()).map(([F,N])=>({user:F,color:N})),!0)},get hex(){return t(M)},set hex(m){v(M,m,!0)}})}};te(Wt,u=>{!t(T)||t(T)==="All Users"?u(lt):u(zn,!1)})}b(rt);var Et=A(rt,2),j=p(Et);ft(j),j.__keydown=[Oo,en,a,i],j.__click=[Wo,Fe],ut(j,u=>v(xe,u),()=>t(xe)),b(Et);var pe=A(Et,2),Lt=p(pe);un(Lt,21,()=>_n(t(be)),([u,_])=>u,(u,_)=>{var m=E(()=>Ki(t(_),2));let F=()=>t(m)[0],N=()=>t(m)[1];const q=E(()=>t(y)==="disk"?N().disk:N().count),le=E(()=>t(y)==="disk"?t(be).total_disk:t(be).total_count),se=E(()=>t(le)>0?t(q)/t(le)*100:0);var G=Ko();G.__mousemove=[va,W,tt,z],X((he,V)=>{vt(G,`width: ${t(se)??""}%; background-color: ${he??""};`),Z(G,"aria-label",V)},[()=>ne.get(F()),()=>`${N().username}: ${Mt(N())}`]),$e("mouseenter",G,he=>$(he,N(),t(se))),$e("mouseleave",G,ce),S(u,G)}),b(Lt);var Kt=A(Lt,2),nn=p(Kt),ir=p(nn);b(nn),b(Kt),b(pe);var Ye=A(pe,2);{var xn=u=>{var _=We(),m=Se(_);{var F=q=>{var le=Xo();un(le,20,()=>Array(6),hr,(se,G)=>{var he=Vo();S(se,he)}),b(le),S(q,le)},N=q=>{var le=eu(),se=p(le);un(se,17,()=>t(ae),hr,(he,V)=>{var Be=Jo();Be.__click=[Yo,en,V];var ge=p(Be);un(ge,21,()=>_n(t(V)),hr,(pt,Rt)=>{var Vt=E(()=>Ki(t(Rt),2));let kn=()=>t(Vt)[0],yt=()=>t(Vt)[1];const fn=E(()=>t(y)==="disk"?yt().disk:yt().count),Xt=E(()=>t(y)==="disk"?t(V).total_disk:t(V).total_count),In=E(()=>t(Xt)>0?t(fn)/t(Xt)*100:0);var Ge=Qo();Ge.__mousemove=[va,W,tt,z],X((sr,Sn)=>{vt(Ge,`width: ${t(In)??""}%; background-color: ${sr??""};`),Z(Ge,"aria-label",Sn)},[()=>ne.get(kn()),()=>`${yt().username}: ${Mt(yt())}`]),$e("mouseenter",Ge,sr=>$(sr,yt(),t(In))),$e("mouseleave",Ge,ce),S(pt,Ge)}),b(ge);var me=A(ge,2),Ue=p(me),Ee=p(Ue),mt=p(Ee),Pe=p(mt,!0);b(mt),b(Ee);var dt=A(Ee,2),oe=p(dt,!0);b(dt),b(Ue);var bt=A(Ue,2),Nt=p(bt),dn=p(Nt),wn=A(dn);{var Un=pt=>{var Rt=Vi();X(Vt=>_e(Rt,`• Last file read ${Vt??""}`),[()=>sn(t(V).accessed)]),S(pt,Rt)};te(wn,pt=>{sn(t(V).accessed)>sn(t(V).modified)&&pt(Un)})}b(Nt),b(bt),b(me),b(Be),X((pt,Rt,Vt,kn)=>{vt(ge,`width: ${pt??""}%`),_e(Pe,t(V).path),_e(oe,Rt),_e(dn,`${Vt??""}  
                • Updated ${kn??""} `)},[()=>Yn(Nn(t(V))),()=>Ke(t(V)),()=>Qn(t(V)),()=>sn(t(V).modified)]),S(he,Be)});var G=A(se,2);un(G,17,()=>t(Y),hr,(he,V)=>{const Be=E(()=>ne.get(t(V).owner));var ge=$o(),me=A(p(ge),2),Ue=p(me),Ee=p(Ue),mt=A(Ee,2),Pe=p(mt),dt=p(Pe);dt.__click=[Zo,Fe];var oe=p(dt,!0);b(dt),b(Pe);var bt=A(Pe,2),Nt=p(bt,!0);b(bt),b(mt);var dn=A(mt,2),wn=p(dn),Un=p(wn,!0);b(wn);var pt=A(wn,2),Rt=p(pt),Vt=A(Rt);{var kn=yt=>{var fn=Vi();X(Xt=>_e(fn,`• Read ${Xt??""}`),[()=>sn(t(V).accessed)]),S(yt,fn)};te(Vt,yt=>{sn(t(V).accessed)>sn(t(V).modified)&&yt(kn)})}b(pt),b(dn),b(Ue),b(me),b(ge),X((yt,fn,Xt)=>{vt(Ee,`width: ${yt??""}%; background-color: ${t(Be)??""};`),_e(oe,t(V).path),_e(Nt,fn),_e(Un,t(V).owner),_e(Rt,`Updated ${Xt??""} `)},[()=>J(t(V)),()=>ht(t(V)),()=>sn(t(V).modified)]),S(he,ge)}),b(le),S(q,le)};te(m,q=>{t(c)?q(F):q(N,!1)},!0)}S(u,_)};te(Ye,u=>{u(xn,!1)})}Br(2),b(qe);var de=A(qe,2);{var Bn=u=>{var _=tu(),m=p(_),F=p(m),N=p(F),q=p(N,!0);b(N),b(F);var le=A(F,2),se=p(le),G=p(se,!0);b(se);var he=A(se,2),V=p(he);b(he),b(le),Br(2),b(m),ut(m,Be=>v(re,Be),()=>t(re)),b(_),X(()=>{vt(_,`
      left: ${t(W).x??""}px;
      top: ${t(W).y??""}px;
      transform: translate(-50%, calc(-100% - 10px));
    `),_e(q,t(W).username),_e(G,t(W).value),_e(V,`${t(W).percent??""}%`)}),S(u,_)};te(de,u=>{t(W).show&&u(Bn)})}var ar=A(de,2);{var xr=u=>{var _=nu();let m;X(F=>m=Oe(_,1,`fixed top-1 inset-x-0 mx-auto w-max bg-emerald-600 text-white px-4 py-1 
      rounded-lg font-medium shadow-lg z-50 transform transition-transform duration-300 
      ease-[cubic-bezier(0.68,-0.55,0.265,1.55)]`,null,m,F),[()=>({"translate-x-full":!t(Ot),"translate-x-0":t(Ot)})]),S(u,_)};te(ar,u=>{t(Ot)&&u(xr)})}X((u,_,m,F,N,q)=>{it.disabled=t(h)===0||t(a)==="/",De.disabled=t(h)===0,Gt.disabled=t(h)>=t(d).length-1,pn.disabled=u,_e(Wr,` ${_??""}`),_e(rr,` ${m??""}`),j.disabled=t(c),_e(ir,`${F??""} Files 
            • Changed ${N??""} 
            • ${q??""}`)},[()=>_a(t(i))===t(i),()=>Ln(t(y)),()=>x(t(ke)),()=>Fr(t(be).total_count),()=>sn(t(be).modified),()=>fr(t(be).total_disk)]),$e("blur",j,er),$e("focus",j,$n),ma(j,()=>t(i),u=>v(i,u)),S(n,Xe),Ct()}Xn(["click","keydown","mousemove"]);export{fu as component};
//# sourceMappingURL=2.B_r-LaCA.js.map
